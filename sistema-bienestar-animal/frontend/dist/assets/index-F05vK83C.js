var t_=Object.defineProperty;var n_=(e,t,n)=>t in e?t_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pn=(e,t,n)=>n_(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.24
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Bp(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Fn={},nc=[],Ss=()=>{},y1=()=>!1,Id=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),jp=e=>e.startsWith("onUpdate:"),$o=Object.assign,zp=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},o_=Object.prototype.hasOwnProperty,Cn=(e,t)=>o_.call(e,t),Rt=Array.isArray,oc=e=>lu(e)==="[object Map]",mc=e=>lu(e)==="[object Set]",Ih=e=>lu(e)==="[object Date]",Gt=e=>typeof e=="function",Qn=e=>typeof e=="string",Ja=e=>typeof e=="symbol",Tn=e=>e!==null&&typeof e=="object",w1=e=>(Tn(e)||Gt(e))&&Gt(e.then)&&Gt(e.catch),x1=Object.prototype.toString,lu=e=>x1.call(e),i_=e=>lu(e).slice(8,-1),A1=e=>lu(e)==="[object Object]",Up=e=>Qn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,zc=Bp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Dd=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},a_=/-\w/g,_a=Dd(e=>e.replace(a_,t=>t.slice(1).toUpperCase())),s_=/\B([A-Z])/g,Fr=Dd(e=>e.replace(s_,"-$1").toLowerCase()),Rd=Dd(e=>e.charAt(0).toUpperCase()+e.slice(1)),vf=Dd(e=>e?`on${Rd(e)}`:""),Tr=(e,t)=>!Object.is(e,t),ed=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},S1=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},Od=e=>{const t=parseFloat(e);return isNaN(t)?e:t},r_=e=>{const t=Qn(e)?Number(e):NaN;return isNaN(t)?e:t};let Dh;const Md=()=>Dh||(Dh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wa(e){if(Rt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=Qn(i)?d_(i):Wa(i);if(s)for(const r in s)t[r]=s[r]}return t}else if(Qn(e)||Tn(e))return e}const l_=/;(?![^(]*\))/g,c_=/:([^]+)/,u_=/\/\*[^]*?\*\//g;function d_(e){const t={};return e.replace(u_,"").split(l_).forEach(n=>{if(n){const i=n.split(c_);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ot(e){let t="";if(Qn(e))t=e;else if(Rt(e))for(let n=0;n<e.length;n++){const i=ot(e[n]);i&&(t+=i+" ")}else if(Tn(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const f_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",p_=Bp(f_);function k1(e){return!!e||e===""}function h_(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=yl(e[i],t[i]);return n}function yl(e,t){if(e===t)return!0;let n=Ih(e),i=Ih(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Ja(e),i=Ja(t),n||i)return e===t;if(n=Rt(e),i=Rt(t),n||i)return n&&i?h_(e,t):!1;if(n=Tn(e),i=Tn(t),n||i){if(!n||!i)return!1;const s=Object.keys(e).length,r=Object.keys(t).length;if(s!==r)return!1;for(const l in e){const c=e.hasOwnProperty(l),d=t.hasOwnProperty(l);if(c&&!d||!c&&d||!yl(e[l],t[l]))return!1}}return String(e)===String(t)}function Vp(e,t){return e.findIndex(n=>yl(n,t))}const C1=e=>!!(e&&e.__v_isRef===!0),P=e=>Qn(e)?e:e==null?"":Rt(e)||Tn(e)&&(e.toString===x1||!Gt(e.toString))?C1(e)?P(e.value):JSON.stringify(e,E1,2):String(e),E1=(e,t)=>C1(t)?E1(e,t.value):oc(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,s],r)=>(n[gf(i,r)+" =>"]=s,n),{})}:mc(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>gf(n))}:Ja(t)?gf(t):Tn(t)&&!Rt(t)&&!A1(t)?String(t):t,gf=(e,t="")=>{var n;return Ja(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.24
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ei;class L1{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ei,!t&&ei&&(this.index=(ei.scopes||(ei.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ei;try{return ei=this,t()}finally{ei=n}}}on(){++this._on===1&&(this.prevScope=ei,ei=this)}off(){this._on>0&&--this._on===0&&(ei=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function N1(e){return new L1(e)}function P1(){return ei}function m_(e,t=!1){ei&&ei.cleanups.push(e)}let zn;const _f=new WeakSet;class $1{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ei&&ei.active&&ei.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,_f.has(this)&&(_f.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||I1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Rh(this),D1(this);const t=zn,n=Za;zn=this,Za=!0;try{return this.fn()}finally{R1(this),zn=t,Za=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Gp(t);this.deps=this.depsTail=void 0,Rh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?_f.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ip(this)&&this.run()}get dirty(){return ip(this)}}let T1=0,Uc,Vc;function I1(e,t=!1){if(e.flags|=8,t){e.next=Vc,Vc=e;return}e.next=Uc,Uc=e}function qp(){T1++}function Hp(){if(--T1>0)return;if(Vc){let t=Vc;for(Vc=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Uc;){let t=Uc;for(Uc=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function D1(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function R1(e){let t,n=e.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),Gp(i),v_(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}e.deps=t,e.depsTail=n}function ip(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(O1(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function O1(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Xc)||(e.globalVersion=Xc,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ip(e))))return;e.flags|=2;const t=e.dep,n=zn,i=Za;zn=e,Za=!0;try{D1(e);const s=e.fn(e._value);(t.version===0||Tr(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{zn=n,Za=i,R1(e),e.flags&=-3}}function Gp(e,t=!1){const{dep:n,prevSub:i,nextSub:s}=e;if(i&&(i.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Gp(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function v_(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Za=!0;const M1=[];function Js(){M1.push(Za),Za=!1}function Ys(){const e=M1.pop();Za=e===void 0?!0:e}function Rh(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=zn;zn=void 0;try{t()}finally{zn=n}}}let Xc=0;class g_{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Wp{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!zn||!Za||zn===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==zn)n=this.activeLink=new g_(zn,this),zn.deps?(n.prevDep=zn.depsTail,zn.depsTail.nextDep=n,zn.depsTail=n):zn.deps=zn.depsTail=n,F1(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=zn.depsTail,n.nextDep=void 0,zn.depsTail.nextDep=n,zn.depsTail=n,zn.deps===n&&(zn.deps=i)}return n}trigger(t){this.version++,Xc++,this.notify(t)}notify(t){qp();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Hp()}}}function F1(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)F1(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const gd=new WeakMap,vl=Symbol(""),ap=Symbol(""),Qc=Symbol("");function ti(e,t,n){if(Za&&zn){let i=gd.get(e);i||gd.set(e,i=new Map);let s=i.get(n);s||(i.set(n,s=new Wp),s.map=i,s.key=n),s.track()}}function Ws(e,t,n,i,s,r){const l=gd.get(e);if(!l){Xc++;return}const c=d=>{d&&d.trigger()};if(qp(),t==="clear")l.forEach(c);else{const d=Rt(e),p=d&&Up(n);if(d&&n==="length"){const f=Number(i);l.forEach((v,w)=>{(w==="length"||w===Qc||!Ja(w)&&w>=f)&&c(v)})}else switch((n!==void 0||l.has(void 0))&&c(l.get(n)),p&&c(l.get(Qc)),t){case"add":d?p&&c(l.get("length")):(c(l.get(vl)),oc(e)&&c(l.get(ap)));break;case"delete":d||(c(l.get(vl)),oc(e)&&c(l.get(ap)));break;case"set":oc(e)&&c(l.get(vl));break}}Hp()}function __(e,t){const n=gd.get(e);return n&&n.get(t)}function ql(e){const t=cn(e);return t===e?t:(ti(t,"iterate",Qc),ma(e)?t:t.map(zo))}function Fd(e){return ti(e=cn(e),"iterate",Qc),e}const b_={__proto__:null,[Symbol.iterator](){return bf(this,Symbol.iterator,zo)},concat(...e){return ql(this).concat(...e.map(t=>Rt(t)?ql(t):t))},entries(){return bf(this,"entries",e=>(e[1]=zo(e[1]),e))},every(e,t){return js(this,"every",e,t,void 0,arguments)},filter(e,t){return js(this,"filter",e,t,n=>n.map(zo),arguments)},find(e,t){return js(this,"find",e,t,zo,arguments)},findIndex(e,t){return js(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return js(this,"findLast",e,t,zo,arguments)},findLastIndex(e,t){return js(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return js(this,"forEach",e,t,void 0,arguments)},includes(...e){return yf(this,"includes",e)},indexOf(...e){return yf(this,"indexOf",e)},join(e){return ql(this).join(e)},lastIndexOf(...e){return yf(this,"lastIndexOf",e)},map(e,t){return js(this,"map",e,t,void 0,arguments)},pop(){return Ic(this,"pop")},push(...e){return Ic(this,"push",e)},reduce(e,...t){return Oh(this,"reduce",e,t)},reduceRight(e,...t){return Oh(this,"reduceRight",e,t)},shift(){return Ic(this,"shift")},some(e,t){return js(this,"some",e,t,void 0,arguments)},splice(...e){return Ic(this,"splice",e)},toReversed(){return ql(this).toReversed()},toSorted(e){return ql(this).toSorted(e)},toSpliced(...e){return ql(this).toSpliced(...e)},unshift(...e){return Ic(this,"unshift",e)},values(){return bf(this,"values",zo)}};function bf(e,t,n){const i=Fd(e),s=i[t]();return i!==e&&!ma(e)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.done||(r.value=n(r.value)),r}),s}const y_=Array.prototype;function js(e,t,n,i,s,r){const l=Fd(e),c=l!==e&&!ma(e),d=l[t];if(d!==y_[t]){const v=d.apply(e,r);return c?zo(v):v}let p=n;l!==e&&(c?p=function(v,w){return n.call(this,zo(v),w,e)}:n.length>2&&(p=function(v,w){return n.call(this,v,w,e)}));const f=d.call(l,p,i);return c&&s?s(f):f}function Oh(e,t,n,i){const s=Fd(e);let r=n;return s!==e&&(ma(e)?n.length>3&&(r=function(l,c,d){return n.call(this,l,c,d,e)}):r=function(l,c,d){return n.call(this,l,zo(c),d,e)}),s[t](r,...i)}function yf(e,t,n){const i=cn(e);ti(i,"iterate",Qc);const s=i[t](...n);return(s===-1||s===!1)&&Jp(n[0])?(n[0]=cn(n[0]),i[t](...n)):s}function Ic(e,t,n=[]){Js(),qp();const i=cn(e)[t].apply(e,n);return Hp(),Ys(),i}const w_=Bp("__proto__,__v_isRef,__isVue"),B1=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ja));function x_(e){Ja(e)||(e=String(e));const t=cn(this);return ti(t,"has",e),t.hasOwnProperty(e)}class j1{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?T_:q1:r?V1:U1).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const l=Rt(t);if(!s){let d;if(l&&(d=b_[n]))return d;if(n==="hasOwnProperty")return x_}const c=Reflect.get(t,n,_o(t)?t:i);if((Ja(n)?B1.has(n):w_(n))||(s||ti(t,"get",n),r))return c;if(_o(c)){const d=l&&Up(n)?c:c.value;return s&&Tn(d)?rp(d):d}return Tn(c)?s?rp(c):un(c):c}}class z1 extends j1{constructor(t=!1){super(!1,t)}set(t,n,i,s){let r=t[n];if(!this._isShallow){const d=Dr(r);if(!ma(i)&&!Dr(i)&&(r=cn(r),i=cn(i)),!Rt(t)&&_o(r)&&!_o(i))return d||(r.value=i),!0}const l=Rt(t)&&Up(n)?Number(n)<t.length:Cn(t,n),c=Reflect.set(t,n,i,_o(t)?t:s);return t===cn(s)&&(l?Tr(i,r)&&Ws(t,"set",n,i):Ws(t,"add",n,i)),c}deleteProperty(t,n){const i=Cn(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&i&&Ws(t,"delete",n,void 0),s}has(t,n){const i=Reflect.has(t,n);return(!Ja(n)||!B1.has(n))&&ti(t,"has",n),i}ownKeys(t){return ti(t,"iterate",Rt(t)?"length":vl),Reflect.ownKeys(t)}}class A_ extends j1{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const S_=new z1,k_=new A_,C_=new z1(!0);const sp=e=>e,Mu=e=>Reflect.getPrototypeOf(e);function E_(e,t,n){return function(...i){const s=this.__v_raw,r=cn(s),l=oc(r),c=e==="entries"||e===Symbol.iterator&&l,d=e==="keys"&&l,p=s[e](...i),f=n?sp:t?_d:zo;return!t&&ti(r,"iterate",d?ap:vl),{next(){const{value:v,done:w}=p.next();return w?{value:v,done:w}:{value:c?[f(v[0]),f(v[1])]:f(v),done:w}},[Symbol.iterator](){return this}}}}function Fu(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function L_(e,t){const n={get(s){const r=this.__v_raw,l=cn(r),c=cn(s);e||(Tr(s,c)&&ti(l,"get",s),ti(l,"get",c));const{has:d}=Mu(l),p=t?sp:e?_d:zo;if(d.call(l,s))return p(r.get(s));if(d.call(l,c))return p(r.get(c));r!==l&&r.get(s)},get size(){const s=this.__v_raw;return!e&&ti(cn(s),"iterate",vl),s.size},has(s){const r=this.__v_raw,l=cn(r),c=cn(s);return e||(Tr(s,c)&&ti(l,"has",s),ti(l,"has",c)),s===c?r.has(s):r.has(s)||r.has(c)},forEach(s,r){const l=this,c=l.__v_raw,d=cn(c),p=t?sp:e?_d:zo;return!e&&ti(d,"iterate",vl),c.forEach((f,v)=>s.call(r,p(f),p(v),l))}};return $o(n,e?{add:Fu("add"),set:Fu("set"),delete:Fu("delete"),clear:Fu("clear")}:{add(s){!t&&!ma(s)&&!Dr(s)&&(s=cn(s));const r=cn(this);return Mu(r).has.call(r,s)||(r.add(s),Ws(r,"add",s,s)),this},set(s,r){!t&&!ma(r)&&!Dr(r)&&(r=cn(r));const l=cn(this),{has:c,get:d}=Mu(l);let p=c.call(l,s);p||(s=cn(s),p=c.call(l,s));const f=d.call(l,s);return l.set(s,r),p?Tr(r,f)&&Ws(l,"set",s,r):Ws(l,"add",s,r),this},delete(s){const r=cn(this),{has:l,get:c}=Mu(r);let d=l.call(r,s);d||(s=cn(s),d=l.call(r,s)),c&&c.call(r,s);const p=r.delete(s);return d&&Ws(r,"delete",s,void 0),p},clear(){const s=cn(this),r=s.size!==0,l=s.clear();return r&&Ws(s,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=E_(s,e,t)}),n}function Zp(e,t){const n=L_(e,t);return(i,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?i:Reflect.get(Cn(n,s)&&s in i?n:i,s,r)}const N_={get:Zp(!1,!1)},P_={get:Zp(!1,!0)},$_={get:Zp(!0,!1)};const U1=new WeakMap,V1=new WeakMap,q1=new WeakMap,T_=new WeakMap;function I_(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function D_(e){return e.__v_skip||!Object.isExtensible(e)?0:I_(i_(e))}function un(e){return Dr(e)?e:Kp(e,!1,S_,N_,U1)}function H1(e){return Kp(e,!1,C_,P_,V1)}function rp(e){return Kp(e,!0,k_,$_,q1)}function Kp(e,t,n,i,s){if(!Tn(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=D_(e);if(r===0)return e;const l=s.get(e);if(l)return l;const c=new Proxy(e,r===2?i:n);return s.set(e,c),c}function Ir(e){return Dr(e)?Ir(e.__v_raw):!!(e&&e.__v_isReactive)}function Dr(e){return!!(e&&e.__v_isReadonly)}function ma(e){return!!(e&&e.__v_isShallow)}function Jp(e){return e?!!e.__v_raw:!1}function cn(e){const t=e&&e.__v_raw;return t?cn(t):e}function Yp(e){return!Cn(e,"__v_skip")&&Object.isExtensible(e)&&S1(e,"__v_skip",!0),e}const zo=e=>Tn(e)?un(e):e,_d=e=>Tn(e)?rp(e):e;function _o(e){return e?e.__v_isRef===!0:!1}function ve(e){return G1(e,!1)}function R_(e){return G1(e,!0)}function G1(e,t){return _o(e)?e:new O_(e,t)}class O_{constructor(t,n){this.dep=new Wp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:cn(t),this._value=n?t:zo(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||ma(t)||Dr(t);t=i?t:cn(t),Tr(t,n)&&(this._rawValue=t,this._value=i?t:zo(t),this.dep.trigger())}}function Ka(e){return _o(e)?e.value:e}const M_={get:(e,t,n)=>t==="__v_raw"?e:Ka(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const s=e[t];return _o(s)&&!_o(n)?(s.value=n,!0):Reflect.set(e,t,n,i)}};function W1(e){return Ir(e)?e:new Proxy(e,M_)}function F_(e){const t=Rt(e)?new Array(e.length):{};for(const n in e)t[n]=j_(e,n);return t}class B_{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return __(cn(this._object),this._key)}}function j_(e,t,n){const i=e[t];return _o(i)?i:new B_(e,t,n)}class z_{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Wp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Xc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&zn!==this)return I1(this,!0),!0}get value(){const t=this.dep.track();return O1(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function U_(e,t,n=!1){let i,s;return Gt(e)?i=e:(i=e.get,s=e.set),new z_(i,s,n)}const Bu={},bd=new WeakMap;let ul;function V_(e,t=!1,n=ul){if(n){let i=bd.get(n);i||bd.set(n,i=[]),i.push(e)}}function q_(e,t,n=Fn){const{immediate:i,deep:s,once:r,scheduler:l,augmentJob:c,call:d}=n,p=j=>s?j:ma(j)||s===!1||s===0?Zs(j,1):Zs(j);let f,v,w,m,y=!1,A=!1;if(_o(e)?(v=()=>e.value,y=ma(e)):Ir(e)?(v=()=>p(e),y=!0):Rt(e)?(A=!0,y=e.some(j=>Ir(j)||ma(j)),v=()=>e.map(j=>{if(_o(j))return j.value;if(Ir(j))return p(j);if(Gt(j))return d?d(j,2):j()})):Gt(e)?t?v=d?()=>d(e,2):e:v=()=>{if(w){Js();try{w()}finally{Ys()}}const j=ul;ul=f;try{return d?d(e,3,[m]):e(m)}finally{ul=j}}:v=Ss,t&&s){const j=v,K=s===!0?1/0:s;v=()=>Zs(j(),K)}const N=P1(),k=()=>{f.stop(),N&&N.active&&zp(N.effects,f)};if(r&&t){const j=t;t=(...K)=>{j(...K),k()}}let T=A?new Array(e.length).fill(Bu):Bu;const I=j=>{if(!(!(f.flags&1)||!f.dirty&&!j))if(t){const K=f.run();if(s||y||(A?K.some((W,H)=>Tr(W,T[H])):Tr(K,T))){w&&w();const W=ul;ul=f;try{const H=[K,T===Bu?void 0:A&&T[0]===Bu?[]:T,m];T=K,d?d(t,3,H):t(...H)}finally{ul=W}}}else f.run()};return c&&c(I),f=new $1(v),f.scheduler=l?()=>l(I,!1):I,m=j=>V_(j,!1,f),w=f.onStop=()=>{const j=bd.get(f);if(j){if(d)d(j,4);else for(const K of j)K();bd.delete(f)}},t?i?I(!0):T=f.run():l?l(I.bind(null,!0),!0):f.run(),k.pause=f.pause.bind(f),k.resume=f.resume.bind(f),k.stop=k,k}function Zs(e,t=1/0,n){if(t<=0||!Tn(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,_o(e))Zs(e.value,t,n);else if(Rt(e))for(let i=0;i<e.length;i++)Zs(e[i],t,n);else if(mc(e)||oc(e))e.forEach(i=>{Zs(i,t,n)});else if(A1(e)){for(const i in e)Zs(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Zs(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.24
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function cu(e,t,n,i){try{return i?e(...i):e()}catch(s){Bd(s,t,n)}}function Ya(e,t,n,i){if(Gt(e)){const s=cu(e,t,n,i);return s&&w1(s)&&s.catch(r=>{Bd(r,t,n)}),s}if(Rt(e)){const s=[];for(let r=0;r<e.length;r++)s.push(Ya(e[r],t,n,i));return s}}function Bd(e,t,n,i=!0){const s=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||Fn;if(t){let c=t.parent;const d=t.proxy,p=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const f=c.ec;if(f){for(let v=0;v<f.length;v++)if(f[v](e,d,p)===!1)return}c=c.parent}if(r){Js(),cu(r,null,10,[e,d,p]),Ys();return}}H_(e,n,s,i,l)}function H_(e,t,n,i=!0,s=!1){if(s)throw e;console.error(e)}const gi=[];let ys=-1;const ic=[];let Er=null,Kl=0;const Z1=Promise.resolve();let yd=null;function _i(e){const t=yd||Z1;return e?t.then(this?e.bind(this):e):t}function G_(e){let t=ys+1,n=gi.length;for(;t<n;){const i=t+n>>>1,s=gi[i],r=eu(s);r<e||r===e&&s.flags&2?t=i+1:n=i}return t}function Xp(e){if(!(e.flags&1)){const t=eu(e),n=gi[gi.length-1];!n||!(e.flags&2)&&t>=eu(n)?gi.push(e):gi.splice(G_(t),0,e),e.flags|=1,K1()}}function K1(){yd||(yd=Z1.then(Y1))}function W_(e){Rt(e)?ic.push(...e):Er&&e.id===-1?Er.splice(Kl+1,0,e):e.flags&1||(ic.push(e),e.flags|=1),K1()}function Mh(e,t,n=ys+1){for(;n<gi.length;n++){const i=gi[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;gi.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function J1(e){if(ic.length){const t=[...new Set(ic)].sort((n,i)=>eu(n)-eu(i));if(ic.length=0,Er){Er.push(...t);return}for(Er=t,Kl=0;Kl<Er.length;Kl++){const n=Er[Kl];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Er=null,Kl=0}}const eu=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Y1(e){try{for(ys=0;ys<gi.length;ys++){const t=gi[ys];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),cu(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ys<gi.length;ys++){const t=gi[ys];t&&(t.flags&=-2)}ys=-1,gi.length=0,J1(),yd=null,(gi.length||ic.length)&&Y1()}}let Uo=null,X1=null;function wd(e){const t=Uo;return Uo=e,X1=e&&e.type.__scopeId||null,t}function gn(e,t=Uo,n){if(!t||e._n)return e;const i=(...s)=>{i._d&&Sd(-1);const r=wd(t);let l;try{l=e(...s)}finally{wd(r),i._d&&Sd(1)}return l};return i._n=!0,i._c=!0,i._d=!0,i}function $e(e,t){if(Uo===null)return e;const n=qd(Uo),i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[r,l,c,d=Fn]=t[s];r&&(Gt(r)&&(r={mounted:r,updated:r}),r.deep&&Zs(l),i.push({dir:r,instance:n,value:l,oldValue:void 0,arg:c,modifiers:d}))}return e}function rl(e,t,n,i){const s=e.dirs,r=t&&t.dirs;for(let l=0;l<s.length;l++){const c=s[l];r&&(c.oldValue=r[l].value);let d=c.dir[i];d&&(Js(),Ya(d,n,8,[e.el,c,e,t]),Ys())}}const Q1=Symbol("_vte"),eg=e=>e.__isTeleport,qc=e=>e&&(e.disabled||e.disabled===""),Fh=e=>e&&(e.defer||e.defer===""),Bh=e=>typeof SVGElement<"u"&&e instanceof SVGElement,jh=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,lp=(e,t)=>{const n=e&&e.to;return Qn(n)?t?t(n):null:n},tg={name:"Teleport",__isTeleport:!0,process(e,t,n,i,s,r,l,c,d,p){const{mc:f,pc:v,pbc:w,o:{insert:m,querySelector:y,createText:A,createComment:N}}=p,k=qc(t.props);let{shapeFlag:T,children:I,dynamicChildren:j}=t;if(e==null){const K=t.el=A(""),W=t.anchor=A("");m(K,n,i),m(W,n,i);const H=(R,z)=>{T&16&&f(I,R,z,s,r,l,c,d)},F=()=>{const R=t.target=lp(t.props,y),z=og(R,t,A,m);R&&(l!=="svg"&&Bh(R)?l="svg":l!=="mathml"&&jh(R)&&(l="mathml"),s&&s.isCE&&(s.ce._teleportTargets||(s.ce._teleportTargets=new Set)).add(R),k||(H(R,z),td(t,!1)))};k&&(H(n,W),td(t,!0)),Fh(t.props)?(t.el.__isMounted=!1,mi(()=>{F(),delete t.el.__isMounted},r)):F()}else{if(Fh(t.props)&&e.el.__isMounted===!1){mi(()=>{tg.process(e,t,n,i,s,r,l,c,d,p)},r);return}t.el=e.el,t.targetStart=e.targetStart;const K=t.anchor=e.anchor,W=t.target=e.target,H=t.targetAnchor=e.targetAnchor,F=qc(e.props),R=F?n:W,z=F?K:H;if(l==="svg"||Bh(W)?l="svg":(l==="mathml"||jh(W))&&(l="mathml"),j?(w(e.dynamicChildren,j,R,s,r,l,c),oh(e,t,!0)):d||v(e,t,R,z,s,r,l,c,!1),k)F?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ju(t,n,K,p,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const x=t.target=lp(t.props,y);x&&ju(t,x,null,p,0)}else F&&ju(t,W,H,p,1);td(t,k)}},remove(e,t,n,{um:i,o:{remove:s}},r){const{shapeFlag:l,children:c,anchor:d,targetStart:p,targetAnchor:f,target:v,props:w}=e;if(v&&(s(p),s(f)),r&&s(d),l&16){const m=r||!qc(w);for(let y=0;y<c.length;y++){const A=c[y];i(A,t,n,m,!!A.dynamicChildren)}}},move:ju,hydrate:Z_};function ju(e,t,n,{o:{insert:i},m:s},r=2){r===0&&i(e.targetAnchor,t,n);const{el:l,anchor:c,shapeFlag:d,children:p,props:f}=e,v=r===2;if(v&&i(l,t,n),(!v||qc(f))&&d&16)for(let w=0;w<p.length;w++)s(p[w],t,n,2);v&&i(c,t,n)}function Z_(e,t,n,i,s,r,{o:{nextSibling:l,parentNode:c,querySelector:d,insert:p,createText:f}},v){function w(A,N,k,T){N.anchor=v(l(A),N,c(A),n,i,s,r),N.targetStart=k,N.targetAnchor=T}const m=t.target=lp(t.props,d),y=qc(t.props);if(m){const A=m._lpa||m.firstChild;if(t.shapeFlag&16)if(y)w(e,t,A,A&&l(A));else{t.anchor=l(e);let N=A;for(;N;){if(N&&N.nodeType===8){if(N.data==="teleport start anchor")t.targetStart=N;else if(N.data==="teleport anchor"){t.targetAnchor=N,m._lpa=t.targetAnchor&&l(t.targetAnchor);break}}N=l(N)}t.targetAnchor||og(m,t,f,p),v(A&&l(A),t,m,n,i,s,r)}td(t,y)}else y&&t.shapeFlag&16&&w(e,t,e,l(e));return t.anchor&&l(t.anchor)}const ng=tg;function td(e,t){const n=e.ctx;if(n&&n.ut){let i,s;for(t?(i=e.el,s=e.anchor):(i=e.targetStart,s=e.targetAnchor);i&&i!==s;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function og(e,t,n,i){const s=t.targetStart=n(""),r=t.targetAnchor=n("");return s[Q1]=r,e&&(i(s,e),i(r,e)),r}const Hs=Symbol("_leaveCb"),zu=Symbol("_enterCb");function ig(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return yn(()=>{e.isMounted=!0}),vc(()=>{e.isUnmounting=!0}),e}const ha=[Function,Array],ag={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ha,onEnter:ha,onAfterEnter:ha,onEnterCancelled:ha,onBeforeLeave:ha,onLeave:ha,onAfterLeave:ha,onLeaveCancelled:ha,onBeforeAppear:ha,onAppear:ha,onAfterAppear:ha,onAppearCancelled:ha},sg=e=>{const t=e.subTree;return t.component?sg(t.component):t},K_={name:"BaseTransition",props:ag,setup(e,{slots:t}){const n=uu(),i=ig();return()=>{const s=t.default&&Qp(t.default(),!0);if(!s||!s.length)return;const r=rg(s),l=cn(e),{mode:c}=l;if(i.isLeaving)return wf(r);const d=zh(r);if(!d)return wf(r);let p=tu(d,l,i,n,v=>p=v);d.type!==ni&&wl(d,p);let f=n.subTree&&zh(n.subTree);if(f&&f.type!==ni&&!fl(f,d)&&sg(n).type!==ni){let v=tu(f,l,i,n);if(wl(f,v),c==="out-in"&&d.type!==ni)return i.isLeaving=!0,v.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete v.afterLeave,f=void 0},wf(r);c==="in-out"&&d.type!==ni?v.delayLeave=(w,m,y)=>{const A=lg(i,f);A[String(f.key)]=f,w[Hs]=()=>{m(),w[Hs]=void 0,delete p.delayedLeave,f=void 0},p.delayedLeave=()=>{y(),delete p.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return r}}};function rg(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==ni){t=n;break}}return t}const J_=K_;function lg(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function tu(e,t,n,i,s){const{appear:r,mode:l,persisted:c=!1,onBeforeEnter:d,onEnter:p,onAfterEnter:f,onEnterCancelled:v,onBeforeLeave:w,onLeave:m,onAfterLeave:y,onLeaveCancelled:A,onBeforeAppear:N,onAppear:k,onAfterAppear:T,onAppearCancelled:I}=t,j=String(e.key),K=lg(n,e),W=(R,z)=>{R&&Ya(R,i,9,z)},H=(R,z)=>{const x=z[1];W(R,z),Rt(R)?R.every($=>$.length<=1)&&x():R.length<=1&&x()},F={mode:l,persisted:c,beforeEnter(R){let z=d;if(!n.isMounted)if(r)z=N||d;else return;R[Hs]&&R[Hs](!0);const x=K[j];x&&fl(e,x)&&x.el[Hs]&&x.el[Hs](),W(z,[R])},enter(R){let z=p,x=f,$=v;if(!n.isMounted)if(r)z=k||p,x=T||f,$=I||v;else return;let Z=!1;const b=R[zu]=S=>{Z||(Z=!0,S?W($,[R]):W(x,[R]),F.delayedLeave&&F.delayedLeave(),R[zu]=void 0)};z?H(z,[R,b]):b()},leave(R,z){const x=String(e.key);if(R[zu]&&R[zu](!0),n.isUnmounting)return z();W(w,[R]);let $=!1;const Z=R[Hs]=b=>{$||($=!0,z(),b?W(A,[R]):W(y,[R]),R[Hs]=void 0,K[x]===e&&delete K[x])};K[x]=e,m?H(m,[R,Z]):Z()},clone(R){const z=tu(R,t,n,i,s);return s&&s(z),z}};return F}function wf(e){if(jd(e))return e=Rr(e),e.children=null,e}function zh(e){if(!jd(e))return eg(e.type)&&e.children?rg(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Gt(n.default))return n.default()}}function wl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,wl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Qp(e,t=!1,n){let i=[],s=0;for(let r=0;r<e.length;r++){let l=e[r];const c=n==null?l.key:String(n)+String(l.key!=null?l.key:r);l.type===rt?(l.patchFlag&128&&s++,i=i.concat(Qp(l.children,t,c))):(t||l.type!==ni)&&i.push(c!=null?Rr(l,{key:c}):l)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function cg(e,t){return Gt(e)?$o({name:e.name},t,{setup:e}):e}function ug(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const xd=new WeakMap;function Hc(e,t,n,i,s=!1){if(Rt(e)){e.forEach((y,A)=>Hc(y,t&&(Rt(t)?t[A]:t),n,i,s));return}if(ac(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Hc(e,t,n,i.component.subTree);return}const r=i.shapeFlag&4?qd(i.component):i.el,l=s?null:r,{i:c,r:d}=e,p=t&&t.r,f=c.refs===Fn?c.refs={}:c.refs,v=c.setupState,w=cn(v),m=v===Fn?y1:y=>Cn(w,y);if(p!=null&&p!==d){if(Uh(t),Qn(p))f[p]=null,m(p)&&(v[p]=null);else if(_o(p)){p.value=null;const y=t;y.k&&(f[y.k]=null)}}if(Gt(d))cu(d,c,12,[l,f]);else{const y=Qn(d),A=_o(d);if(y||A){const N=()=>{if(e.f){const k=y?m(d)?v[d]:f[d]:d.value;if(s)Rt(k)&&zp(k,r);else if(Rt(k))k.includes(r)||k.push(r);else if(y)f[d]=[r],m(d)&&(v[d]=f[d]);else{const T=[r];d.value=T,e.k&&(f[e.k]=T)}}else y?(f[d]=l,m(d)&&(v[d]=l)):A&&(d.value=l,e.k&&(f[e.k]=l))};if(l){const k=()=>{N(),xd.delete(e)};k.id=-1,xd.set(e,k),mi(k,n)}else Uh(e),N()}}}function Uh(e){const t=xd.get(e);t&&(t.flags|=8,xd.delete(e))}Md().requestIdleCallback;Md().cancelIdleCallback;const ac=e=>!!e.type.__asyncLoader,jd=e=>e.type.__isKeepAlive;function Y_(e,t){dg(e,"a",t)}function X_(e,t){dg(e,"da",t)}function dg(e,t,n=oi){const i=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(zd(t,i,n),n){let s=n.parent;for(;s&&s.parent;)jd(s.parent.vnode)&&Q_(i,t,n,s),s=s.parent}}function Q_(e,t,n,i){const s=zd(t,e,i,!0);eh(()=>{zp(i[t],s)},n)}function zd(e,t,n=oi,i=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...l)=>{Js();const c=du(n),d=Ya(t,n,e,l);return c(),Ys(),d});return i?s.unshift(r):s.push(r),r}}const Xs=e=>(t,n=oi)=>{(!iu||e==="sp")&&zd(e,(...i)=>t(...i),n)},eb=Xs("bm"),yn=Xs("m"),tb=Xs("bu"),fg=Xs("u"),vc=Xs("bum"),eh=Xs("um"),nb=Xs("sp"),ob=Xs("rtg"),ib=Xs("rtc");function ab(e,t=oi){zd("ec",e,t)}const pg="components";function kl(e,t){return vg(pg,e,!0,t)||e}const hg=Symbol.for("v-ndc");function mg(e){return Qn(e)?vg(pg,e,!1)||e:e||hg}function vg(e,t,n=!0,i=!1){const s=Uo||oi;if(s){const r=s.type;{const c=Zb(r,!1);if(c&&(c===t||c===_a(t)||c===Rd(_a(t))))return r}const l=Vh(s[e]||r[e],t)||Vh(s.appContext[e],t);return!l&&i?r:l}}function Vh(e,t){return e&&(e[t]||e[_a(t)]||e[Rd(_a(t))])}function ht(e,t,n,i){let s;const r=n,l=Rt(e);if(l||Qn(e)){const c=l&&Ir(e);let d=!1,p=!1;c&&(d=!ma(e),p=Dr(e),e=Fd(e)),s=new Array(e.length);for(let f=0,v=e.length;f<v;f++)s[f]=t(d?p?_d(zo(e[f])):zo(e[f]):e[f],f,void 0,r)}else if(typeof e=="number"){s=new Array(e);for(let c=0;c<e;c++)s[c]=t(c+1,c,void 0,r)}else if(Tn(e))if(e[Symbol.iterator])s=Array.from(e,(c,d)=>t(c,d,void 0,r));else{const c=Object.keys(e);s=new Array(c.length);for(let d=0,p=c.length;d<p;d++){const f=c[d];s[d]=t(e[f],f,d,r)}}else s=[];return s}function sb(e,t,n={},i,s){if(Uo.ce||Uo.parent&&ac(Uo.parent)&&Uo.parent.ce){const p=Object.keys(n).length>0;return D(),nn(rt,null,[Ke("slot",n,i&&i())],p?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),D();const l=r&&gg(r(n)),c=n.key||l&&l.key,d=nn(rt,{key:(c&&!Ja(c)?c:`_${t}`)+(!l&&i?"_fb":"")},l||(i?i():[]),l&&e._===1?64:-2);return r&&r._c&&(r._d=!0),d}function gg(e){return e.some(t=>ou(t)?!(t.type===ni||t.type===rt&&!gg(t.children)):!0)?e:null}const cp=e=>e?Og(e)?qd(e):cp(e.parent):null,Gc=$o(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>cp(e.parent),$root:e=>cp(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>bg(e),$forceUpdate:e=>e.f||(e.f=()=>{Xp(e.update)}),$nextTick:e=>e.n||(e.n=_i.bind(e.proxy)),$watch:e=>Lb.bind(e)}),xf=(e,t)=>e!==Fn&&!e.__isScriptSetup&&Cn(e,t),rb={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:l,type:c,appContext:d}=e;let p;if(t[0]!=="$"){const m=l[t];if(m!==void 0)switch(m){case 1:return i[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(xf(i,t))return l[t]=1,i[t];if(s!==Fn&&Cn(s,t))return l[t]=2,s[t];if((p=e.propsOptions[0])&&Cn(p,t))return l[t]=3,r[t];if(n!==Fn&&Cn(n,t))return l[t]=4,n[t];up&&(l[t]=0)}}const f=Gc[t];let v,w;if(f)return t==="$attrs"&&ti(e.attrs,"get",""),f(e);if((v=c.__cssModules)&&(v=v[t]))return v;if(n!==Fn&&Cn(n,t))return l[t]=4,n[t];if(w=d.config.globalProperties,Cn(w,t))return w[t]},set({_:e},t,n){const{data:i,setupState:s,ctx:r}=e;return xf(s,t)?(s[t]=n,!0):i!==Fn&&Cn(i,t)?(i[t]=n,!0):Cn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:r,type:l}},c){let d,p;return!!(n[c]||e!==Fn&&c[0]!=="$"&&Cn(e,c)||xf(t,c)||(d=r[0])&&Cn(d,c)||Cn(i,c)||Cn(Gc,c)||Cn(s.config.globalProperties,c)||(p=l.__cssModules)&&p[c])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Cn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function qh(e){return Rt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let up=!0;function lb(e){const t=bg(e),n=e.proxy,i=e.ctx;up=!1,t.beforeCreate&&Hh(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:l,watch:c,provide:d,inject:p,created:f,beforeMount:v,mounted:w,beforeUpdate:m,updated:y,activated:A,deactivated:N,beforeDestroy:k,beforeUnmount:T,destroyed:I,unmounted:j,render:K,renderTracked:W,renderTriggered:H,errorCaptured:F,serverPrefetch:R,expose:z,inheritAttrs:x,components:$,directives:Z,filters:b}=t;if(p&&cb(p,i,null),l)for(const U in l){const le=l[U];Gt(le)&&(i[U]=le.bind(n))}if(s){const U=s.call(n,n);Tn(U)&&(e.data=un(U))}if(up=!0,r)for(const U in r){const le=r[U],xe=Gt(le)?le.bind(n,n):Gt(le.get)?le.get.bind(n,n):Ss,ke=!Gt(le)&&Gt(le.set)?le.set.bind(n):Ss,Le=We({get:xe,set:ke});Object.defineProperty(i,U,{enumerable:!0,configurable:!0,get:()=>Le.value,set:X=>Le.value=X})}if(c)for(const U in c)_g(c[U],i,n,U);if(d){const U=Gt(d)?d.call(n):d;Reflect.ownKeys(U).forEach(le=>{nd(le,U[le])})}f&&Hh(f,e,"c");function Q(U,le){Rt(le)?le.forEach(xe=>U(xe.bind(n))):le&&U(le.bind(n))}if(Q(eb,v),Q(yn,w),Q(tb,m),Q(fg,y),Q(Y_,A),Q(X_,N),Q(ab,F),Q(ib,W),Q(ob,H),Q(vc,T),Q(eh,j),Q(nb,R),Rt(z))if(z.length){const U=e.exposed||(e.exposed={});z.forEach(le=>{Object.defineProperty(U,le,{get:()=>n[le],set:xe=>n[le]=xe,enumerable:!0})})}else e.exposed||(e.exposed={});K&&e.render===Ss&&(e.render=K),x!=null&&(e.inheritAttrs=x),$&&(e.components=$),Z&&(e.directives=Z),R&&ug(e)}function cb(e,t,n=Ss){Rt(e)&&(e=dp(e));for(const i in e){const s=e[i];let r;Tn(s)?"default"in s?r=va(s.from||i,s.default,!0):r=va(s.from||i):r=va(s),_o(r)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:l=>r.value=l}):t[i]=r}}function Hh(e,t,n){Ya(Rt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function _g(e,t,n,i){let s=i.includes(".")?$g(n,i):()=>n[i];if(Qn(e)){const r=t[e];Gt(r)&&Kn(s,r)}else if(Gt(e))Kn(s,e.bind(n));else if(Tn(e))if(Rt(e))e.forEach(r=>_g(r,t,n,i));else{const r=Gt(e.handler)?e.handler.bind(n):t[e.handler];Gt(r)&&Kn(s,r,e)}}function bg(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:l}}=e.appContext,c=r.get(t);let d;return c?d=c:!s.length&&!n&&!i?d=t:(d={},s.length&&s.forEach(p=>Ad(d,p,l,!0)),Ad(d,t,l)),Tn(t)&&r.set(t,d),d}function Ad(e,t,n,i=!1){const{mixins:s,extends:r}=t;r&&Ad(e,r,n,!0),s&&s.forEach(l=>Ad(e,l,n,!0));for(const l in t)if(!(i&&l==="expose")){const c=ub[l]||n&&n[l];e[l]=c?c(e[l],t[l]):t[l]}return e}const ub={data:Gh,props:Wh,emits:Wh,methods:jc,computed:jc,beforeCreate:hi,created:hi,beforeMount:hi,mounted:hi,beforeUpdate:hi,updated:hi,beforeDestroy:hi,beforeUnmount:hi,destroyed:hi,unmounted:hi,activated:hi,deactivated:hi,errorCaptured:hi,serverPrefetch:hi,components:jc,directives:jc,watch:fb,provide:Gh,inject:db};function Gh(e,t){return t?e?function(){return $o(Gt(e)?e.call(this,this):e,Gt(t)?t.call(this,this):t)}:t:e}function db(e,t){return jc(dp(e),dp(t))}function dp(e){if(Rt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function hi(e,t){return e?[...new Set([].concat(e,t))]:t}function jc(e,t){return e?$o(Object.create(null),e,t):t}function Wh(e,t){return e?Rt(e)&&Rt(t)?[...new Set([...e,...t])]:$o(Object.create(null),qh(e),qh(t??{})):t}function fb(e,t){if(!e)return t;if(!t)return e;const n=$o(Object.create(null),e);for(const i in t)n[i]=hi(e[i],t[i]);return n}function yg(){return{app:null,config:{isNativeTag:y1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pb=0;function hb(e,t){return function(i,s=null){Gt(i)||(i=$o({},i)),s!=null&&!Tn(s)&&(s=null);const r=yg(),l=new WeakSet,c=[];let d=!1;const p=r.app={_uid:pb++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:Jb,get config(){return r.config},set config(f){},use(f,...v){return l.has(f)||(f&&Gt(f.install)?(l.add(f),f.install(p,...v)):Gt(f)&&(l.add(f),f(p,...v))),p},mixin(f){return r.mixins.includes(f)||r.mixins.push(f),p},component(f,v){return v?(r.components[f]=v,p):r.components[f]},directive(f,v){return v?(r.directives[f]=v,p):r.directives[f]},mount(f,v,w){if(!d){const m=p._ceVNode||Ke(i,s);return m.appContext=r,w===!0?w="svg":w===!1&&(w=void 0),e(m,f,w),d=!0,p._container=f,f.__vue_app__=p,qd(m.component)}},onUnmount(f){c.push(f)},unmount(){d&&(Ya(c,p._instance,16),e(null,p._container),delete p._container.__vue_app__)},provide(f,v){return r.provides[f]=v,p},runWithContext(f){const v=gl;gl=p;try{return f()}finally{gl=v}}};return p}}let gl=null;function nd(e,t){if(oi){let n=oi.provides;const i=oi.parent&&oi.parent.provides;i===n&&(n=oi.provides=Object.create(i)),n[e]=t}}function va(e,t,n=!1){const i=uu();if(i||gl){let s=gl?gl._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Gt(t)?t.call(i&&i.proxy):t}}function mb(){return!!(uu()||gl)}const wg={},xg=()=>Object.create(wg),Ag=e=>Object.getPrototypeOf(e)===wg;function vb(e,t,n,i=!1){const s={},r=xg();e.propsDefaults=Object.create(null),Sg(e,t,s,r);for(const l in e.propsOptions[0])l in s||(s[l]=void 0);n?e.props=i?s:H1(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function gb(e,t,n,i){const{props:s,attrs:r,vnode:{patchFlag:l}}=e,c=cn(s),[d]=e.propsOptions;let p=!1;if((i||l>0)&&!(l&16)){if(l&8){const f=e.vnode.dynamicProps;for(let v=0;v<f.length;v++){let w=f[v];if(Ud(e.emitsOptions,w))continue;const m=t[w];if(d)if(Cn(r,w))m!==r[w]&&(r[w]=m,p=!0);else{const y=_a(w);s[y]=fp(d,c,y,m,e,!1)}else m!==r[w]&&(r[w]=m,p=!0)}}}else{Sg(e,t,s,r)&&(p=!0);let f;for(const v in c)(!t||!Cn(t,v)&&((f=Fr(v))===v||!Cn(t,f)))&&(d?n&&(n[v]!==void 0||n[f]!==void 0)&&(s[v]=fp(d,c,v,void 0,e,!0)):delete s[v]);if(r!==c)for(const v in r)(!t||!Cn(t,v))&&(delete r[v],p=!0)}p&&Ws(e.attrs,"set","")}function Sg(e,t,n,i){const[s,r]=e.propsOptions;let l=!1,c;if(t)for(let d in t){if(zc(d))continue;const p=t[d];let f;s&&Cn(s,f=_a(d))?!r||!r.includes(f)?n[f]=p:(c||(c={}))[f]=p:Ud(e.emitsOptions,d)||(!(d in i)||p!==i[d])&&(i[d]=p,l=!0)}if(r){const d=cn(n),p=c||Fn;for(let f=0;f<r.length;f++){const v=r[f];n[v]=fp(s,d,v,p[v],e,!Cn(p,v))}}return l}function fp(e,t,n,i,s,r){const l=e[n];if(l!=null){const c=Cn(l,"default");if(c&&i===void 0){const d=l.default;if(l.type!==Function&&!l.skipFactory&&Gt(d)){const{propsDefaults:p}=s;if(n in p)i=p[n];else{const f=du(s);i=p[n]=d.call(null,t),f()}}else i=d;s.ce&&s.ce._setProp(n,i)}l[0]&&(r&&!c?i=!1:l[1]&&(i===""||i===Fr(n))&&(i=!0))}return i}const _b=new WeakMap;function kg(e,t,n=!1){const i=n?_b:t.propsCache,s=i.get(e);if(s)return s;const r=e.props,l={},c=[];let d=!1;if(!Gt(e)){const f=v=>{d=!0;const[w,m]=kg(v,t,!0);$o(l,w),m&&c.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!r&&!d)return Tn(e)&&i.set(e,nc),nc;if(Rt(r))for(let f=0;f<r.length;f++){const v=_a(r[f]);Zh(v)&&(l[v]=Fn)}else if(r)for(const f in r){const v=_a(f);if(Zh(v)){const w=r[f],m=l[v]=Rt(w)||Gt(w)?{type:w}:$o({},w),y=m.type;let A=!1,N=!0;if(Rt(y))for(let k=0;k<y.length;++k){const T=y[k],I=Gt(T)&&T.name;if(I==="Boolean"){A=!0;break}else I==="String"&&(N=!1)}else A=Gt(y)&&y.name==="Boolean";m[0]=A,m[1]=N,(A||Cn(m,"default"))&&c.push(v)}}const p=[l,c];return Tn(e)&&i.set(e,p),p}function Zh(e){return e[0]!=="$"&&!zc(e)}const th=e=>e==="_"||e==="_ctx"||e==="$stable",nh=e=>Rt(e)?e.map(ws):[ws(e)],bb=(e,t,n)=>{if(t._n)return t;const i=gn((...s)=>nh(t(...s)),n);return i._c=!1,i},Cg=(e,t,n)=>{const i=e._ctx;for(const s in e){if(th(s))continue;const r=e[s];if(Gt(r))t[s]=bb(s,r,i);else if(r!=null){const l=nh(r);t[s]=()=>l}}},Eg=(e,t)=>{const n=nh(t);e.slots.default=()=>n},Lg=(e,t,n)=>{for(const i in t)(n||!th(i))&&(e[i]=t[i])},yb=(e,t,n)=>{const i=e.slots=xg();if(e.vnode.shapeFlag&32){const s=t._;s?(Lg(i,t,n),n&&S1(i,"_",s,!0)):Cg(t,i)}else t&&Eg(e,t)},wb=(e,t,n)=>{const{vnode:i,slots:s}=e;let r=!0,l=Fn;if(i.shapeFlag&32){const c=t._;c?n&&c===1?r=!1:Lg(s,t,n):(r=!t.$stable,Cg(t,s)),l=t}else t&&(Eg(e,t),l={default:1});if(r)for(const c in s)!th(c)&&l[c]==null&&delete s[c]},mi=Ob;function xb(e){return Ab(e)}function Ab(e,t){const n=Md();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:l,createText:c,createComment:d,setText:p,setElementText:f,parentNode:v,nextSibling:w,setScopeId:m=Ss,insertStaticContent:y}=e,A=(se,de,Ae,ne=null,ge=null,Me=null,Ge=void 0,Te=null,Pe=!!de.dynamicChildren)=>{if(se===de)return;se&&!fl(se,de)&&(ne=Y(se),X(se,ge,Me,!0),se=null),de.patchFlag===-2&&(Pe=!1,de.dynamicChildren=null);const{type:De,ref:nt,shapeFlag:Ze}=de;switch(De){case Vd:N(se,de,Ae,ne);break;case ni:k(se,de,Ae,ne);break;case od:se==null&&T(de,Ae,ne,Ge);break;case rt:$(se,de,Ae,ne,ge,Me,Ge,Te,Pe);break;default:Ze&1?K(se,de,Ae,ne,ge,Me,Ge,Te,Pe):Ze&6?Z(se,de,Ae,ne,ge,Me,Ge,Te,Pe):(Ze&64||Ze&128)&&De.process(se,de,Ae,ne,ge,Me,Ge,Te,Pe,ae)}nt!=null&&ge?Hc(nt,se&&se.ref,Me,de||se,!de):nt==null&&se&&se.ref!=null&&Hc(se.ref,null,Me,se,!0)},N=(se,de,Ae,ne)=>{if(se==null)i(de.el=c(de.children),Ae,ne);else{const ge=de.el=se.el;de.children!==se.children&&p(ge,de.children)}},k=(se,de,Ae,ne)=>{se==null?i(de.el=d(de.children||""),Ae,ne):de.el=se.el},T=(se,de,Ae,ne)=>{[se.el,se.anchor]=y(se.children,de,Ae,ne,se.el,se.anchor)},I=({el:se,anchor:de},Ae,ne)=>{let ge;for(;se&&se!==de;)ge=w(se),i(se,Ae,ne),se=ge;i(de,Ae,ne)},j=({el:se,anchor:de})=>{let Ae;for(;se&&se!==de;)Ae=w(se),s(se),se=Ae;s(de)},K=(se,de,Ae,ne,ge,Me,Ge,Te,Pe)=>{if(de.type==="svg"?Ge="svg":de.type==="math"&&(Ge="mathml"),se==null)W(de,Ae,ne,ge,Me,Ge,Te,Pe);else{const De=se.el&&se.el._isVueCE?se.el:null;try{De&&De._beginPatch(),R(se,de,ge,Me,Ge,Te,Pe)}finally{De&&De._endPatch()}}},W=(se,de,Ae,ne,ge,Me,Ge,Te)=>{let Pe,De;const{props:nt,shapeFlag:Ze,transition:dt,dirs:Ce}=se;if(Pe=se.el=l(se.type,Me,nt&&nt.is,nt),Ze&8?f(Pe,se.children):Ze&16&&F(se.children,Pe,null,ne,ge,Af(se,Me),Ge,Te),Ce&&rl(se,null,ne,"created"),H(Pe,se,se.scopeId,Ge,ne),nt){for(const Je in nt)Je!=="value"&&!zc(Je)&&r(Pe,Je,null,nt[Je],Me,ne);"value"in nt&&r(Pe,"value",null,nt.value,Me),(De=nt.onVnodeBeforeMount)&&ms(De,ne,se)}Ce&&rl(se,null,ne,"beforeMount");const Ue=Sb(ge,dt);Ue&&dt.beforeEnter(Pe),i(Pe,de,Ae),((De=nt&&nt.onVnodeMounted)||Ue||Ce)&&mi(()=>{De&&ms(De,ne,se),Ue&&dt.enter(Pe),Ce&&rl(se,null,ne,"mounted")},ge)},H=(se,de,Ae,ne,ge)=>{if(Ae&&m(se,Ae),ne)for(let Me=0;Me<ne.length;Me++)m(se,ne[Me]);if(ge){let Me=ge.subTree;if(de===Me||Ig(Me.type)&&(Me.ssContent===de||Me.ssFallback===de)){const Ge=ge.vnode;H(se,Ge,Ge.scopeId,Ge.slotScopeIds,ge.parent)}}},F=(se,de,Ae,ne,ge,Me,Ge,Te,Pe=0)=>{for(let De=Pe;De<se.length;De++){const nt=se[De]=Te?Lr(se[De]):ws(se[De]);A(null,nt,de,Ae,ne,ge,Me,Ge,Te)}},R=(se,de,Ae,ne,ge,Me,Ge)=>{const Te=de.el=se.el;let{patchFlag:Pe,dynamicChildren:De,dirs:nt}=de;Pe|=se.patchFlag&16;const Ze=se.props||Fn,dt=de.props||Fn;let Ce;if(Ae&&ll(Ae,!1),(Ce=dt.onVnodeBeforeUpdate)&&ms(Ce,Ae,de,se),nt&&rl(de,se,Ae,"beforeUpdate"),Ae&&ll(Ae,!0),(Ze.innerHTML&&dt.innerHTML==null||Ze.textContent&&dt.textContent==null)&&f(Te,""),De?z(se.dynamicChildren,De,Te,Ae,ne,Af(de,ge),Me):Ge||le(se,de,Te,null,Ae,ne,Af(de,ge),Me,!1),Pe>0){if(Pe&16)x(Te,Ze,dt,Ae,ge);else if(Pe&2&&Ze.class!==dt.class&&r(Te,"class",null,dt.class,ge),Pe&4&&r(Te,"style",Ze.style,dt.style,ge),Pe&8){const Ue=de.dynamicProps;for(let Je=0;Je<Ue.length;Je++){const Re=Ue[Je],ut=Ze[Re],mt=dt[Re];(mt!==ut||Re==="value")&&r(Te,Re,ut,mt,ge,Ae)}}Pe&1&&se.children!==de.children&&f(Te,de.children)}else!Ge&&De==null&&x(Te,Ze,dt,Ae,ge);((Ce=dt.onVnodeUpdated)||nt)&&mi(()=>{Ce&&ms(Ce,Ae,de,se),nt&&rl(de,se,Ae,"updated")},ne)},z=(se,de,Ae,ne,ge,Me,Ge)=>{for(let Te=0;Te<de.length;Te++){const Pe=se[Te],De=de[Te],nt=Pe.el&&(Pe.type===rt||!fl(Pe,De)||Pe.shapeFlag&198)?v(Pe.el):Ae;A(Pe,De,nt,null,ne,ge,Me,Ge,!0)}},x=(se,de,Ae,ne,ge)=>{if(de!==Ae){if(de!==Fn)for(const Me in de)!zc(Me)&&!(Me in Ae)&&r(se,Me,de[Me],null,ge,ne);for(const Me in Ae){if(zc(Me))continue;const Ge=Ae[Me],Te=de[Me];Ge!==Te&&Me!=="value"&&r(se,Me,Te,Ge,ge,ne)}"value"in Ae&&r(se,"value",de.value,Ae.value,ge)}},$=(se,de,Ae,ne,ge,Me,Ge,Te,Pe)=>{const De=de.el=se?se.el:c(""),nt=de.anchor=se?se.anchor:c("");let{patchFlag:Ze,dynamicChildren:dt,slotScopeIds:Ce}=de;Ce&&(Te=Te?Te.concat(Ce):Ce),se==null?(i(De,Ae,ne),i(nt,Ae,ne),F(de.children||[],Ae,nt,ge,Me,Ge,Te,Pe)):Ze>0&&Ze&64&&dt&&se.dynamicChildren?(z(se.dynamicChildren,dt,Ae,ge,Me,Ge,Te),(de.key!=null||ge&&de===ge.subTree)&&oh(se,de,!0)):le(se,de,Ae,nt,ge,Me,Ge,Te,Pe)},Z=(se,de,Ae,ne,ge,Me,Ge,Te,Pe)=>{de.slotScopeIds=Te,se==null?de.shapeFlag&512?ge.ctx.activate(de,Ae,ne,Ge,Pe):b(de,Ae,ne,ge,Me,Ge,Pe):S(se,de,Pe)},b=(se,de,Ae,ne,ge,Me,Ge)=>{const Te=se.component=Vb(se,ne,ge);if(jd(se)&&(Te.ctx.renderer=ae),qb(Te,!1,Ge),Te.asyncDep){if(ge&&ge.registerDep(Te,Q,Ge),!se.el){const Pe=Te.subTree=Ke(ni);k(null,Pe,de,Ae),se.placeholder=Pe.el}}else Q(Te,se,de,Ae,ge,Me,Ge)},S=(se,de,Ae)=>{const ne=de.component=se.component;if(Db(se,de,Ae))if(ne.asyncDep&&!ne.asyncResolved){U(ne,de,Ae);return}else ne.next=de,ne.update();else de.el=se.el,ne.vnode=de},Q=(se,de,Ae,ne,ge,Me,Ge)=>{const Te=()=>{if(se.isMounted){let{next:Ze,bu:dt,u:Ce,parent:Ue,vnode:Je}=se;{const rn=Ng(se);if(rn){Ze&&(Ze.el=Je.el,U(se,Ze,Ge)),rn.asyncDep.then(()=>{se.isUnmounted||Te()});return}}let Re=Ze,ut;ll(se,!1),Ze?(Ze.el=Je.el,U(se,Ze,Ge)):Ze=Je,dt&&ed(dt),(ut=Ze.props&&Ze.props.onVnodeBeforeUpdate)&&ms(ut,Ue,Ze,Je),ll(se,!0);const mt=Jh(se),ft=se.subTree;se.subTree=mt,A(ft,mt,v(ft.el),Y(ft),se,ge,Me),Ze.el=mt.el,Re===null&&Rb(se,mt.el),Ce&&mi(Ce,ge),(ut=Ze.props&&Ze.props.onVnodeUpdated)&&mi(()=>ms(ut,Ue,Ze,Je),ge)}else{let Ze;const{el:dt,props:Ce}=de,{bm:Ue,m:Je,parent:Re,root:ut,type:mt}=se,ft=ac(de);ll(se,!1),Ue&&ed(Ue),!ft&&(Ze=Ce&&Ce.onVnodeBeforeMount)&&ms(Ze,Re,de),ll(se,!0);{ut.ce&&ut.ce._def.shadowRoot!==!1&&ut.ce._injectChildStyle(mt);const rn=se.subTree=Jh(se);A(null,rn,Ae,ne,se,ge,Me),de.el=rn.el}if(Je&&mi(Je,ge),!ft&&(Ze=Ce&&Ce.onVnodeMounted)){const rn=de;mi(()=>ms(Ze,Re,rn),ge)}(de.shapeFlag&256||Re&&ac(Re.vnode)&&Re.vnode.shapeFlag&256)&&se.a&&mi(se.a,ge),se.isMounted=!0,de=Ae=ne=null}};se.scope.on();const Pe=se.effect=new $1(Te);se.scope.off();const De=se.update=Pe.run.bind(Pe),nt=se.job=Pe.runIfDirty.bind(Pe);nt.i=se,nt.id=se.uid,Pe.scheduler=()=>Xp(nt),ll(se,!0),De()},U=(se,de,Ae)=>{de.component=se;const ne=se.vnode.props;se.vnode=de,se.next=null,gb(se,de.props,ne,Ae),wb(se,de.children,Ae),Js(),Mh(se),Ys()},le=(se,de,Ae,ne,ge,Me,Ge,Te,Pe=!1)=>{const De=se&&se.children,nt=se?se.shapeFlag:0,Ze=de.children,{patchFlag:dt,shapeFlag:Ce}=de;if(dt>0){if(dt&128){ke(De,Ze,Ae,ne,ge,Me,Ge,Te,Pe);return}else if(dt&256){xe(De,Ze,Ae,ne,ge,Me,Ge,Te,Pe);return}}Ce&8?(nt&16&&V(De,ge,Me),Ze!==De&&f(Ae,Ze)):nt&16?Ce&16?ke(De,Ze,Ae,ne,ge,Me,Ge,Te,Pe):V(De,ge,Me,!0):(nt&8&&f(Ae,""),Ce&16&&F(Ze,Ae,ne,ge,Me,Ge,Te,Pe))},xe=(se,de,Ae,ne,ge,Me,Ge,Te,Pe)=>{se=se||nc,de=de||nc;const De=se.length,nt=de.length,Ze=Math.min(De,nt);let dt;for(dt=0;dt<Ze;dt++){const Ce=de[dt]=Pe?Lr(de[dt]):ws(de[dt]);A(se[dt],Ce,Ae,null,ge,Me,Ge,Te,Pe)}De>nt?V(se,ge,Me,!0,!1,Ze):F(de,Ae,ne,ge,Me,Ge,Te,Pe,Ze)},ke=(se,de,Ae,ne,ge,Me,Ge,Te,Pe)=>{let De=0;const nt=de.length;let Ze=se.length-1,dt=nt-1;for(;De<=Ze&&De<=dt;){const Ce=se[De],Ue=de[De]=Pe?Lr(de[De]):ws(de[De]);if(fl(Ce,Ue))A(Ce,Ue,Ae,null,ge,Me,Ge,Te,Pe);else break;De++}for(;De<=Ze&&De<=dt;){const Ce=se[Ze],Ue=de[dt]=Pe?Lr(de[dt]):ws(de[dt]);if(fl(Ce,Ue))A(Ce,Ue,Ae,null,ge,Me,Ge,Te,Pe);else break;Ze--,dt--}if(De>Ze){if(De<=dt){const Ce=dt+1,Ue=Ce<nt?de[Ce].el:ne;for(;De<=dt;)A(null,de[De]=Pe?Lr(de[De]):ws(de[De]),Ae,Ue,ge,Me,Ge,Te,Pe),De++}}else if(De>dt)for(;De<=Ze;)X(se[De],ge,Me,!0),De++;else{const Ce=De,Ue=De,Je=new Map;for(De=Ue;De<=dt;De++){const Pt=de[De]=Pe?Lr(de[De]):ws(de[De]);Pt.key!=null&&Je.set(Pt.key,De)}let Re,ut=0;const mt=dt-Ue+1;let ft=!1,rn=0;const Kt=new Array(mt);for(De=0;De<mt;De++)Kt[De]=0;for(De=Ce;De<=Ze;De++){const Pt=se[De];if(ut>=mt){X(Pt,ge,Me,!0);continue}let on;if(Pt.key!=null)on=Je.get(Pt.key);else for(Re=Ue;Re<=dt;Re++)if(Kt[Re-Ue]===0&&fl(Pt,de[Re])){on=Re;break}on===void 0?X(Pt,ge,Me,!0):(Kt[on-Ue]=De+1,on>=rn?rn=on:ft=!0,A(Pt,de[on],Ae,null,ge,Me,Ge,Te,Pe),ut++)}const Ut=ft?kb(Kt):nc;for(Re=Ut.length-1,De=mt-1;De>=0;De--){const Pt=Ue+De,on=de[Pt],kt=de[Pt+1],_n=Pt+1<nt?kt.el||kt.placeholder:ne;Kt[De]===0?A(null,on,Ae,_n,ge,Me,Ge,Te,Pe):ft&&(Re<0||De!==Ut[Re]?Le(on,Ae,_n,2):Re--)}}},Le=(se,de,Ae,ne,ge=null)=>{const{el:Me,type:Ge,transition:Te,children:Pe,shapeFlag:De}=se;if(De&6){Le(se.component.subTree,de,Ae,ne);return}if(De&128){se.suspense.move(de,Ae,ne);return}if(De&64){Ge.move(se,de,Ae,ae);return}if(Ge===rt){i(Me,de,Ae);for(let Ze=0;Ze<Pe.length;Ze++)Le(Pe[Ze],de,Ae,ne);i(se.anchor,de,Ae);return}if(Ge===od){I(se,de,Ae);return}if(ne!==2&&De&1&&Te)if(ne===0)Te.beforeEnter(Me),i(Me,de,Ae),mi(()=>Te.enter(Me),ge);else{const{leave:Ze,delayLeave:dt,afterLeave:Ce}=Te,Ue=()=>{se.ctx.isUnmounted?s(Me):i(Me,de,Ae)},Je=()=>{Me._isLeaving&&Me[Hs](!0),Ze(Me,()=>{Ue(),Ce&&Ce()})};dt?dt(Me,Ue,Je):Je()}else i(Me,de,Ae)},X=(se,de,Ae,ne=!1,ge=!1)=>{const{type:Me,props:Ge,ref:Te,children:Pe,dynamicChildren:De,shapeFlag:nt,patchFlag:Ze,dirs:dt,cacheIndex:Ce}=se;if(Ze===-2&&(ge=!1),Te!=null&&(Js(),Hc(Te,null,Ae,se,!0),Ys()),Ce!=null&&(de.renderCache[Ce]=void 0),nt&256){de.ctx.deactivate(se);return}const Ue=nt&1&&dt,Je=!ac(se);let Re;if(Je&&(Re=Ge&&Ge.onVnodeBeforeUnmount)&&ms(Re,de,se),nt&6)B(se.component,Ae,ne);else{if(nt&128){se.suspense.unmount(Ae,ne);return}Ue&&rl(se,null,de,"beforeUnmount"),nt&64?se.type.remove(se,de,Ae,ae,ne):De&&!De.hasOnce&&(Me!==rt||Ze>0&&Ze&64)?V(De,de,Ae,!1,!0):(Me===rt&&Ze&384||!ge&&nt&16)&&V(Pe,de,Ae),ne&&he(se)}(Je&&(Re=Ge&&Ge.onVnodeUnmounted)||Ue)&&mi(()=>{Re&&ms(Re,de,se),Ue&&rl(se,null,de,"unmounted")},Ae)},he=se=>{const{type:de,el:Ae,anchor:ne,transition:ge}=se;if(de===rt){J(Ae,ne);return}if(de===od){j(se);return}const Me=()=>{s(Ae),ge&&!ge.persisted&&ge.afterLeave&&ge.afterLeave()};if(se.shapeFlag&1&&ge&&!ge.persisted){const{leave:Ge,delayLeave:Te}=ge,Pe=()=>Ge(Ae,Me);Te?Te(se.el,Me,Pe):Pe()}else Me()},J=(se,de)=>{let Ae;for(;se!==de;)Ae=w(se),s(se),se=Ae;s(de)},B=(se,de,Ae)=>{const{bum:ne,scope:ge,job:Me,subTree:Ge,um:Te,m:Pe,a:De}=se;Kh(Pe),Kh(De),ne&&ed(ne),ge.stop(),Me&&(Me.flags|=8,X(Ge,se,de,Ae)),Te&&mi(Te,de),mi(()=>{se.isUnmounted=!0},de)},V=(se,de,Ae,ne=!1,ge=!1,Me=0)=>{for(let Ge=Me;Ge<se.length;Ge++)X(se[Ge],de,Ae,ne,ge)},Y=se=>{if(se.shapeFlag&6)return Y(se.component.subTree);if(se.shapeFlag&128)return se.suspense.next();const de=w(se.anchor||se.el),Ae=de&&de[Q1];return Ae?w(Ae):de};let ee=!1;const fe=(se,de,Ae)=>{se==null?de._vnode&&X(de._vnode,null,null,!0):A(de._vnode||null,se,de,null,null,null,Ae),de._vnode=se,ee||(ee=!0,Mh(),J1(),ee=!1)},ae={p:A,um:X,m:Le,r:he,mt:b,mc:F,pc:le,pbc:z,n:Y,o:e};return{render:fe,hydrate:void 0,createApp:hb(fe)}}function Af({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ll({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Sb(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function oh(e,t,n=!1){const i=e.children,s=t.children;if(Rt(i)&&Rt(s))for(let r=0;r<i.length;r++){const l=i[r];let c=s[r];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[r]=Lr(s[r]),c.el=l.el),!n&&c.patchFlag!==-2&&oh(l,c)),c.type===Vd&&c.patchFlag!==-1&&(c.el=l.el),c.type===ni&&!c.el&&(c.el=l.el)}}function kb(e){const t=e.slice(),n=[0];let i,s,r,l,c;const d=e.length;for(i=0;i<d;i++){const p=e[i];if(p!==0){if(s=n[n.length-1],e[s]<p){t[i]=s,n.push(i);continue}for(r=0,l=n.length-1;r<l;)c=r+l>>1,e[n[c]]<p?r=c+1:l=c;p<e[n[r]]&&(r>0&&(t[i]=n[r-1]),n[r]=i)}}for(r=n.length,l=n[r-1];r-- >0;)n[r]=l,l=t[l];return n}function Ng(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ng(t)}function Kh(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Cb=Symbol.for("v-scx"),Eb=()=>va(Cb);function Kn(e,t,n){return Pg(e,t,n)}function Pg(e,t,n=Fn){const{immediate:i,deep:s,flush:r,once:l}=n,c=$o({},n),d=t&&i||!t&&r!=="post";let p;if(iu){if(r==="sync"){const m=Eb();p=m.__watcherHandles||(m.__watcherHandles=[])}else if(!d){const m=()=>{};return m.stop=Ss,m.resume=Ss,m.pause=Ss,m}}const f=oi;c.call=(m,y,A)=>Ya(m,f,y,A);let v=!1;r==="post"?c.scheduler=m=>{mi(m,f&&f.suspense)}:r!=="sync"&&(v=!0,c.scheduler=(m,y)=>{y?m():Xp(m)}),c.augmentJob=m=>{t&&(m.flags|=4),v&&(m.flags|=2,f&&(m.id=f.uid,m.i=f))};const w=q_(e,t,c);return iu&&(p?p.push(w):d&&w()),w}function Lb(e,t,n){const i=this.proxy,s=Qn(e)?e.includes(".")?$g(i,e):()=>i[e]:e.bind(i,i);let r;Gt(t)?r=t:(r=t.handler,n=t);const l=du(this),c=Pg(s,r.bind(i),n);return l(),c}function $g(e,t){const n=t.split(".");return()=>{let i=e;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}const Nb=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${_a(t)}Modifiers`]||e[`${Fr(t)}Modifiers`];function Pb(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Fn;let s=n;const r=t.startsWith("update:"),l=r&&Nb(i,t.slice(7));l&&(l.trim&&(s=n.map(f=>Qn(f)?f.trim():f)),l.number&&(s=n.map(Od)));let c,d=i[c=vf(t)]||i[c=vf(_a(t))];!d&&r&&(d=i[c=vf(Fr(t))]),d&&Ya(d,e,6,s);const p=i[c+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,Ya(p,e,6,s)}}const $b=new WeakMap;function Tg(e,t,n=!1){const i=n?$b:t.emitsCache,s=i.get(e);if(s!==void 0)return s;const r=e.emits;let l={},c=!1;if(!Gt(e)){const d=p=>{const f=Tg(p,t,!0);f&&(c=!0,$o(l,f))};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!r&&!c?(Tn(e)&&i.set(e,null),null):(Rt(r)?r.forEach(d=>l[d]=null):$o(l,r),Tn(e)&&i.set(e,l),l)}function Ud(e,t){return!e||!Id(t)?!1:(t=t.slice(2).replace(/Once$/,""),Cn(e,t[0].toLowerCase()+t.slice(1))||Cn(e,Fr(t))||Cn(e,t))}function Jh(e){const{type:t,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:l,attrs:c,emit:d,render:p,renderCache:f,props:v,data:w,setupState:m,ctx:y,inheritAttrs:A}=e,N=wd(e);let k,T;try{if(n.shapeFlag&4){const j=s||i,K=j;k=ws(p.call(K,j,f,v,m,w,y)),T=c}else{const j=t;k=ws(j.length>1?j(v,{attrs:c,slots:l,emit:d}):j(v,null)),T=t.props?c:Tb(c)}}catch(j){Wc.length=0,Bd(j,e,1),k=Ke(ni)}let I=k;if(T&&A!==!1){const j=Object.keys(T),{shapeFlag:K}=I;j.length&&K&7&&(r&&j.some(jp)&&(T=Ib(T,r)),I=Rr(I,T,!1,!0))}return n.dirs&&(I=Rr(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(n.dirs):n.dirs),n.transition&&wl(I,n.transition),k=I,wd(N),k}const Tb=e=>{let t;for(const n in e)(n==="class"||n==="style"||Id(n))&&((t||(t={}))[n]=e[n]);return t},Ib=(e,t)=>{const n={};for(const i in e)(!jp(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function Db(e,t,n){const{props:i,children:s,component:r}=e,{props:l,children:c,patchFlag:d}=t,p=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return i?Yh(i,l,p):!!l;if(d&8){const f=t.dynamicProps;for(let v=0;v<f.length;v++){const w=f[v];if(l[w]!==i[w]&&!Ud(p,w))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:i===l?!1:i?l?Yh(i,l,p):!0:!!l;return!1}function Yh(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(t[r]!==e[r]&&!Ud(n,r))return!0}return!1}function Rb({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const Ig=e=>e.__isSuspense;function Ob(e,t){t&&t.pendingBranch?Rt(e)?t.effects.push(...e):t.effects.push(e):W_(e)}const rt=Symbol.for("v-fgt"),Vd=Symbol.for("v-txt"),ni=Symbol.for("v-cmt"),od=Symbol.for("v-stc"),Wc=[];let Yi=null;function D(e=!1){Wc.push(Yi=e?null:[])}function Mb(){Wc.pop(),Yi=Wc[Wc.length-1]||null}let nu=1;function Sd(e,t=!1){nu+=e,e<0&&Yi&&t&&(Yi.hasOnce=!0)}function Dg(e){return e.dynamicChildren=nu>0?Yi||nc:null,Mb(),nu>0&&Yi&&Yi.push(e),e}function M(e,t,n,i,s,r){return Dg(o(e,t,n,i,s,r,!0))}function nn(e,t,n,i,s){return Dg(Ke(e,t,n,i,s,!0))}function ou(e){return e?e.__v_isVNode===!0:!1}function fl(e,t){return e.type===t.type&&e.key===t.key}const Rg=({key:e})=>e??null,id=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Qn(e)||_o(e)||Gt(e)?{i:Uo,r:e,k:t,f:!!n}:e:null);function o(e,t=null,n=null,i=0,s=null,r=e===rt?0:1,l=!1,c=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Rg(t),ref:t&&id(t),scopeId:X1,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Uo};return c?(ih(d,n),r&128&&e.normalize(d)):n&&(d.shapeFlag|=Qn(n)?8:16),nu>0&&!l&&Yi&&(d.patchFlag>0||r&6)&&d.patchFlag!==32&&Yi.push(d),d}const Ke=Fb;function Fb(e,t=null,n=null,i=0,s=null,r=!1){if((!e||e===hg)&&(e=ni),ou(e)){const c=Rr(e,t,!0);return n&&ih(c,n),nu>0&&!r&&Yi&&(c.shapeFlag&6?Yi[Yi.indexOf(e)]=c:Yi.push(c)),c.patchFlag=-2,c}if(Kb(e)&&(e=e.__vccOpts),t){t=Bb(t);let{class:c,style:d}=t;c&&!Qn(c)&&(t.class=ot(c)),Tn(d)&&(Jp(d)&&!Rt(d)&&(d=$o({},d)),t.style=Wa(d))}const l=Qn(e)?1:Ig(e)?128:eg(e)?64:Tn(e)?4:Gt(e)?2:0;return o(e,t,n,i,s,l,r,!0)}function Bb(e){return e?Jp(e)||Ag(e)?$o({},e):e:null}function Rr(e,t,n=!1,i=!1){const{props:s,ref:r,patchFlag:l,children:c,transition:d}=e,p=t?jb(s||{},t):s,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:p,key:p&&Rg(p),ref:t&&t.ref?n&&r?Rt(r)?r.concat(id(t)):[r,id(t)]:id(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==rt?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Rr(e.ssContent),ssFallback:e.ssFallback&&Rr(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&i&&wl(f,d.clone(f)),f}function je(e=" ",t=0){return Ke(Vd,null,e,t)}function Bt(e,t){const n=Ke(od,null,e);return n.staticCount=t,n}function _e(e="",t=!1){return t?(D(),nn(ni,null,e)):Ke(ni,null,e)}function ws(e){return e==null||typeof e=="boolean"?Ke(ni):Rt(e)?Ke(rt,null,e.slice()):ou(e)?Lr(e):Ke(Vd,null,String(e))}function Lr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Rr(e)}function ih(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Rt(t))n=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),ih(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Ag(t)?t._ctx=Uo:s===3&&Uo&&(Uo.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Gt(t)?(t={default:t,_ctx:Uo},n=32):(t=String(t),i&64?(n=16,t=[je(t)]):n=8);e.children=t,e.shapeFlag|=n}function jb(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=ot([t.class,i.class]));else if(s==="style")t.style=Wa([t.style,i.style]);else if(Id(s)){const r=t[s],l=i[s];l&&r!==l&&!(Rt(r)&&r.includes(l))&&(t[s]=r?[].concat(r,l):l)}else s!==""&&(t[s]=i[s])}return t}function ms(e,t,n,i=null){Ya(e,t,7,[n,i])}const zb=yg();let Ub=0;function Vb(e,t,n){const i=e.type,s=(t?t.appContext:e.appContext)||zb,r={uid:Ub++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new L1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kg(i,s),emitsOptions:Tg(i,s),emit:null,emitted:null,propsDefaults:Fn,inheritAttrs:i.inheritAttrs,ctx:Fn,data:Fn,props:Fn,attrs:Fn,slots:Fn,refs:Fn,setupState:Fn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Pb.bind(null,r),e.ce&&e.ce(r),r}let oi=null;const uu=()=>oi||Uo;let kd,pp;{const e=Md(),t=(n,i)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(i),r=>{s.length>1?s.forEach(l=>l(r)):s[0](r)}};kd=t("__VUE_INSTANCE_SETTERS__",n=>oi=n),pp=t("__VUE_SSR_SETTERS__",n=>iu=n)}const du=e=>{const t=oi;return kd(e),e.scope.on(),()=>{e.scope.off(),kd(t)}},Xh=()=>{oi&&oi.scope.off(),kd(null)};function Og(e){return e.vnode.shapeFlag&4}let iu=!1;function qb(e,t=!1,n=!1){t&&pp(t);const{props:i,children:s}=e.vnode,r=Og(e);vb(e,i,r,t),yb(e,s,n||t);const l=r?Hb(e,t):void 0;return t&&pp(!1),l}function Hb(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,rb);const{setup:i}=n;if(i){Js();const s=e.setupContext=i.length>1?Wb(e):null,r=du(e),l=cu(i,e,0,[e.props,s]),c=w1(l);if(Ys(),r(),(c||e.sp)&&!ac(e)&&ug(e),c){if(l.then(Xh,Xh),t)return l.then(d=>{Qh(e,d)}).catch(d=>{Bd(d,e,0)});e.asyncDep=l}else Qh(e,l)}else Mg(e)}function Qh(e,t,n){Gt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Tn(t)&&(e.setupState=W1(t)),Mg(e)}function Mg(e,t,n){const i=e.type;e.render||(e.render=i.render||Ss);{const s=du(e);Js();try{lb(e)}finally{Ys(),s()}}}const Gb={get(e,t){return ti(e,"get",""),e[t]}};function Wb(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Gb),slots:e.slots,emit:e.emit,expose:t}}function qd(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(W1(Yp(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Gc)return Gc[n](e)},has(t,n){return n in t||n in Gc}})):e.proxy}function Zb(e,t=!0){return Gt(e)?e.displayName||e.name:e.name||t&&e.__name}function Kb(e){return Gt(e)&&"__vccOpts"in e}const We=(e,t)=>U_(e,t,iu);function ah(e,t,n){try{Sd(-1);const i=arguments.length;return i===2?Tn(t)&&!Rt(t)?ou(t)?Ke(e,null,[t]):Ke(e,t):Ke(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&ou(n)&&(n=[n]),Ke(e,t,n))}finally{Sd(1)}}const Jb="3.5.24";/**
* @vue/runtime-dom v3.5.24
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let hp;const em=typeof window<"u"&&window.trustedTypes;if(em)try{hp=em.createPolicy("vue",{createHTML:e=>e})}catch{}const Fg=hp?e=>hp.createHTML(e):e=>e,Yb="http://www.w3.org/2000/svg",Xb="http://www.w3.org/1998/Math/MathML",qs=typeof document<"u"?document:null,tm=qs&&qs.createElement("template"),Qb={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const s=t==="svg"?qs.createElementNS(Yb,e):t==="mathml"?qs.createElementNS(Xb,e):n?qs.createElement(e,{is:n}):qs.createElement(e);return e==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:e=>qs.createTextNode(e),createComment:e=>qs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>qs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,s,r){const l=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{tm.innerHTML=Fg(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const c=tm.content;if(i==="svg"||i==="mathml"){const d=c.firstChild;for(;d.firstChild;)c.appendChild(d.firstChild);c.removeChild(d)}t.insertBefore(c,n)}return[l?l.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},wr="transition",Dc="animation",uc=Symbol("_vtc"),Bg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},jg=$o({},ag,Bg),e5=e=>(e.displayName="Transition",e.props=jg,e),zg=e5((e,{slots:t})=>ah(J_,Ug(e),t)),cl=(e,t=[])=>{Rt(e)?e.forEach(n=>n(...t)):e&&e(...t)},nm=e=>e?Rt(e)?e.some(t=>t.length>1):e.length>1:!1;function Ug(e){const t={};for(const $ in e)$ in Bg||(t[$]=e[$]);if(e.css===!1)return t;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:d=r,appearActiveClass:p=l,appearToClass:f=c,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:w=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,y=t5(s),A=y&&y[0],N=y&&y[1],{onBeforeEnter:k,onEnter:T,onEnterCancelled:I,onLeave:j,onLeaveCancelled:K,onBeforeAppear:W=k,onAppear:H=T,onAppearCancelled:F=I}=t,R=($,Z,b,S)=>{$._enterCancelled=S,kr($,Z?f:c),kr($,Z?p:l),b&&b()},z=($,Z)=>{$._isLeaving=!1,kr($,v),kr($,m),kr($,w),Z&&Z()},x=$=>(Z,b)=>{const S=$?H:T,Q=()=>R(Z,$,b);cl(S,[Z,Q]),om(()=>{kr(Z,$?d:r),_s(Z,$?f:c),nm(S)||im(Z,i,A,Q)})};return $o(t,{onBeforeEnter($){cl(k,[$]),_s($,r),_s($,l)},onBeforeAppear($){cl(W,[$]),_s($,d),_s($,p)},onEnter:x(!1),onAppear:x(!0),onLeave($,Z){$._isLeaving=!0;const b=()=>z($,Z);_s($,v),$._enterCancelled?(_s($,w),mp($)):(mp($),_s($,w)),om(()=>{$._isLeaving&&(kr($,v),_s($,m),nm(j)||im($,i,N,b))}),cl(j,[$,b])},onEnterCancelled($){R($,!1,void 0,!0),cl(I,[$])},onAppearCancelled($){R($,!0,void 0,!0),cl(F,[$])},onLeaveCancelled($){z($),cl(K,[$])}})}function t5(e){if(e==null)return null;if(Tn(e))return[Sf(e.enter),Sf(e.leave)];{const t=Sf(e);return[t,t]}}function Sf(e){return r_(e)}function _s(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[uc]||(e[uc]=new Set)).add(t)}function kr(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const n=e[uc];n&&(n.delete(t),n.size||(e[uc]=void 0))}function om(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let n5=0;function im(e,t,n,i){const s=e._endId=++n5,r=()=>{s===e._endId&&i()};if(n!=null)return setTimeout(r,n);const{type:l,timeout:c,propCount:d}=Vg(e,t);if(!l)return i();const p=l+"end";let f=0;const v=()=>{e.removeEventListener(p,w),r()},w=m=>{m.target===e&&++f>=d&&v()};setTimeout(()=>{f<d&&v()},c+1),e.addEventListener(p,w)}function Vg(e,t){const n=window.getComputedStyle(e),i=y=>(n[y]||"").split(", "),s=i(`${wr}Delay`),r=i(`${wr}Duration`),l=am(s,r),c=i(`${Dc}Delay`),d=i(`${Dc}Duration`),p=am(c,d);let f=null,v=0,w=0;t===wr?l>0&&(f=wr,v=l,w=r.length):t===Dc?p>0&&(f=Dc,v=p,w=d.length):(v=Math.max(l,p),f=v>0?l>p?wr:Dc:null,w=f?f===wr?r.length:d.length:0);const m=f===wr&&/\b(?:transform|all)(?:,|$)/.test(i(`${wr}Property`).toString());return{type:f,timeout:v,propCount:w,hasTransform:m}}function am(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>sm(n)+sm(e[i])))}function sm(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function mp(e){return(e?e.ownerDocument:document).body.offsetHeight}function o5(e,t,n){const i=e[uc];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Cd=Symbol("_vod"),qg=Symbol("_vsh"),Nr={name:"show",beforeMount(e,{value:t},{transition:n}){e[Cd]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Rc(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Rc(e,!0),i.enter(e)):i.leave(e,()=>{Rc(e,!1)}):Rc(e,t))},beforeUnmount(e,{value:t}){Rc(e,t)}};function Rc(e,t){e.style.display=t?e[Cd]:"none",e[qg]=!t}const i5=Symbol(""),a5=/(?:^|;)\s*display\s*:/;function s5(e,t,n){const i=e.style,s=Qn(n);let r=!1;if(n&&!s){if(t)if(Qn(t))for(const l of t.split(";")){const c=l.slice(0,l.indexOf(":")).trim();n[c]==null&&ad(i,c,"")}else for(const l in t)n[l]==null&&ad(i,l,"");for(const l in n)l==="display"&&(r=!0),ad(i,l,n[l])}else if(s){if(t!==n){const l=i[i5];l&&(n+=";"+l),i.cssText=n,r=a5.test(n)}}else t&&e.removeAttribute("style");Cd in e&&(e[Cd]=r?i.display:"",e[qg]&&(i.display="none"))}const rm=/\s*!important$/;function ad(e,t,n){if(Rt(n))n.forEach(i=>ad(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=r5(e,t);rm.test(n)?e.setProperty(Fr(i),n.replace(rm,""),"important"):e[i]=n}}const lm=["Webkit","Moz","ms"],kf={};function r5(e,t){const n=kf[t];if(n)return n;let i=_a(t);if(i!=="filter"&&i in e)return kf[t]=i;i=Rd(i);for(let s=0;s<lm.length;s++){const r=lm[s]+i;if(r in e)return kf[t]=r}return t}const cm="http://www.w3.org/1999/xlink";function um(e,t,n,i,s,r=p_(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(cm,t.slice(6,t.length)):e.setAttributeNS(cm,t,n):n==null||r&&!k1(n)?e.removeAttribute(t):e.setAttribute(t,r?"":Ja(n)?String(n):n)}function dm(e,t,n,i,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Fg(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const c=r==="OPTION"?e.getAttribute("value")||"":e.value,d=n==null?e.type==="checkbox"?"on":"":String(n);(c!==d||!("_value"in e))&&(e.value=d),n==null&&e.removeAttribute(t),e._value=n;return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=k1(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(s||t)}function Ks(e,t,n,i){e.addEventListener(t,n,i)}function l5(e,t,n,i){e.removeEventListener(t,n,i)}const fm=Symbol("_vei");function c5(e,t,n,i,s=null){const r=e[fm]||(e[fm]={}),l=r[t];if(i&&l)l.value=i;else{const[c,d]=u5(t);if(i){const p=r[t]=p5(i,s);Ks(e,c,p,d)}else l&&(l5(e,c,l,d),r[t]=void 0)}}const pm=/(?:Once|Passive|Capture)$/;function u5(e){let t;if(pm.test(e)){t={};let i;for(;i=e.match(pm);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Fr(e.slice(2)),t]}let Cf=0;const d5=Promise.resolve(),f5=()=>Cf||(d5.then(()=>Cf=0),Cf=Date.now());function p5(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Ya(h5(i,n.value),t,5,[i])};return n.value=e,n.attached=f5(),n}function h5(e,t){if(Rt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const hm=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,m5=(e,t,n,i,s,r)=>{const l=s==="svg";t==="class"?o5(e,i,l):t==="style"?s5(e,n,i):Id(t)?jp(t)||c5(e,t,n,i,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):v5(e,t,i,l))?(dm(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&um(e,t,i,l,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Qn(i))?dm(e,_a(t),i,r,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),um(e,t,i,l))};function v5(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&hm(t)&&Gt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return hm(t)&&Qn(n)?!1:t in e}const Hg=new WeakMap,Gg=new WeakMap,Ed=Symbol("_moveCb"),mm=Symbol("_enterCb"),g5=e=>(delete e.props.mode,e),_5=g5({name:"TransitionGroup",props:$o({},jg,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=uu(),i=ig();let s,r;return fg(()=>{if(!s.length)return;const l=e.moveClass||`${e.name||"v"}-move`;if(!A5(s[0].el,n.vnode.el,l)){s=[];return}s.forEach(y5),s.forEach(w5);const c=s.filter(x5);mp(n.vnode.el),c.forEach(d=>{const p=d.el,f=p.style;_s(p,l),f.transform=f.webkitTransform=f.transitionDuration="";const v=p[Ed]=w=>{w&&w.target!==p||(!w||w.propertyName.endsWith("transform"))&&(p.removeEventListener("transitionend",v),p[Ed]=null,kr(p,l))};p.addEventListener("transitionend",v)}),s=[]}),()=>{const l=cn(e),c=Ug(l);let d=l.tag||rt;if(s=[],r)for(let p=0;p<r.length;p++){const f=r[p];f.el&&f.el instanceof Element&&(s.push(f),wl(f,tu(f,c,i,n)),Hg.set(f,{left:f.el.offsetLeft,top:f.el.offsetTop}))}r=t.default?Qp(t.default()):[];for(let p=0;p<r.length;p++){const f=r[p];f.key!=null&&wl(f,tu(f,c,i,n))}return Ke(d,null,r)}}}),b5=_5;function y5(e){const t=e.el;t[Ed]&&t[Ed](),t[mm]&&t[mm]()}function w5(e){Gg.set(e,{left:e.el.offsetLeft,top:e.el.offsetTop})}function x5(e){const t=Hg.get(e),n=Gg.get(e),i=t.left-n.left,s=t.top-n.top;if(i||s){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",e}}function A5(e,t,n){const i=e.cloneNode(),s=e[uc];s&&s.forEach(c=>{c.split(/\s+/).forEach(d=>d&&i.classList.remove(d))}),n.split(/\s+/).forEach(c=>c&&i.classList.add(c)),i.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(i);const{hasTransform:l}=Vg(i);return r.removeChild(i),l}const Or=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Rt(t)?n=>ed(t,n):t};function S5(e){e.target.composing=!0}function vm(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ga=Symbol("_assign");function gm(e,t,n){return t&&(e=e.trim()),n&&(e=Od(e)),e}const lt={created(e,{modifiers:{lazy:t,trim:n,number:i}},s){e[ga]=Or(s);const r=i||s.props&&s.props.type==="number";Ks(e,t?"change":"input",l=>{l.target.composing||e[ga](gm(e.value,n,r))}),(n||r)&&Ks(e,"change",()=>{e.value=gm(e.value,n,r)}),t||(Ks(e,"compositionstart",S5),Ks(e,"compositionend",vm),Ks(e,"change",vm))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:s,number:r}},l){if(e[ga]=Or(l),e.composing)return;const c=(r||e.type==="number")&&!/^0\d/.test(e.value)?Od(e.value):e.value,d=t??"";c!==d&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||s&&e.value.trim()===d)||(e.value=d))}},Po={deep:!0,created(e,t,n){e[ga]=Or(n),Ks(e,"change",()=>{const i=e._modelValue,s=dc(e),r=e.checked,l=e[ga];if(Rt(i)){const c=Vp(i,s),d=c!==-1;if(r&&!d)l(i.concat(s));else if(!r&&d){const p=[...i];p.splice(c,1),l(p)}}else if(mc(i)){const c=new Set(i);r?c.add(s):c.delete(s),l(c)}else l(Wg(e,r))})},mounted:_m,beforeUpdate(e,t,n){e[ga]=Or(n),_m(e,t,n)}};function _m(e,{value:t,oldValue:n},i){e._modelValue=t;let s;if(Rt(t))s=Vp(t,i.props.value)>-1;else if(mc(t))s=t.has(i.props.value);else{if(t===n)return;s=yl(t,Wg(e,!0))}e.checked!==s&&(e.checked=s)}const Ql={created(e,{value:t},n){e.checked=yl(t,n.props.value),e[ga]=Or(n),Ks(e,"change",()=>{e[ga](dc(e))})},beforeUpdate(e,{value:t,oldValue:n},i){e[ga]=Or(i),t!==n&&(e.checked=yl(t,i.props.value))}},yt={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const s=mc(t);Ks(e,"change",()=>{const r=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>n?Od(dc(l)):dc(l));e[ga](e.multiple?s?new Set(r):r:r[0]),e._assigning=!0,_i(()=>{e._assigning=!1})}),e[ga]=Or(i)},mounted(e,{value:t}){bm(e,t)},beforeUpdate(e,t,n){e[ga]=Or(n)},updated(e,{value:t}){e._assigning||bm(e,t)}};function bm(e,t){const n=e.multiple,i=Rt(t);if(!(n&&!i&&!mc(t))){for(let s=0,r=e.options.length;s<r;s++){const l=e.options[s],c=dc(l);if(n)if(i){const d=typeof c;d==="string"||d==="number"?l.selected=t.some(p=>String(p)===String(c)):l.selected=Vp(t,c)>-1}else l.selected=t.has(c);else if(yl(dc(l),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function dc(e){return"_value"in e?e._value:e.value}function Wg(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const k5={created(e,t,n){Uu(e,t,n,null,"created")},mounted(e,t,n){Uu(e,t,n,null,"mounted")},beforeUpdate(e,t,n,i){Uu(e,t,n,i,"beforeUpdate")},updated(e,t,n,i){Uu(e,t,n,i,"updated")}};function C5(e,t){switch(e){case"SELECT":return yt;case"TEXTAREA":return lt;default:switch(t){case"checkbox":return Po;case"radio":return Ql;default:return lt}}}function Uu(e,t,n,i,s){const l=C5(e.tagName,n.props&&n.props.type)[s];l&&l(e,t,n,i)}const E5=["ctrl","shift","alt","meta"],L5={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>E5.some(n=>e[`${n}Key`]&&!t.includes(n))},Tt=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(s,...r)=>{for(let l=0;l<t.length;l++){const c=L5[t[l]];if(c&&c(s,t))return}return e(s,...r)})},N5={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Cl=(e,t)=>{const n=e._withKeys||(e._withKeys={}),i=t.join(".");return n[i]||(n[i]=s=>{if(!("key"in s))return;const r=Fr(s.key);if(t.some(l=>l===r||N5[l]===r))return e(s)})},P5=$o({patchProp:m5},Qb);let ym;function $5(){return ym||(ym=xb(P5))}const T5=(...e)=>{const t=$5().createApp(...e),{mount:n}=t;return t.mount=i=>{const s=D5(i);if(!s)return;const r=t._component;!Gt(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const l=n(s,!1,I5(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},t};function I5(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function D5(e){return Qn(e)?document.querySelector(e):e}/*!
 * pinia v3.0.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Zg;const Hd=e=>Zg=e,Kg=Symbol();function vp(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Zc;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Zc||(Zc={}));function R5(){const e=N1(!0),t=e.run(()=>ve({}));let n=[],i=[];const s=Yp({install(r){Hd(s),s._a=r,r.provide(Kg,s),r.config.globalProperties.$pinia=s,i.forEach(l=>n.push(l)),i=[]},use(r){return this._a?n.push(r):i.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const Jg=()=>{};function wm(e,t,n,i=Jg){e.add(t);const s=()=>{e.delete(t)&&i()};return!n&&P1()&&m_(s),s}function Hl(e,...t){e.forEach(n=>{n(...t)})}const O5=e=>e(),xm=Symbol(),Ef=Symbol();function gp(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,i)=>e.set(i,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],s=e[n];vp(s)&&vp(i)&&e.hasOwnProperty(n)&&!_o(i)&&!Ir(i)?e[n]=gp(s,i):e[n]=i}return e}const M5=Symbol();function F5(e){return!vp(e)||!Object.prototype.hasOwnProperty.call(e,M5)}const{assign:Cr}=Object;function B5(e){return!!(_o(e)&&e.effect)}function j5(e,t,n,i){const{state:s,actions:r,getters:l}=t,c=n.state.value[e];let d;function p(){c||(n.state.value[e]=s?s():{});const f=F_(n.state.value[e]);return Cr(f,r,Object.keys(l||{}).reduce((v,w)=>(v[w]=Yp(We(()=>{Hd(n);const m=n._s.get(e);return l[w].call(m,m)})),v),{}))}return d=Yg(e,p,t,n,i,!0),d}function Yg(e,t,n={},i,s,r){let l;const c=Cr({actions:{}},n),d={deep:!0};let p,f,v=new Set,w=new Set,m;const y=i.state.value[e];!r&&!y&&(i.state.value[e]={}),ve({});let A;function N(F){let R;p=f=!1,typeof F=="function"?(F(i.state.value[e]),R={type:Zc.patchFunction,storeId:e,events:m}):(gp(i.state.value[e],F),R={type:Zc.patchObject,payload:F,storeId:e,events:m});const z=A=Symbol();_i().then(()=>{A===z&&(p=!0)}),f=!0,Hl(v,R,i.state.value[e])}const k=r?function(){const{state:R}=n,z=R?R():{};this.$patch(x=>{Cr(x,z)})}:Jg;function T(){l.stop(),v.clear(),w.clear(),i._s.delete(e)}const I=(F,R="")=>{if(xm in F)return F[Ef]=R,F;const z=function(){Hd(i);const x=Array.from(arguments),$=new Set,Z=new Set;function b(U){$.add(U)}function S(U){Z.add(U)}Hl(w,{args:x,name:z[Ef],store:K,after:b,onError:S});let Q;try{Q=F.apply(this&&this.$id===e?this:K,x)}catch(U){throw Hl(Z,U),U}return Q instanceof Promise?Q.then(U=>(Hl($,U),U)).catch(U=>(Hl(Z,U),Promise.reject(U))):(Hl($,Q),Q)};return z[xm]=!0,z[Ef]=R,z},j={_p:i,$id:e,$onAction:wm.bind(null,w),$patch:N,$reset:k,$subscribe(F,R={}){const z=wm(v,F,R.detached,()=>x()),x=l.run(()=>Kn(()=>i.state.value[e],$=>{(R.flush==="sync"?f:p)&&F({storeId:e,type:Zc.direct,events:m},$)},Cr({},d,R)));return z},$dispose:T},K=un(j);i._s.set(e,K);const H=(i._a&&i._a.runWithContext||O5)(()=>i._e.run(()=>(l=N1()).run(()=>t({action:I}))));for(const F in H){const R=H[F];if(_o(R)&&!B5(R)||Ir(R))r||(y&&F5(R)&&(_o(R)?R.value=y[F]:gp(R,y[F])),i.state.value[e][F]=R);else if(typeof R=="function"){const z=I(R,F);H[F]=z,c.actions[F]=R}}return Cr(K,H),Cr(cn(K),H),Object.defineProperty(K,"$state",{get:()=>i.state.value[e],set:F=>{N(R=>{Cr(R,F)})}}),i._p.forEach(F=>{Cr(K,l.run(()=>F({store:K,app:i._a,pinia:i,options:c})))}),y&&r&&n.hydrate&&n.hydrate(K.$state,y),p=!0,f=!0,K}/*! #__NO_SIDE_EFFECTS__ */function fu(e,t,n){let i;const s=typeof t=="function";i=s?n:t;function r(l,c){const d=mb();return l=l||(d?va(Kg,null):null),l&&Hd(l),l=Zg,l._s.has(e)||(s?Yg(e,t,i,l):j5(e,i,l)),l._s.get(e)}return r.$id=e,r}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Jl=typeof document<"u";function Xg(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function z5(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Xg(e.default)}const kn=Object.assign;function Lf(e,t){const n={};for(const i in t){const s=t[i];n[i]=Xa(s)?s.map(e):e(s)}return n}const Kc=()=>{},Xa=Array.isArray;function Am(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}const Qg=/#/g,U5=/&/g,V5=/\//g,q5=/=/g,H5=/\?/g,e2=/\+/g,G5=/%5B/g,W5=/%5D/g,t2=/%5E/g,Z5=/%60/g,n2=/%7B/g,K5=/%7C/g,o2=/%7D/g,J5=/%20/g;function sh(e){return e==null?"":encodeURI(""+e).replace(K5,"|").replace(G5,"[").replace(W5,"]")}function Y5(e){return sh(e).replace(n2,"{").replace(o2,"}").replace(t2,"^")}function _p(e){return sh(e).replace(e2,"%2B").replace(J5,"+").replace(Qg,"%23").replace(U5,"%26").replace(Z5,"`").replace(n2,"{").replace(o2,"}").replace(t2,"^")}function X5(e){return _p(e).replace(q5,"%3D")}function Q5(e){return sh(e).replace(Qg,"%23").replace(H5,"%3F")}function ey(e){return Q5(e).replace(V5,"%2F")}function au(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const ty=/\/$/,ny=e=>e.replace(ty,"");function Nf(e,t,n="/"){let i,s={},r="",l="";const c=t.indexOf("#");let d=t.indexOf("?");return d=c>=0&&d>c?-1:d,d>=0&&(i=t.slice(0,d),r=t.slice(d,c>0?c:t.length),s=e(r.slice(1))),c>=0&&(i=i||t.slice(0,c),l=t.slice(c,t.length)),i=sy(i??t,n),{fullPath:i+r+l,path:i,query:s,hash:au(l)}}function oy(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Sm(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function iy(e,t,n){const i=t.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&fc(t.matched[i],n.matched[s])&&i2(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function fc(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function i2(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!ay(e[n],t[n]))return!1;return!0}function ay(e,t){return Xa(e)?km(e,t):Xa(t)?km(t,e):e===t}function km(e,t){return Xa(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function sy(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,l,c;for(l=0;l<i.length;l++)if(c=i[l],c!==".")if(c==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(l).join("/")}const xr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let bp=function(e){return e.pop="pop",e.push="push",e}({}),Pf=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function ry(e){if(!e)if(Jl){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ny(e)}const ly=/^[^#]+#/;function cy(e,t){return e.replace(ly,"#")+t}function uy(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Gd=()=>({left:window.scrollX,top:window.scrollY});function dy(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=uy(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Cm(e,t){return(history.state?history.state.position-t:-1)+e}const yp=new Map;function fy(e,t){yp.set(e,t)}function py(e){const t=yp.get(e);return yp.delete(e),t}function hy(e){return typeof e=="string"||e&&typeof e=="object"}function a2(e){return typeof e=="string"||typeof e=="symbol"}let so=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const s2=Symbol("");so.MATCHER_NOT_FOUND+"",so.NAVIGATION_GUARD_REDIRECT+"",so.NAVIGATION_ABORTED+"",so.NAVIGATION_CANCELLED+"",so.NAVIGATION_DUPLICATED+"";function pc(e,t){return kn(new Error,{type:e,[s2]:!0},t)}function zs(e,t){return e instanceof Error&&s2 in e&&(t==null||!!(e.type&t))}const my=["params","query","hash"];function vy(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of my)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function gy(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const s=n[i].replace(e2," "),r=s.indexOf("="),l=au(r<0?s:s.slice(0,r)),c=r<0?null:au(s.slice(r+1));if(l in t){let d=t[l];Xa(d)||(d=t[l]=[d]),d.push(c)}else t[l]=c}return t}function Em(e){let t="";for(let n in e){const i=e[n];if(n=X5(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Xa(i)?i.map(s=>s&&_p(s)):[i&&_p(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function _y(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Xa(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return t}const by=Symbol(""),Lm=Symbol(""),Wd=Symbol(""),rh=Symbol(""),wp=Symbol("");function Oc(){let e=[];function t(i){return e.push(i),()=>{const s=e.indexOf(i);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Pr(e,t,n,i,s,r=l=>l()){const l=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((c,d)=>{const p=w=>{w===!1?d(pc(so.NAVIGATION_ABORTED,{from:n,to:t})):w instanceof Error?d(w):hy(w)?d(pc(so.NAVIGATION_GUARD_REDIRECT,{from:t,to:w})):(l&&i.enterCallbacks[s]===l&&typeof w=="function"&&l.push(w),c())},f=r(()=>e.call(i&&i.instances[s],t,n,p));let v=Promise.resolve(f);e.length<3&&(v=v.then(p)),v.catch(w=>d(w))})}function $f(e,t,n,i,s=r=>r()){const r=[];for(const l of e)for(const c in l.components){let d=l.components[c];if(!(t!=="beforeRouteEnter"&&!l.instances[c]))if(Xg(d)){const p=(d.__vccOpts||d)[t];p&&r.push(Pr(p,n,i,l,c,s))}else{let p=d();r.push(()=>p.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${c}" at "${l.path}"`);const v=z5(f)?f.default:f;l.mods[c]=f,l.components[c]=v;const w=(v.__vccOpts||v)[t];return w&&Pr(w,n,i,l,c,s)()}))}}return r}function yy(e,t){const n=[],i=[],s=[],r=Math.max(t.matched.length,e.matched.length);for(let l=0;l<r;l++){const c=t.matched[l];c&&(e.matched.find(p=>fc(p,c))?i.push(c):n.push(c));const d=e.matched[l];d&&(t.matched.find(p=>fc(p,d))||s.push(d))}return[n,i,s]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let wy=()=>location.protocol+"//"+location.host;function r2(e,t){const{pathname:n,search:i,hash:s}=t,r=e.indexOf("#");if(r>-1){let l=s.includes(e.slice(r))?e.slice(r).length:1,c=s.slice(l);return c[0]!=="/"&&(c="/"+c),Sm(c,"")}return Sm(n,e)+i+s}function xy(e,t,n,i){let s=[],r=[],l=null;const c=({state:w})=>{const m=r2(e,location),y=n.value,A=t.value;let N=0;if(w){if(n.value=m,t.value=w,l&&l===y){l=null;return}N=A?w.position-A.position:0}else i(m);s.forEach(k=>{k(n.value,y,{delta:N,type:bp.pop,direction:N?N>0?Pf.forward:Pf.back:Pf.unknown})})};function d(){l=n.value}function p(w){s.push(w);const m=()=>{const y=s.indexOf(w);y>-1&&s.splice(y,1)};return r.push(m),m}function f(){if(document.visibilityState==="hidden"){const{history:w}=window;if(!w.state)return;w.replaceState(kn({},w.state,{scroll:Gd()}),"")}}function v(){for(const w of r)w();r=[],window.removeEventListener("popstate",c),window.removeEventListener("pagehide",f),document.removeEventListener("visibilitychange",f)}return window.addEventListener("popstate",c),window.addEventListener("pagehide",f),document.addEventListener("visibilitychange",f),{pauseListeners:d,listen:p,destroy:v}}function Nm(e,t,n,i=!1,s=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:s?Gd():null}}function Ay(e){const{history:t,location:n}=window,i={value:r2(e,n)},s={value:t.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(d,p,f){const v=e.indexOf("#"),w=v>-1?(n.host&&document.querySelector("base")?e:e.slice(v))+d:wy()+e+d;try{t[f?"replaceState":"pushState"](p,"",w),s.value=p}catch(m){console.error(m),n[f?"replace":"assign"](w)}}function l(d,p){r(d,kn({},t.state,Nm(s.value.back,d,s.value.forward,!0),p,{position:s.value.position}),!0),i.value=d}function c(d,p){const f=kn({},s.value,t.state,{forward:d,scroll:Gd()});r(f.current,f,!0),r(d,kn({},Nm(i.value,d,null),{position:f.position+1},p),!1),i.value=d}return{location:i,state:s,push:c,replace:l}}function Sy(e){e=ry(e);const t=Ay(e),n=xy(e,t.state,t.location,t.replace);function i(r,l=!0){l||n.pauseListeners(),history.go(r)}const s=kn({location:"",base:e,go:i,createHref:cy.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}let hl=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var No=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(No||{});const ky={type:hl.Static,value:""},Cy=/[a-zA-Z0-9_]/;function Ey(e){if(!e)return[[]];if(e==="/")return[[ky]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${p}": ${m}`)}let n=No.Static,i=n;const s=[];let r;function l(){r&&s.push(r),r=[]}let c=0,d,p="",f="";function v(){p&&(n===No.Static?r.push({type:hl.Static,value:p}):n===No.Param||n===No.ParamRegExp||n===No.ParamRegExpEnd?(r.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),r.push({type:hl.Param,value:p,regexp:f,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),p="")}function w(){p+=d}for(;c<e.length;){if(d=e[c++],d==="\\"&&n!==No.ParamRegExp){i=n,n=No.EscapeNext;continue}switch(n){case No.Static:d==="/"?(p&&v(),l()):d===":"?(v(),n=No.Param):w();break;case No.EscapeNext:w(),n=i;break;case No.Param:d==="("?n=No.ParamRegExp:Cy.test(d)?w():(v(),n=No.Static,d!=="*"&&d!=="?"&&d!=="+"&&c--);break;case No.ParamRegExp:d===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+d:n=No.ParamRegExpEnd:f+=d;break;case No.ParamRegExpEnd:v(),n=No.Static,d!=="*"&&d!=="?"&&d!=="+"&&c--,f="";break;default:t("Unknown state");break}}return n===No.ParamRegExp&&t(`Unfinished custom RegExp for param "${p}"`),v(),l(),s}const Pm="[^/]+?",Ly={sensitive:!1,strict:!1,start:!0,end:!0};var vi=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(vi||{});const Ny=/[.+*?^${}()[\]/\\]/g;function Py(e,t){const n=kn({},Ly,t),i=[];let s=n.start?"^":"";const r=[];for(const p of e){const f=p.length?[]:[vi.Root];n.strict&&!p.length&&(s+="/");for(let v=0;v<p.length;v++){const w=p[v];let m=vi.Segment+(n.sensitive?vi.BonusCaseSensitive:0);if(w.type===hl.Static)v||(s+="/"),s+=w.value.replace(Ny,"\\$&"),m+=vi.Static;else if(w.type===hl.Param){const{value:y,repeatable:A,optional:N,regexp:k}=w;r.push({name:y,repeatable:A,optional:N});const T=k||Pm;if(T!==Pm){m+=vi.BonusCustomRegExp;try{`${T}`}catch(j){throw new Error(`Invalid custom RegExp for param "${y}" (${T}): `+j.message)}}let I=A?`((?:${T})(?:/(?:${T}))*)`:`(${T})`;v||(I=N&&p.length<2?`(?:/${I})`:"/"+I),N&&(I+="?"),s+=I,m+=vi.Dynamic,N&&(m+=vi.BonusOptional),A&&(m+=vi.BonusRepeatable),T===".*"&&(m+=vi.BonusWildcard)}f.push(m)}i.push(f)}if(n.strict&&n.end){const p=i.length-1;i[p][i[p].length-1]+=vi.BonusStrict}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const l=new RegExp(s,n.sensitive?"":"i");function c(p){const f=p.match(l),v={};if(!f)return null;for(let w=1;w<f.length;w++){const m=f[w]||"",y=r[w-1];v[y.name]=m&&y.repeatable?m.split("/"):m}return v}function d(p){let f="",v=!1;for(const w of e){(!v||!f.endsWith("/"))&&(f+="/"),v=!1;for(const m of w)if(m.type===hl.Static)f+=m.value;else if(m.type===hl.Param){const{value:y,repeatable:A,optional:N}=m,k=y in p?p[y]:"";if(Xa(k)&&!A)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const T=Xa(k)?k.join("/"):k;if(!T)if(N)w.length<2&&(f.endsWith("/")?f=f.slice(0,-1):v=!0);else throw new Error(`Missing required param "${y}"`);f+=T}}return f||"/"}return{re:l,score:i,keys:r,parse:c,stringify:d}}function $y(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===vi.Static+vi.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===vi.Static+vi.Segment?1:-1:0}function l2(e,t){let n=0;const i=e.score,s=t.score;for(;n<i.length&&n<s.length;){const r=$y(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if($m(i))return 1;if($m(s))return-1}return s.length-i.length}function $m(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Ty={strict:!1,end:!0,sensitive:!1};function Iy(e,t,n){const i=Py(Ey(e.path),n),s=kn(i,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Dy(e,t){const n=[],i=new Map;t=Am(Ty,t);function s(v){return i.get(v)}function r(v,w,m){const y=!m,A=Im(v);A.aliasOf=m&&m.record;const N=Am(t,v),k=[A];if("alias"in v){const j=typeof v.alias=="string"?[v.alias]:v.alias;for(const K of j)k.push(Im(kn({},A,{components:m?m.record.components:A.components,path:K,aliasOf:m?m.record:A})))}let T,I;for(const j of k){const{path:K}=j;if(w&&K[0]!=="/"){const W=w.record.path,H=W[W.length-1]==="/"?"":"/";j.path=w.record.path+(K&&H+K)}if(T=Iy(j,w,N),m?m.alias.push(T):(I=I||T,I!==T&&I.alias.push(T),y&&v.name&&!Dm(T)&&l(v.name)),c2(T)&&d(T),A.children){const W=A.children;for(let H=0;H<W.length;H++)r(W[H],T,m&&m.children[H])}m=m||T}return I?()=>{l(I)}:Kc}function l(v){if(a2(v)){const w=i.get(v);w&&(i.delete(v),n.splice(n.indexOf(w),1),w.children.forEach(l),w.alias.forEach(l))}else{const w=n.indexOf(v);w>-1&&(n.splice(w,1),v.record.name&&i.delete(v.record.name),v.children.forEach(l),v.alias.forEach(l))}}function c(){return n}function d(v){const w=My(v,n);n.splice(w,0,v),v.record.name&&!Dm(v)&&i.set(v.record.name,v)}function p(v,w){let m,y={},A,N;if("name"in v&&v.name){if(m=i.get(v.name),!m)throw pc(so.MATCHER_NOT_FOUND,{location:v});N=m.record.name,y=kn(Tm(w.params,m.keys.filter(I=>!I.optional).concat(m.parent?m.parent.keys.filter(I=>I.optional):[]).map(I=>I.name)),v.params&&Tm(v.params,m.keys.map(I=>I.name))),A=m.stringify(y)}else if(v.path!=null)A=v.path,m=n.find(I=>I.re.test(A)),m&&(y=m.parse(A),N=m.record.name);else{if(m=w.name?i.get(w.name):n.find(I=>I.re.test(w.path)),!m)throw pc(so.MATCHER_NOT_FOUND,{location:v,currentLocation:w});N=m.record.name,y=kn({},w.params,v.params),A=m.stringify(y)}const k=[];let T=m;for(;T;)k.unshift(T.record),T=T.parent;return{name:N,path:A,params:y,matched:k,meta:Oy(k)}}e.forEach(v=>r(v));function f(){n.length=0,i.clear()}return{addRoute:r,resolve:p,removeRoute:l,clearRoutes:f,getRoutes:c,getRecordMatcher:s}}function Tm(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function Im(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Ry(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Ry(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function Dm(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Oy(e){return e.reduce((t,n)=>kn(t,n.meta),{})}function My(e,t){let n=0,i=t.length;for(;n!==i;){const r=n+i>>1;l2(e,t[r])<0?i=r:n=r+1}const s=Fy(e);return s&&(i=t.lastIndexOf(s,i-1)),i}function Fy(e){let t=e;for(;t=t.parent;)if(c2(t)&&l2(e,t)===0)return t}function c2({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Rm(e){const t=va(Wd),n=va(rh),i=We(()=>{const d=Ka(e.to);return t.resolve(d)}),s=We(()=>{const{matched:d}=i.value,{length:p}=d,f=d[p-1],v=n.matched;if(!f||!v.length)return-1;const w=v.findIndex(fc.bind(null,f));if(w>-1)return w;const m=Om(d[p-2]);return p>1&&Om(f)===m&&v[v.length-1].path!==m?v.findIndex(fc.bind(null,d[p-2])):w}),r=We(()=>s.value>-1&&Uy(n.params,i.value.params)),l=We(()=>s.value>-1&&s.value===n.matched.length-1&&i2(n.params,i.value.params));function c(d={}){if(zy(d)){const p=t[Ka(e.replace)?"replace":"push"](Ka(e.to)).catch(Kc);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>p),p}return Promise.resolve()}return{route:i,href:We(()=>i.value.href),isActive:r,isExactActive:l,navigate:c}}function By(e){return e.length===1?e[0]:e}const jy=cg({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Rm,setup(e,{slots:t}){const n=un(Rm(e)),{options:i}=va(Wd),s=We(()=>({[Mm(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Mm(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&By(t.default(n));return e.custom?r:ah("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),xp=jy;function zy(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Uy(e,t){for(const n in t){const i=t[n],s=e[n];if(typeof i=="string"){if(i!==s)return!1}else if(!Xa(s)||s.length!==i.length||i.some((r,l)=>r!==s[l]))return!1}return!0}function Om(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Mm=(e,t,n)=>e??t??n,Vy=cg({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=va(wp),s=We(()=>e.route||i.value),r=va(Lm,0),l=We(()=>{let p=Ka(r);const{matched:f}=s.value;let v;for(;(v=f[p])&&!v.components;)p++;return p}),c=We(()=>s.value.matched[l.value]);nd(Lm,We(()=>l.value+1)),nd(by,c),nd(wp,s);const d=ve();return Kn(()=>[d.value,c.value,e.name],([p,f,v],[w,m,y])=>{f&&(f.instances[v]=p,m&&m!==f&&p&&p===w&&(f.leaveGuards.size||(f.leaveGuards=m.leaveGuards),f.updateGuards.size||(f.updateGuards=m.updateGuards))),p&&f&&(!m||!fc(f,m)||!w)&&(f.enterCallbacks[v]||[]).forEach(A=>A(p))},{flush:"post"}),()=>{const p=s.value,f=e.name,v=c.value,w=v&&v.components[f];if(!w)return Fm(n.default,{Component:w,route:p});const m=v.props[f],y=m?m===!0?p.params:typeof m=="function"?m(p):m:null,N=ah(w,kn({},y,t,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(v.instances[f]=null)},ref:d}));return Fm(n.default,{Component:N,route:p})||N}}});function Fm(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const qy=Vy;function Hy(e){const t=Dy(e.routes,e),n=e.parseQuery||gy,i=e.stringifyQuery||Em,s=e.history,r=Oc(),l=Oc(),c=Oc(),d=R_(xr);let p=xr;Jl&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Lf.bind(null,Y=>""+Y),v=Lf.bind(null,ey),w=Lf.bind(null,au);function m(Y,ee){let fe,ae;return a2(Y)?(fe=t.getRecordMatcher(Y),ae=ee):ae=Y,t.addRoute(ae,fe)}function y(Y){const ee=t.getRecordMatcher(Y);ee&&t.removeRoute(ee)}function A(){return t.getRoutes().map(Y=>Y.record)}function N(Y){return!!t.getRecordMatcher(Y)}function k(Y,ee){if(ee=kn({},ee||d.value),typeof Y=="string"){const Ae=Nf(n,Y,ee.path),ne=t.resolve({path:Ae.path},ee),ge=s.createHref(Ae.fullPath);return kn(Ae,ne,{params:w(ne.params),hash:au(Ae.hash),redirectedFrom:void 0,href:ge})}let fe;if(Y.path!=null)fe=kn({},Y,{path:Nf(n,Y.path,ee.path).path});else{const Ae=kn({},Y.params);for(const ne in Ae)Ae[ne]==null&&delete Ae[ne];fe=kn({},Y,{params:v(Ae)}),ee.params=v(ee.params)}const ae=t.resolve(fe,ee),te=Y.hash||"";ae.params=f(w(ae.params));const se=oy(i,kn({},Y,{hash:Y5(te),path:ae.path})),de=s.createHref(se);return kn({fullPath:se,hash:te,query:i===Em?_y(Y.query):Y.query||{}},ae,{redirectedFrom:void 0,href:de})}function T(Y){return typeof Y=="string"?Nf(n,Y,d.value.path):kn({},Y)}function I(Y,ee){if(p!==Y)return pc(so.NAVIGATION_CANCELLED,{from:ee,to:Y})}function j(Y){return H(Y)}function K(Y){return j(kn(T(Y),{replace:!0}))}function W(Y,ee){const fe=Y.matched[Y.matched.length-1];if(fe&&fe.redirect){const{redirect:ae}=fe;let te=typeof ae=="function"?ae(Y,ee):ae;return typeof te=="string"&&(te=te.includes("?")||te.includes("#")?te=T(te):{path:te},te.params={}),kn({query:Y.query,hash:Y.hash,params:te.path!=null?{}:Y.params},te)}}function H(Y,ee){const fe=p=k(Y),ae=d.value,te=Y.state,se=Y.force,de=Y.replace===!0,Ae=W(fe,ae);if(Ae)return H(kn(T(Ae),{state:typeof Ae=="object"?kn({},te,Ae.state):te,force:se,replace:de}),ee||fe);const ne=fe;ne.redirectedFrom=ee;let ge;return!se&&iy(i,ae,fe)&&(ge=pc(so.NAVIGATION_DUPLICATED,{to:ne,from:ae}),Le(ae,ae,!0,!1)),(ge?Promise.resolve(ge):z(ne,ae)).catch(Me=>zs(Me)?zs(Me,so.NAVIGATION_GUARD_REDIRECT)?Me:ke(Me):le(Me,ne,ae)).then(Me=>{if(Me){if(zs(Me,so.NAVIGATION_GUARD_REDIRECT))return H(kn({replace:de},T(Me.to),{state:typeof Me.to=="object"?kn({},te,Me.to.state):te,force:se}),ee||ne)}else Me=$(ne,ae,!0,de,te);return x(ne,ae,Me),Me})}function F(Y,ee){const fe=I(Y,ee);return fe?Promise.reject(fe):Promise.resolve()}function R(Y){const ee=J.values().next().value;return ee&&typeof ee.runWithContext=="function"?ee.runWithContext(Y):Y()}function z(Y,ee){let fe;const[ae,te,se]=yy(Y,ee);fe=$f(ae.reverse(),"beforeRouteLeave",Y,ee);for(const Ae of ae)Ae.leaveGuards.forEach(ne=>{fe.push(Pr(ne,Y,ee))});const de=F.bind(null,Y,ee);return fe.push(de),V(fe).then(()=>{fe=[];for(const Ae of r.list())fe.push(Pr(Ae,Y,ee));return fe.push(de),V(fe)}).then(()=>{fe=$f(te,"beforeRouteUpdate",Y,ee);for(const Ae of te)Ae.updateGuards.forEach(ne=>{fe.push(Pr(ne,Y,ee))});return fe.push(de),V(fe)}).then(()=>{fe=[];for(const Ae of se)if(Ae.beforeEnter)if(Xa(Ae.beforeEnter))for(const ne of Ae.beforeEnter)fe.push(Pr(ne,Y,ee));else fe.push(Pr(Ae.beforeEnter,Y,ee));return fe.push(de),V(fe)}).then(()=>(Y.matched.forEach(Ae=>Ae.enterCallbacks={}),fe=$f(se,"beforeRouteEnter",Y,ee,R),fe.push(de),V(fe))).then(()=>{fe=[];for(const Ae of l.list())fe.push(Pr(Ae,Y,ee));return fe.push(de),V(fe)}).catch(Ae=>zs(Ae,so.NAVIGATION_CANCELLED)?Ae:Promise.reject(Ae))}function x(Y,ee,fe){c.list().forEach(ae=>R(()=>ae(Y,ee,fe)))}function $(Y,ee,fe,ae,te){const se=I(Y,ee);if(se)return se;const de=ee===xr,Ae=Jl?history.state:{};fe&&(ae||de?s.replace(Y.fullPath,kn({scroll:de&&Ae&&Ae.scroll},te)):s.push(Y.fullPath,te)),d.value=Y,Le(Y,ee,fe,de),ke()}let Z;function b(){Z||(Z=s.listen((Y,ee,fe)=>{if(!B.listening)return;const ae=k(Y),te=W(ae,B.currentRoute.value);if(te){H(kn(te,{replace:!0,force:!0}),ae).catch(Kc);return}p=ae;const se=d.value;Jl&&fy(Cm(se.fullPath,fe.delta),Gd()),z(ae,se).catch(de=>zs(de,so.NAVIGATION_ABORTED|so.NAVIGATION_CANCELLED)?de:zs(de,so.NAVIGATION_GUARD_REDIRECT)?(H(kn(T(de.to),{force:!0}),ae).then(Ae=>{zs(Ae,so.NAVIGATION_ABORTED|so.NAVIGATION_DUPLICATED)&&!fe.delta&&fe.type===bp.pop&&s.go(-1,!1)}).catch(Kc),Promise.reject()):(fe.delta&&s.go(-fe.delta,!1),le(de,ae,se))).then(de=>{de=de||$(ae,se,!1),de&&(fe.delta&&!zs(de,so.NAVIGATION_CANCELLED)?s.go(-fe.delta,!1):fe.type===bp.pop&&zs(de,so.NAVIGATION_ABORTED|so.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),x(ae,se,de)}).catch(Kc)}))}let S=Oc(),Q=Oc(),U;function le(Y,ee,fe){ke(Y);const ae=Q.list();return ae.length?ae.forEach(te=>te(Y,ee,fe)):console.error(Y),Promise.reject(Y)}function xe(){return U&&d.value!==xr?Promise.resolve():new Promise((Y,ee)=>{S.add([Y,ee])})}function ke(Y){return U||(U=!Y,b(),S.list().forEach(([ee,fe])=>Y?fe(Y):ee()),S.reset()),Y}function Le(Y,ee,fe,ae){const{scrollBehavior:te}=e;if(!Jl||!te)return Promise.resolve();const se=!fe&&py(Cm(Y.fullPath,0))||(ae||!fe)&&history.state&&history.state.scroll||null;return _i().then(()=>te(Y,ee,se)).then(de=>de&&dy(de)).catch(de=>le(de,Y,ee))}const X=Y=>s.go(Y);let he;const J=new Set,B={currentRoute:d,listening:!0,addRoute:m,removeRoute:y,clearRoutes:t.clearRoutes,hasRoute:N,getRoutes:A,resolve:k,options:e,push:j,replace:K,go:X,back:()=>X(-1),forward:()=>X(1),beforeEach:r.add,beforeResolve:l.add,afterEach:c.add,onError:Q.add,isReady:xe,install(Y){Y.component("RouterLink",xp),Y.component("RouterView",qy),Y.config.globalProperties.$router=B,Object.defineProperty(Y.config.globalProperties,"$route",{enumerable:!0,get:()=>Ka(d)}),Jl&&!he&&d.value===xr&&(he=!0,j(s.location).catch(ae=>{}));const ee={};for(const ae in xr)Object.defineProperty(ee,ae,{get:()=>d.value[ae],enumerable:!0});Y.provide(Wd,B),Y.provide(rh,H1(ee)),Y.provide(wp,d);const fe=Y.unmount;J.add(Y),Y.unmount=function(){J.delete(Y),J.size<1&&(p=xr,Z&&Z(),Z=null,d.value=xr,he=!1,U=!1),fe()}}};function V(Y){return Y.reduce((ee,fe)=>ee.then(()=>R(fe)),Promise.resolve())}return B}function u2(){return va(Wd)}function lh(e){return va(rh)}const Gy="/assets/logo-govco-Bm1QtG1W.png",Wy="/assets/alcaldiacali-RyqAzAYA.png",bt={CIUDADANO:"ciudadano",OPERADOR_RESCATE:"operador_rescate",MEDICO_VETERINARIO:"medico_veterinario",COORDINADOR_ADOPCIONES:"coordinador_adopciones",ADMIN_SISTEMA:"admin_sistema",DIRECTOR:"director"},Zy=localStorage.getItem("sba-role")||bt.CIUDADANO,ec=ve(Zy);function d2(){function e(i){ec.value=i,localStorage.setItem("sba-role",i)}function t(i){return!i||!i.length?!0:i.includes(ec.value)}return{role:ec,setRole:e,hasRole:t,isInternalRole:()=>ec.value!==bt.CIUDADANO}}function Ky(){const e=localStorage.getItem("sba-role")||bt.CIUDADANO;return ec.value!==e&&(ec.value=e),e}const It=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n},Jy={class:"govco-header"},Yy={class:"govco-accessibility-bar"},Xy={class:"container-fluid"},Qy={class:"row align-items-center"},ew={class:"col-auto"},tw={class:"govco-accessibility-controls"},nw={class:"govco-main-nav"},ow={class:"container-fluid"},iw={class:"row align-items-center"},aw={class:"col-auto"},sw={class:"col d-lg-none text-end"},rw=["aria-expanded"],lw={class:"govco-nav-menu"},cw={class:"govco-nav-item"},uw={class:"govco-nav-item"},dw={class:"govco-nav-item"},fw={key:0,class:"govco-nav-item"},pw={key:1,class:"govco-nav-item"},hw={key:2,class:"govco-nav-item"},mw={class:"govco-nav-actions"},vw={class:"govco-user-avatar"},gw={class:"govco-user-name d-none d-xl-inline"},_w={key:0,class:"govco-dropdown-menu"},bw={__name:"GovcoHeader",setup(e){const t=ve(!1),n=ve(!1),i=ve(!1),{role:s,setRole:r}=d2(),l=We(()=>s.value!==bt.CIUDADANO),c=We(()=>{switch(s.value){case bt.OPERADOR_RESCATE:return"Operador de Rescate";case bt.MEDICO_VETERINARIO:return"Mdico Veterinario";case bt.COORDINADOR_ADOPCIONES:return"Coordinador de Adopciones";case bt.ADMIN_SISTEMA:return"Administrador del Sistema";case bt.DIRECTOR:return"Director";case bt.CIUDADANO:default:return"Ciudadano"}}),d=We(()=>c.value.split(" ").map(j=>j[0]).slice(0,2).join("").toUpperCase()),p=We(()=>[bt.ADMIN_SISTEMA,bt.DIRECTOR].includes(s.value));function f(){t.value=!t.value,t.value&&(n.value=!1)}function v(){t.value=!1}function w(){n.value=!n.value}function m(){t.value=!1,n.value=!1}function y(){const j=document.documentElement,K=parseFloat(getComputedStyle(j).fontSize);K<20&&(j.style.fontSize=`${K+2}px`)}function A(){const j=document.documentElement,K=parseFloat(getComputedStyle(j).fontSize);K>12&&(j.style.fontSize=`${K-2}px`)}function N(){i.value=!i.value,document.body.classList.toggle("high-contrast",i.value)}function k(){r(bt.CIUDADANO),m()}function T(j){j.target.style.display="none"}function I(j){!j.target.closest(".govco-user-menu")&&!j.target.closest(".govco-dropdown-menu")&&(n.value=!1)}return yn(()=>{document.addEventListener("click",I)}),eh(()=>{document.removeEventListener("click",I)}),(j,K)=>{const W=kl("router-link");return D(),M("header",Jy,[o("div",Yy,[o("div",Xy,[o("div",Qy,[K[1]||(K[1]=o("div",{class:"col-auto"},[o("a",{role:"link","aria-label":"Logo Gobierno de Colombia. Te llevar al inicio",class:"govco-logo-link",href:"https://www.gov.co/",target:"_blank",rel:"noopener noreferrer"},[o("img",{src:Gy,alt:"Logo GOV.CO",class:"govco-logo"})])],-1)),K[2]||(K[2]=o("div",{class:"col d-none d-md-block"},[o("span",{class:"govco-slogan"},"Portal del Estado Colombiano")],-1)),o("div",ew,[o("div",tw,[o("button",{type:"button",class:"govco-btn-accessibility",onClick:A,title:"Disminuir tamao de letra","aria-label":"Disminuir tamao de letra"}," A- "),o("button",{type:"button",class:"govco-btn-accessibility",onClick:y,title:"Aumentar tamao de letra","aria-label":"Aumentar tamao de letra"}," A+ "),o("button",{type:"button",class:ot(["govco-btn-accessibility govco-btn-contrast",{active:i.value}]),onClick:N,title:"Alto contraste","aria-label":"Alternar alto contraste"},[...K[0]||(K[0]=[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},[o("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor","stroke-width":"2"}),o("path",{d:"M12 2a10 10 0 0 1 0 20V2z"})],-1)])],2)])])])])]),o("nav",nw,[o("div",ow,[o("div",iw,[o("div",aw,[Ke(W,{to:"/",class:"govco-entity-brand"},{default:gn(()=>[o("img",{src:Wy,alt:"Logo Alcalda",class:"govco-entity-logo",onError:T},null,32),K[3]||(K[3]=o("div",{class:"govco-entity-info"},[o("span",{class:"govco-entity-name"},"Alcalda Municipal"),o("span",{class:"govco-entity-subtitle"},"Sistema de Bienestar Animal")],-1))]),_:1})]),o("div",sw,[o("button",{type:"button",class:"govco-hamburger",onClick:f,"aria-expanded":t.value,"aria-label":"Men de navegacin"},[...K[4]||(K[4]=[o("span",{class:"govco-hamburger-line"},null,-1),o("span",{class:"govco-hamburger-line"},null,-1),o("span",{class:"govco-hamburger-line"},null,-1)])],8,rw)]),o("div",{class:ot(["col-lg govco-nav-wrapper",{show:t.value}])},[o("ul",lw,[o("li",cw,[Ke(W,{to:"/",class:"govco-nav-link",onClick:v},{default:gn(()=>[...K[5]||(K[5]=[je(" Inicio ",-1)])]),_:1})]),o("li",uw,[Ke(W,{to:"/denuncias",class:"govco-nav-link",onClick:v},{default:gn(()=>[...K[6]||(K[6]=[je(" Denuncias ",-1)])]),_:1})]),o("li",dw,[Ke(W,{to:"/adopciones",class:"govco-nav-link",onClick:v},{default:gn(()=>[...K[7]||(K[7]=[je(" Adopciones ",-1)])]),_:1})]),l.value?(D(),M("li",fw,[Ke(W,{to:"/animales",class:"govco-nav-link",onClick:v},{default:gn(()=>[...K[8]||(K[8]=[je(" Animales ",-1)])]),_:1})])):_e("",!0),l.value?(D(),M("li",pw,[Ke(W,{to:"/veterinaria",class:"govco-nav-link",onClick:v},{default:gn(()=>[...K[9]||(K[9]=[je(" Veterinaria ",-1)])]),_:1})])):_e("",!0),p.value?(D(),M("li",hw,[Ke(W,{to:"/administracion",class:"govco-nav-link",onClick:v},{default:gn(()=>[...K[10]||(K[10]=[je(" Administracin ",-1)])]),_:1})])):_e("",!0)]),o("div",mw,[l.value?(D(),M(rt,{key:1},[o("div",{class:"govco-user-menu",onClick:w},[o("div",vw,P(d.value),1),o("span",gw,P(c.value),1),K[12]||(K[12]=o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("polyline",{points:"6 9 12 15 18 9"})],-1))]),n.value?(D(),M("div",_w,[Ke(W,{to:"/dashboard",class:"govco-dropdown-item",onClick:m},{default:gn(()=>[...K[13]||(K[13]=[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("rect",{x:"3",y:"3",width:"7",height:"7"}),o("rect",{x:"14",y:"3",width:"7",height:"7"}),o("rect",{x:"14",y:"14",width:"7",height:"7"}),o("rect",{x:"3",y:"14",width:"7",height:"7"})],-1),je(" Panel Principal ",-1)])]),_:1}),o("a",{href:"#",class:"govco-dropdown-item",onClick:Tt(k,["prevent"])},[...K[14]||(K[14]=[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),o("polyline",{points:"16 17 21 12 16 7"}),o("line",{x1:"21",y1:"12",x2:"9",y2:"12"})],-1),je(" Cerrar Sesin ",-1)])])])):_e("",!0)],64)):(D(),nn(W,{key:0,to:"/login",class:"govco-btn govco-btn-outline",onClick:v},{default:gn(()=>[...K[11]||(K[11]=[je(" Iniciar Sesin ",-1)])]),_:1}))])],2)])])])])}}},yw=It(bw,[["__scopeId","data-v-6fb184c2"]]),ww="/assets/App_Store-B_3xGseH.png",xw="/assets/Google_Play-Bb9GIcGi.png",Aw={class:"govco-footer"},Sw={class:"govco-footer-main"},kw={class:"container-fluid"},Cw={class:"footer-grid"},Ew={class:"footer-column"},Lw={class:"footer-links"},Nw={class:"govco-footer-bottom"},Pw={class:"container-fluid"},$w={class:"footer-bottom-content"},Tw={class:"footer-copyright"},Iw={class:"footer-legal"},Dw={__name:"GovcoFooter",setup(e){const t=We(()=>new Date().getFullYear());return(n,i)=>{const s=kl("router-link");return D(),M("footer",Aw,[o("div",Sw,[o("div",kw,[o("div",Cw,[i[9]||(i[9]=Bt('<div class="footer-column" data-v-1967a2b2><div class="footer-entity" data-v-1967a2b2><img src="https://cdn.www.gov.co/assets/images/logo.svg" alt="Logo GOV.CO" class="footer-govco-logo" data-v-1967a2b2><div class="footer-entity-info" data-v-1967a2b2><h4 class="footer-entity-name" data-v-1967a2b2>Alcalda Municipal</h4><p class="footer-entity-subtitle" data-v-1967a2b2>Sistema de Bienestar Animal</p></div></div><p class="footer-description" data-v-1967a2b2> Plataforma integral para la gestin, proteccin y bienestar de los animales en nuestro municipio. Comprometidos con la tenencia responsable y la proteccin animal. </p></div>',1)),o("div",Ew,[i[8]||(i[8]=o("h5",{class:"footer-title"},"Enlaces Rpidos",-1)),o("ul",Lw,[o("li",null,[Ke(s,{to:"/"},{default:gn(()=>[...i[5]||(i[5]=[je("Inicio",-1)])]),_:1})]),o("li",null,[Ke(s,{to:"/denuncias"},{default:gn(()=>[...i[6]||(i[6]=[je("Reportar Denuncia",-1)])]),_:1})]),o("li",null,[Ke(s,{to:"/adopciones"},{default:gn(()=>[...i[7]||(i[7]=[je("Adoptar una Mascota",-1)])]),_:1})]),o("li",null,[o("a",{href:"#",onClick:i[0]||(i[0]=Tt(()=>{},["prevent"]))},"Preguntas Frecuentes")]),o("li",null,[o("a",{href:"#",onClick:i[1]||(i[1]=Tt(()=>{},["prevent"]))},"Normatividad")])])]),i[10]||(i[10]=Bt('<div class="footer-column" data-v-1967a2b2><h5 class="footer-title" data-v-1967a2b2>Contacto</h5><ul class="footer-contact" data-v-1967a2b2><li data-v-1967a2b2><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-1967a2b2><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" data-v-1967a2b2></path><circle cx="12" cy="10" r="3" data-v-1967a2b2></circle></svg><span data-v-1967a2b2>Direccin: Calle Principal #123, Centro</span></li><li data-v-1967a2b2><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-1967a2b2><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" data-v-1967a2b2></path></svg><span data-v-1967a2b2>Telfono: (604) 123-4567</span></li><li data-v-1967a2b2><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-1967a2b2><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-v-1967a2b2></path><polyline points="22,6 12,13 2,6" data-v-1967a2b2></polyline></svg><span data-v-1967a2b2>Email: bienestaranimal@alcaldia.gov.co</span></li><li data-v-1967a2b2><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-1967a2b2><circle cx="12" cy="12" r="10" data-v-1967a2b2></circle><polyline points="12 6 12 12 16 14" data-v-1967a2b2></polyline></svg><span data-v-1967a2b2>Horario: Lunes a Viernes 8:00 - 17:00</span></li></ul></div><div class="footer-column" data-v-1967a2b2><h5 class="footer-title" data-v-1967a2b2>Redes Sociales</h5><div class="footer-social" data-v-1967a2b2><a href="#" class="social-link" title="Facebook" aria-label="Facebook" data-v-1967a2b2><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-v-1967a2b2><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z" data-v-1967a2b2></path></svg></a><a href="#" class="social-link" title="Twitter/X" aria-label="Twitter" data-v-1967a2b2><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-v-1967a2b2><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" data-v-1967a2b2></path></svg></a><a href="#" class="social-link" title="Instagram" aria-label="Instagram" data-v-1967a2b2><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-1967a2b2><rect x="2" y="2" width="20" height="20" rx="5" ry="5" data-v-1967a2b2></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z" data-v-1967a2b2></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5" data-v-1967a2b2></line></svg></a><a href="#" class="social-link" title="YouTube" aria-label="YouTube" data-v-1967a2b2><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-v-1967a2b2><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z" data-v-1967a2b2></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02" fill="#004884" data-v-1967a2b2></polygon></svg></a></div><div class="footer-apps" data-v-1967a2b2><p class="footer-apps-title" data-v-1967a2b2>Descarga nuestra App</p><div class="app-badges" data-v-1967a2b2><a href="#" class="app-badge" title="Descargar en App Store" data-v-1967a2b2><img src="'+ww+'" alt="App Store" data-v-1967a2b2></a><a href="#" class="app-badge" title="Descargar en Google Play" data-v-1967a2b2><img src="'+xw+'" alt="Google Play" data-v-1967a2b2></a></div></div></div>',2))])])]),o("div",Nw,[o("div",Pw,[o("div",$w,[o("div",Tw,[o("p",null," "+P(t.value)+" Alcalda Municipal. Todos los derechos reservados.",1),o("p",Iw,[o("a",{href:"#",onClick:i[2]||(i[2]=Tt(()=>{},["prevent"]))},"Poltica de privacidad"),i[11]||(i[11]=o("span",{class:"separator"},"|",-1)),o("a",{href:"#",onClick:i[3]||(i[3]=Tt(()=>{},["prevent"]))},"Trminos y condiciones"),i[12]||(i[12]=o("span",{class:"separator"},"|",-1)),o("a",{href:"#",onClick:i[4]||(i[4]=Tt(()=>{},["prevent"]))},"Mapa del sitio")])]),i[13]||(i[13]=o("div",{class:"footer-govco-badge"},[o("a",{href:"https://www.gov.co/",target:"_blank",rel:"noopener",title:"Portal GOV.CO"},[o("img",{src:"https://cdn.www.gov.co/assets/images/logo.svg",alt:"GOV.CO",class:"govco-badge-img"})])],-1))])])])])}}},Rw=It(Dw,[["__scopeId","data-v-1967a2b2"]]);function f2(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ow}=Object.prototype,{getPrototypeOf:ch}=Object,{iterator:Zd,toStringTag:p2}=Symbol,Kd=(e=>t=>{const n=Ow.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),es=e=>(e=e.toLowerCase(),t=>Kd(t)===e),Jd=e=>t=>typeof t===e,{isArray:gc}=Array,hc=Jd("undefined");function pu(e){return e!==null&&!hc(e)&&e.constructor!==null&&!hc(e.constructor)&&Oi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const h2=es("ArrayBuffer");function Mw(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&h2(e.buffer),t}const Fw=Jd("string"),Oi=Jd("function"),m2=Jd("number"),hu=e=>e!==null&&typeof e=="object",Bw=e=>e===!0||e===!1,sd=e=>{if(Kd(e)!=="object")return!1;const t=ch(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(p2 in e)&&!(Zd in e)},jw=e=>{if(!hu(e)||pu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},zw=es("Date"),Uw=es("File"),Vw=es("Blob"),qw=es("FileList"),Hw=e=>hu(e)&&Oi(e.pipe),Gw=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Oi(e.append)&&((t=Kd(e))==="formdata"||t==="object"&&Oi(e.toString)&&e.toString()==="[object FormData]"))},Ww=es("URLSearchParams"),[Zw,Kw,Jw,Yw]=["ReadableStream","Request","Response","Headers"].map(es),Xw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function mu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,s;if(typeof e!="object"&&(e=[e]),gc(e))for(i=0,s=e.length;i<s;i++)t.call(null,e[i],i,e);else{if(pu(e))return;const r=n?Object.getOwnPropertyNames(e):Object.keys(e),l=r.length;let c;for(i=0;i<l;i++)c=r[i],t.call(null,e[c],c,e)}}function v2(e,t){if(pu(e))return null;t=t.toLowerCase();const n=Object.keys(e);let i=n.length,s;for(;i-- >0;)if(s=n[i],t===s.toLowerCase())return s;return null}const ml=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,g2=e=>!hc(e)&&e!==ml;function Ap(){const{caseless:e,skipUndefined:t}=g2(this)&&this||{},n={},i=(s,r)=>{const l=e&&v2(n,r)||r;sd(n[l])&&sd(s)?n[l]=Ap(n[l],s):sd(s)?n[l]=Ap({},s):gc(s)?n[l]=s.slice():(!t||!hc(s))&&(n[l]=s)};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&mu(arguments[s],i);return n}const Qw=(e,t,n,{allOwnKeys:i}={})=>(mu(t,(s,r)=>{n&&Oi(s)?e[r]=f2(s,n):e[r]=s},{allOwnKeys:i}),e),e3=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),t3=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},n3=(e,t,n,i)=>{let s,r,l;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),r=s.length;r-- >0;)l=s[r],(!i||i(l,e,t))&&!c[l]&&(t[l]=e[l],c[l]=!0);e=n!==!1&&ch(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},o3=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},i3=e=>{if(!e)return null;if(gc(e))return e;let t=e.length;if(!m2(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},a3=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ch(Uint8Array)),s3=(e,t)=>{const i=(e&&e[Zd]).call(e);let s;for(;(s=i.next())&&!s.done;){const r=s.value;t.call(e,r[0],r[1])}},r3=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},l3=es("HTMLFormElement"),c3=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),Bm=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),u3=es("RegExp"),_2=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};mu(n,(s,r)=>{let l;(l=t(s,r,e))!==!1&&(i[r]=l||s)}),Object.defineProperties(e,i)},d3=e=>{_2(e,(t,n)=>{if(Oi(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(Oi(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},f3=(e,t)=>{const n={},i=s=>{s.forEach(r=>{n[r]=!0})};return gc(e)?i(e):i(String(e).split(t)),n},p3=()=>{},h3=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function m3(e){return!!(e&&Oi(e.append)&&e[p2]==="FormData"&&e[Zd])}const v3=e=>{const t=new Array(10),n=(i,s)=>{if(hu(i)){if(t.indexOf(i)>=0)return;if(pu(i))return i;if(!("toJSON"in i)){t[s]=i;const r=gc(i)?[]:{};return mu(i,(l,c)=>{const d=n(l,s+1);!hc(d)&&(r[c]=d)}),t[s]=void 0,r}}return i};return n(e,0)},g3=es("AsyncFunction"),_3=e=>e&&(hu(e)||Oi(e))&&Oi(e.then)&&Oi(e.catch),b2=((e,t)=>e?setImmediate:t?((n,i)=>(ml.addEventListener("message",({source:s,data:r})=>{s===ml&&r===n&&i.length&&i.shift()()},!1),s=>{i.push(s),ml.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Oi(ml.postMessage)),b3=typeof queueMicrotask<"u"?queueMicrotask.bind(ml):typeof process<"u"&&process.nextTick||b2,y3=e=>e!=null&&Oi(e[Zd]),He={isArray:gc,isArrayBuffer:h2,isBuffer:pu,isFormData:Gw,isArrayBufferView:Mw,isString:Fw,isNumber:m2,isBoolean:Bw,isObject:hu,isPlainObject:sd,isEmptyObject:jw,isReadableStream:Zw,isRequest:Kw,isResponse:Jw,isHeaders:Yw,isUndefined:hc,isDate:zw,isFile:Uw,isBlob:Vw,isRegExp:u3,isFunction:Oi,isStream:Hw,isURLSearchParams:Ww,isTypedArray:a3,isFileList:qw,forEach:mu,merge:Ap,extend:Qw,trim:Xw,stripBOM:e3,inherits:t3,toFlatObject:n3,kindOf:Kd,kindOfTest:es,endsWith:o3,toArray:i3,forEachEntry:s3,matchAll:r3,isHTMLForm:l3,hasOwnProperty:Bm,hasOwnProp:Bm,reduceDescriptors:_2,freezeMethods:d3,toObjectSet:f3,toCamelCase:c3,noop:p3,toFiniteNumber:h3,findKey:v2,global:ml,isContextDefined:g2,isSpecCompliantForm:m3,toJSONObject:v3,isAsyncFn:g3,isThenable:_3,setImmediate:b2,asap:b3,isIterable:y3};function Jt(e,t,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}He.inherits(Jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:He.toJSONObject(this.config),code:this.code,status:this.status}}});const y2=Jt.prototype,w2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{w2[e]={value:e}});Object.defineProperties(Jt,w2);Object.defineProperty(y2,"isAxiosError",{value:!0});Jt.from=(e,t,n,i,s,r)=>{const l=Object.create(y2);He.toFlatObject(e,l,function(f){return f!==Error.prototype},p=>p!=="isAxiosError");const c=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return Jt.call(l,c,d,n,i,s),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",r&&Object.assign(l,r),l};const w3=null;function Sp(e){return He.isPlainObject(e)||He.isArray(e)}function x2(e){return He.endsWith(e,"[]")?e.slice(0,-2):e}function jm(e,t,n){return e?e.concat(t).map(function(s,r){return s=x2(s),!n&&r?"["+s+"]":s}).join(n?".":""):t}function x3(e){return He.isArray(e)&&!e.some(Sp)}const A3=He.toFlatObject(He,{},null,function(t){return/^is[A-Z]/.test(t)});function Yd(e,t,n){if(!He.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=He.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,N){return!He.isUndefined(N[A])});const i=n.metaTokens,s=n.visitor||f,r=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&He.isSpecCompliantForm(t);if(!He.isFunction(s))throw new TypeError("visitor must be a function");function p(y){if(y===null)return"";if(He.isDate(y))return y.toISOString();if(He.isBoolean(y))return y.toString();if(!d&&He.isBlob(y))throw new Jt("Blob is not supported. Use a Buffer instead.");return He.isArrayBuffer(y)||He.isTypedArray(y)?d&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,A,N){let k=y;if(y&&!N&&typeof y=="object"){if(He.endsWith(A,"{}"))A=i?A:A.slice(0,-2),y=JSON.stringify(y);else if(He.isArray(y)&&x3(y)||(He.isFileList(y)||He.endsWith(A,"[]"))&&(k=He.toArray(y)))return A=x2(A),k.forEach(function(I,j){!(He.isUndefined(I)||I===null)&&t.append(l===!0?jm([A],j,r):l===null?A:A+"[]",p(I))}),!1}return Sp(y)?!0:(t.append(jm(N,A,r),p(y)),!1)}const v=[],w=Object.assign(A3,{defaultVisitor:f,convertValue:p,isVisitable:Sp});function m(y,A){if(!He.isUndefined(y)){if(v.indexOf(y)!==-1)throw Error("Circular reference detected in "+A.join("."));v.push(y),He.forEach(y,function(k,T){(!(He.isUndefined(k)||k===null)&&s.call(t,k,He.isString(T)?T.trim():T,A,w))===!0&&m(k,A?A.concat(T):[T])}),v.pop()}}if(!He.isObject(e))throw new TypeError("data must be an object");return m(e),t}function zm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function uh(e,t){this._pairs=[],e&&Yd(e,this,t)}const A2=uh.prototype;A2.append=function(t,n){this._pairs.push([t,n])};A2.toString=function(t){const n=t?function(i){return t.call(this,i,zm)}:zm;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function S3(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function S2(e,t,n){if(!t)return e;const i=n&&n.encode||S3;He.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let r;if(s?r=s(t,n):r=He.isURLSearchParams(t)?t.toString():new uh(t,n).toString(i),r){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class Um{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){He.forEach(this.handlers,function(i){i!==null&&t(i)})}}const k2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},k3=typeof URLSearchParams<"u"?URLSearchParams:uh,C3=typeof FormData<"u"?FormData:null,E3=typeof Blob<"u"?Blob:null,L3={isBrowser:!0,classes:{URLSearchParams:k3,FormData:C3,Blob:E3},protocols:["http","https","file","blob","url","data"]},dh=typeof window<"u"&&typeof document<"u",kp=typeof navigator=="object"&&navigator||void 0,N3=dh&&(!kp||["ReactNative","NativeScript","NS"].indexOf(kp.product)<0),P3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$3=dh&&window.location.href||"http://localhost",T3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dh,hasStandardBrowserEnv:N3,hasStandardBrowserWebWorkerEnv:P3,navigator:kp,origin:$3},Symbol.toStringTag,{value:"Module"})),ii={...T3,...L3};function I3(e,t){return Yd(e,new ii.classes.URLSearchParams,{visitor:function(n,i,s,r){return ii.isNode&&He.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}function D3(e){return He.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function R3(e){const t={},n=Object.keys(e);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],t[r]=e[r];return t}function C2(e){function t(n,i,s,r){let l=n[r++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=r>=n.length;return l=!l&&He.isArray(s)?s.length:l,d?(He.hasOwnProp(s,l)?s[l]=[s[l],i]:s[l]=i,!c):((!s[l]||!He.isObject(s[l]))&&(s[l]=[]),t(n,i,s[l],r)&&He.isArray(s[l])&&(s[l]=R3(s[l])),!c)}if(He.isFormData(e)&&He.isFunction(e.entries)){const n={};return He.forEachEntry(e,(i,s)=>{t(D3(i),s,n,0)}),n}return null}function O3(e,t,n){if(He.isString(e))try{return(t||JSON.parse)(e),He.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const vu={transitional:k2,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,r=He.isObject(t);if(r&&He.isHTMLForm(t)&&(t=new FormData(t)),He.isFormData(t))return s?JSON.stringify(C2(t)):t;if(He.isArrayBuffer(t)||He.isBuffer(t)||He.isStream(t)||He.isFile(t)||He.isBlob(t)||He.isReadableStream(t))return t;if(He.isArrayBufferView(t))return t.buffer;if(He.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return I3(t,this.formSerializer).toString();if((c=He.isFileList(t))||i.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Yd(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return r||s?(n.setContentType("application/json",!1),O3(t)):t}],transformResponse:[function(t){const n=this.transitional||vu.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(He.isResponse(t)||He.isReadableStream(t))return t;if(t&&He.isString(t)&&(i&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(c){if(l)throw c.name==="SyntaxError"?Jt.from(c,Jt.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ii.classes.FormData,Blob:ii.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};He.forEach(["delete","get","head","post","put","patch"],e=>{vu.headers[e]={}});const M3=He.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),F3=e=>{const t={};let n,i,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),i=l.substring(s+1).trim(),!(!n||t[n]&&M3[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},Vm=Symbol("internals");function Mc(e){return e&&String(e).trim().toLowerCase()}function rd(e){return e===!1||e==null?e:He.isArray(e)?e.map(rd):String(e)}function B3(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const j3=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Tf(e,t,n,i,s){if(He.isFunction(i))return i.call(this,t,n);if(s&&(t=n),!!He.isString(t)){if(He.isString(i))return t.indexOf(i)!==-1;if(He.isRegExp(i))return i.test(t)}}function z3(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function U3(e,t){const n=He.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(s,r,l){return this[i].call(this,t,s,r,l)},configurable:!0})})}let Mi=class{constructor(t){t&&this.set(t)}set(t,n,i){const s=this;function r(c,d,p){const f=Mc(d);if(!f)throw new Error("header name must be a non-empty string");const v=He.findKey(s,f);(!v||s[v]===void 0||p===!0||p===void 0&&s[v]!==!1)&&(s[v||d]=rd(c))}const l=(c,d)=>He.forEach(c,(p,f)=>r(p,f,d));if(He.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(He.isString(t)&&(t=t.trim())&&!j3(t))l(F3(t),n);else if(He.isObject(t)&&He.isIterable(t)){let c={},d,p;for(const f of t){if(!He.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[p=f[0]]=(d=c[p])?He.isArray(d)?[...d,f[1]]:[d,f[1]]:f[1]}l(c,n)}else t!=null&&r(n,t,i);return this}get(t,n){if(t=Mc(t),t){const i=He.findKey(this,t);if(i){const s=this[i];if(!n)return s;if(n===!0)return B3(s);if(He.isFunction(n))return n.call(this,s,i);if(He.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Mc(t),t){const i=He.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||Tf(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let s=!1;function r(l){if(l=Mc(l),l){const c=He.findKey(i,l);c&&(!n||Tf(i,i[c],c,n))&&(delete i[c],s=!0)}}return He.isArray(t)?t.forEach(r):r(t),s}clear(t){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const r=n[i];(!t||Tf(this,this[r],r,t,!0))&&(delete this[r],s=!0)}return s}normalize(t){const n=this,i={};return He.forEach(this,(s,r)=>{const l=He.findKey(i,r);if(l){n[l]=rd(s),delete n[r];return}const c=t?z3(r):String(r).trim();c!==r&&delete n[r],n[c]=rd(s),i[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return He.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=t&&He.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(s=>i.set(s)),i}static accessor(t){const i=(this[Vm]=this[Vm]={accessors:{}}).accessors,s=this.prototype;function r(l){const c=Mc(l);i[c]||(U3(s,l),i[c]=!0)}return He.isArray(t)?t.forEach(r):r(t),this}};Mi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);He.reduceDescriptors(Mi.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});He.freezeMethods(Mi);function If(e,t){const n=this||vu,i=t||n,s=Mi.from(i.headers);let r=i.data;return He.forEach(e,function(c){r=c.call(n,r,s.normalize(),t?t.status:void 0)}),s.normalize(),r}function E2(e){return!!(e&&e.__CANCEL__)}function _c(e,t,n){Jt.call(this,e??"canceled",Jt.ERR_CANCELED,t,n),this.name="CanceledError"}He.inherits(_c,Jt,{__CANCEL__:!0});function L2(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new Jt("Request failed with status code "+n.status,[Jt.ERR_BAD_REQUEST,Jt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function V3(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function q3(e,t){e=e||10;const n=new Array(e),i=new Array(e);let s=0,r=0,l;return t=t!==void 0?t:1e3,function(d){const p=Date.now(),f=i[r];l||(l=p),n[s]=d,i[s]=p;let v=r,w=0;for(;v!==s;)w+=n[v++],v=v%e;if(s=(s+1)%e,s===r&&(r=(r+1)%e),p-l<t)return;const m=f&&p-f;return m?Math.round(w*1e3/m):void 0}}function H3(e,t){let n=0,i=1e3/t,s,r;const l=(p,f=Date.now())=>{n=f,s=null,r&&(clearTimeout(r),r=null),e(...p)};return[(...p)=>{const f=Date.now(),v=f-n;v>=i?l(p,f):(s=p,r||(r=setTimeout(()=>{r=null,l(s)},i-v)))},()=>s&&l(s)]}const Ld=(e,t,n=3)=>{let i=0;const s=q3(50,250);return H3(r=>{const l=r.loaded,c=r.lengthComputable?r.total:void 0,d=l-i,p=s(d),f=l<=c;i=l;const v={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:p||void 0,estimated:p&&c&&f?(c-l)/p:void 0,event:r,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(v)},n)},qm=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},Hm=e=>(...t)=>He.asap(()=>e(...t)),G3=ii.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ii.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ii.origin),ii.navigator&&/(msie|trident)/i.test(ii.navigator.userAgent)):()=>!0,W3=ii.hasStandardBrowserEnv?{write(e,t,n,i,s,r,l){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(t)}`];He.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),He.isString(i)&&c.push(`path=${i}`),He.isString(s)&&c.push(`domain=${s}`),r===!0&&c.push("secure"),He.isString(l)&&c.push(`SameSite=${l}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Z3(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function K3(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function N2(e,t,n){let i=!Z3(t);return e&&(i||n==!1)?K3(e,t):t}const Gm=e=>e instanceof Mi?{...e}:e;function xl(e,t){t=t||{};const n={};function i(p,f,v,w){return He.isPlainObject(p)&&He.isPlainObject(f)?He.merge.call({caseless:w},p,f):He.isPlainObject(f)?He.merge({},f):He.isArray(f)?f.slice():f}function s(p,f,v,w){if(He.isUndefined(f)){if(!He.isUndefined(p))return i(void 0,p,v,w)}else return i(p,f,v,w)}function r(p,f){if(!He.isUndefined(f))return i(void 0,f)}function l(p,f){if(He.isUndefined(f)){if(!He.isUndefined(p))return i(void 0,p)}else return i(void 0,f)}function c(p,f,v){if(v in t)return i(p,f);if(v in e)return i(void 0,p)}const d={url:r,method:r,data:r,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(p,f,v)=>s(Gm(p),Gm(f),v,!0)};return He.forEach(Object.keys({...e,...t}),function(f){const v=d[f]||s,w=v(e[f],t[f],f);He.isUndefined(w)&&v!==c||(n[f]=w)}),n}const P2=e=>{const t=xl({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:r,headers:l,auth:c}=t;if(t.headers=l=Mi.from(l),t.url=S2(N2(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),He.isFormData(n)){if(ii.hasStandardBrowserEnv||ii.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(He.isFunction(n.getHeaders)){const d=n.getHeaders(),p=["content-type","content-length"];Object.entries(d).forEach(([f,v])=>{p.includes(f.toLowerCase())&&l.set(f,v)})}}if(ii.hasStandardBrowserEnv&&(i&&He.isFunction(i)&&(i=i(t)),i||i!==!1&&G3(t.url))){const d=s&&r&&W3.read(r);d&&l.set(s,d)}return t},J3=typeof XMLHttpRequest<"u",Y3=J3&&function(e){return new Promise(function(n,i){const s=P2(e);let r=s.data;const l=Mi.from(s.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:p}=s,f,v,w,m,y;function A(){m&&m(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let N=new XMLHttpRequest;N.open(s.method.toUpperCase(),s.url,!0),N.timeout=s.timeout;function k(){if(!N)return;const I=Mi.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),K={data:!c||c==="text"||c==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:I,config:e,request:N};L2(function(H){n(H),A()},function(H){i(H),A()},K),N=null}"onloadend"in N?N.onloadend=k:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(k)},N.onabort=function(){N&&(i(new Jt("Request aborted",Jt.ECONNABORTED,e,N)),N=null)},N.onerror=function(j){const K=j&&j.message?j.message:"Network Error",W=new Jt(K,Jt.ERR_NETWORK,e,N);W.event=j||null,i(W),N=null},N.ontimeout=function(){let j=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const K=s.transitional||k2;s.timeoutErrorMessage&&(j=s.timeoutErrorMessage),i(new Jt(j,K.clarifyTimeoutError?Jt.ETIMEDOUT:Jt.ECONNABORTED,e,N)),N=null},r===void 0&&l.setContentType(null),"setRequestHeader"in N&&He.forEach(l.toJSON(),function(j,K){N.setRequestHeader(K,j)}),He.isUndefined(s.withCredentials)||(N.withCredentials=!!s.withCredentials),c&&c!=="json"&&(N.responseType=s.responseType),p&&([w,y]=Ld(p,!0),N.addEventListener("progress",w)),d&&N.upload&&([v,m]=Ld(d),N.upload.addEventListener("progress",v),N.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(f=I=>{N&&(i(!I||I.type?new _c(null,e,N):I),N.abort(),N=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const T=V3(s.url);if(T&&ii.protocols.indexOf(T)===-1){i(new Jt("Unsupported protocol "+T+":",Jt.ERR_BAD_REQUEST,e));return}N.send(r||null)})},X3=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,s;const r=function(p){if(!s){s=!0,c();const f=p instanceof Error?p:this.reason;i.abort(f instanceof Jt?f:new _c(f instanceof Error?f.message:f))}};let l=t&&setTimeout(()=>{l=null,r(new Jt(`timeout ${t} of ms exceeded`,Jt.ETIMEDOUT))},t);const c=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(r):p.removeEventListener("abort",r)}),e=null)};e.forEach(p=>p.addEventListener("abort",r));const{signal:d}=i;return d.unsubscribe=()=>He.asap(c),d}},Q3=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let i=0,s;for(;i<n;)s=i+t,yield e.slice(i,s),i=s},e4=async function*(e,t){for await(const n of t4(e))yield*Q3(n,t)},t4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},Wm=(e,t,n,i)=>{const s=e4(e,t);let r=0,l,c=d=>{l||(l=!0,i&&i(d))};return new ReadableStream({async pull(d){try{const{done:p,value:f}=await s.next();if(p){c(),d.close();return}let v=f.byteLength;if(n){let w=r+=v;n(w)}d.enqueue(new Uint8Array(f))}catch(p){throw c(p),p}},cancel(d){return c(d),s.return()}},{highWaterMark:2})},Zm=64*1024,{isFunction:Vu}=He,n4=(({Request:e,Response:t})=>({Request:e,Response:t}))(He.global),{ReadableStream:Km,TextEncoder:Jm}=He.global,Ym=(e,...t)=>{try{return!!e(...t)}catch{return!1}},o4=e=>{e=He.merge.call({skipUndefined:!0},n4,e);const{fetch:t,Request:n,Response:i}=e,s=t?Vu(t):typeof fetch=="function",r=Vu(n),l=Vu(i);if(!s)return!1;const c=s&&Vu(Km),d=s&&(typeof Jm=="function"?(y=>A=>y.encode(A))(new Jm):async y=>new Uint8Array(await new n(y).arrayBuffer())),p=r&&c&&Ym(()=>{let y=!1;const A=new n(ii.origin,{body:new Km,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!A}),f=l&&c&&Ym(()=>He.isReadableStream(new i("").body)),v={stream:f&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!v[y]&&(v[y]=(A,N)=>{let k=A&&A[y];if(k)return k.call(A);throw new Jt(`Response type '${y}' is not supported`,Jt.ERR_NOT_SUPPORT,N)})});const w=async y=>{if(y==null)return 0;if(He.isBlob(y))return y.size;if(He.isSpecCompliantForm(y))return(await new n(ii.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(He.isArrayBufferView(y)||He.isArrayBuffer(y))return y.byteLength;if(He.isURLSearchParams(y)&&(y=y+""),He.isString(y))return(await d(y)).byteLength},m=async(y,A)=>{const N=He.toFiniteNumber(y.getContentLength());return N??w(A)};return async y=>{let{url:A,method:N,data:k,signal:T,cancelToken:I,timeout:j,onDownloadProgress:K,onUploadProgress:W,responseType:H,headers:F,withCredentials:R="same-origin",fetchOptions:z}=P2(y),x=t||fetch;H=H?(H+"").toLowerCase():"text";let $=X3([T,I&&I.toAbortSignal()],j),Z=null;const b=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let S;try{if(W&&p&&N!=="get"&&N!=="head"&&(S=await m(F,k))!==0){let Le=new n(A,{method:"POST",body:k,duplex:"half"}),X;if(He.isFormData(k)&&(X=Le.headers.get("content-type"))&&F.setContentType(X),Le.body){const[he,J]=qm(S,Ld(Hm(W)));k=Wm(Le.body,Zm,he,J)}}He.isString(R)||(R=R?"include":"omit");const Q=r&&"credentials"in n.prototype,U={...z,signal:$,method:N.toUpperCase(),headers:F.normalize().toJSON(),body:k,duplex:"half",credentials:Q?R:void 0};Z=r&&new n(A,U);let le=await(r?x(Z,z):x(A,U));const xe=f&&(H==="stream"||H==="response");if(f&&(K||xe&&b)){const Le={};["status","statusText","headers"].forEach(B=>{Le[B]=le[B]});const X=He.toFiniteNumber(le.headers.get("content-length")),[he,J]=K&&qm(X,Ld(Hm(K),!0))||[];le=new i(Wm(le.body,Zm,he,()=>{J&&J(),b&&b()}),Le)}H=H||"text";let ke=await v[He.findKey(v,H)||"text"](le,y);return!xe&&b&&b(),await new Promise((Le,X)=>{L2(Le,X,{data:ke,headers:Mi.from(le.headers),status:le.status,statusText:le.statusText,config:y,request:Z})})}catch(Q){throw b&&b(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new Jt("Network Error",Jt.ERR_NETWORK,y,Z),{cause:Q.cause||Q}):Jt.from(Q,Q&&Q.code,y,Z)}}},i4=new Map,$2=e=>{let t=e&&e.env||{};const{fetch:n,Request:i,Response:s}=t,r=[i,s,n];let l=r.length,c=l,d,p,f=i4;for(;c--;)d=r[c],p=f.get(d),p===void 0&&f.set(d,p=c?new Map:o4(t)),f=p;return p};$2();const fh={http:w3,xhr:Y3,fetch:{get:$2}};He.forEach(fh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Xm=e=>`- ${e}`,a4=e=>He.isFunction(e)||e===null||e===!1;function s4(e,t){e=He.isArray(e)?e:[e];const{length:n}=e;let i,s;const r={};for(let l=0;l<n;l++){i=e[l];let c;if(s=i,!a4(i)&&(s=fh[(c=String(i)).toLowerCase()],s===void 0))throw new Jt(`Unknown adapter '${c}'`);if(s&&(He.isFunction(s)||(s=s.get(t))))break;r[c||"#"+l]=s}if(!s){const l=Object.entries(r).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=n?l.length>1?`since :
`+l.map(Xm).join(`
`):" "+Xm(l[0]):"as no adapter specified";throw new Jt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s}const T2={getAdapter:s4,adapters:fh};function Df(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _c(null,e)}function Qm(e){return Df(e),e.headers=Mi.from(e.headers),e.data=If.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),T2.getAdapter(e.adapter||vu.adapter,e)(e).then(function(i){return Df(e),i.data=If.call(e,e.transformResponse,i),i.headers=Mi.from(i.headers),i},function(i){return E2(i)||(Df(e),i&&i.response&&(i.response.data=If.call(e,e.transformResponse,i.response),i.response.headers=Mi.from(i.response.headers))),Promise.reject(i)})}const I2="1.13.2",Xd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xd[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const ev={};Xd.transitional=function(t,n,i){function s(r,l){return"[Axios v"+I2+"] Transitional option '"+r+"'"+l+(i?". "+i:"")}return(r,l,c)=>{if(t===!1)throw new Jt(s(l," has been removed"+(n?" in "+n:"")),Jt.ERR_DEPRECATED);return n&&!ev[l]&&(ev[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(r,l,c):!0}};Xd.spelling=function(t){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function r4(e,t,n){if(typeof e!="object")throw new Jt("options must be an object",Jt.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let s=i.length;for(;s-- >0;){const r=i[s],l=t[r];if(l){const c=e[r],d=c===void 0||l(c,r,e);if(d!==!0)throw new Jt("option "+r+" must be "+d,Jt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Jt("Unknown option "+r,Jt.ERR_BAD_OPTION)}}const ld={assertOptions:r4,validators:Xd},vs=ld.validators;let _l=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Um,response:new Um}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=xl(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:r}=n;i!==void 0&&ld.assertOptions(i,{silentJSONParsing:vs.transitional(vs.boolean),forcedJSONParsing:vs.transitional(vs.boolean),clarifyTimeoutError:vs.transitional(vs.boolean)},!1),s!=null&&(He.isFunction(s)?n.paramsSerializer={serialize:s}:ld.assertOptions(s,{encode:vs.function,serialize:vs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ld.assertOptions(n,{baseUrl:vs.spelling("baseURL"),withXsrfToken:vs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=r&&He.merge(r.common,r[n.method]);r&&He.forEach(["delete","get","head","post","put","patch","common"],y=>{delete r[y]}),n.headers=Mi.concat(l,r);const c=[];let d=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(n)===!1||(d=d&&A.synchronous,c.unshift(A.fulfilled,A.rejected))});const p=[];this.interceptors.response.forEach(function(A){p.push(A.fulfilled,A.rejected)});let f,v=0,w;if(!d){const y=[Qm.bind(this),void 0];for(y.unshift(...c),y.push(...p),w=y.length,f=Promise.resolve(n);v<w;)f=f.then(y[v++],y[v++]);return f}w=c.length;let m=n;for(;v<w;){const y=c[v++],A=c[v++];try{m=y(m)}catch(N){A.call(this,N);break}}try{f=Qm.call(this,m)}catch(y){return Promise.reject(y)}for(v=0,w=p.length;v<w;)f=f.then(p[v++],p[v++]);return f}getUri(t){t=xl(this.defaults,t);const n=N2(t.baseURL,t.url,t.allowAbsoluteUrls);return S2(n,t.params,t.paramsSerializer)}};He.forEach(["delete","get","head","options"],function(t){_l.prototype[t]=function(n,i){return this.request(xl(i||{},{method:t,url:n,data:(i||{}).data}))}});He.forEach(["post","put","patch"],function(t){function n(i){return function(r,l,c){return this.request(xl(c||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:l}))}}_l.prototype[t]=n(),_l.prototype[t+"Form"]=n(!0)});let l4=class D2{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const l=new Promise(c=>{i.subscribe(c),r=c}).then(s);return l.cancel=function(){i.unsubscribe(r)},l},t(function(r,l,c){i.reason||(i.reason=new _c(r,l,c),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new D2(function(s){t=s}),cancel:t}}};function c4(e){return function(n){return e.apply(null,n)}}function u4(e){return He.isObject(e)&&e.isAxiosError===!0}const Cp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Cp).forEach(([e,t])=>{Cp[t]=e});function R2(e){const t=new _l(e),n=f2(_l.prototype.request,t);return He.extend(n,_l.prototype,t,{allOwnKeys:!0}),He.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return R2(xl(e,s))},n}const bo=R2(vu);bo.Axios=_l;bo.CanceledError=_c;bo.CancelToken=l4;bo.isCancel=E2;bo.VERSION=I2;bo.toFormData=Yd;bo.AxiosError=Jt;bo.Cancel=bo.CanceledError;bo.all=function(t){return Promise.all(t)};bo.spread=c4;bo.isAxiosError=u4;bo.mergeConfig=xl;bo.AxiosHeaders=Mi;bo.formToJSON=e=>C2(He.isHTMLForm(e)?new FormData(e):e);bo.getAdapter=T2.getAdapter;bo.HttpStatusCode=Cp;bo.default=bo;const{Axios:Tee,AxiosError:Iee,CanceledError:Dee,isCancel:Ree,CancelToken:Oee,VERSION:Mee,all:Fee,Cancel:Bee,isAxiosError:jee,spread:zee,toFormData:Uee,AxiosHeaders:Vee,HttpStatusCode:qee,formToJSON:Hee,getAdapter:Gee,mergeConfig:Wee}=bo,cd="https://dev-bienestar-animal-api.enigmadev.co/api/v1",O2=cd.endsWith("/api/v1")?cd:cd.replace(/\/+$/,"")+"/api/v1";console.log(" API Configuration:");console.log("  VITE_API_BASE_URL:","https://dev-bienestar-animal-api.enigmadev.co/api/v1");console.log("  rawBase:",cd);console.log("  baseURL:",O2);const Xe=bo.create({baseURL:O2,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"}}),d4=()=>{const e=new Date().toISOString().slice(0,10).replace(/-/g,""),t=Math.random().toString(36).substring(2,10);return`${e}-${t}`};Xe.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e.headers["X-Trace-ID"]=d4(),e.data instanceof FormData&&delete e.headers["Content-Type"],e},e=>Promise.reject(e));Xe.interceptors.response.use(e=>e,e=>{var n,i,s;const{response:t}=e;if(t)switch(t.status){case 401:localStorage.removeItem("auth_token"),localStorage.removeItem("user"),window.location.pathname.includes("/login")||(window.location.href="/login");break;case 403:console.error("Acceso denegado:",(n=t.data)==null?void 0:n.message);break;case 422:console.error("Error de validacion:",(i=t.data)==null?void 0:i.errors);break;case 500:console.error("Error del servidor:",(s=t.data)==null?void 0:s.message);break}return Promise.reject(e)});const tv=e=>{e?(localStorage.setItem("auth_token",e),Xe.defaults.headers.common.Authorization=`Bearer ${e}`):(localStorage.removeItem("auth_token"),delete Xe.defaults.headers.common.Authorization)},jo={async createDenuncia(e){return(await Xe.post("/denuncias",e)).data},async consultarTicket(e){return(await Xe.get(`/denuncias/consultar/${e}`)).data},async getDenuncias(e={}){return(await Xe.get("/denuncias",{params:e})).data},async getDenuncia(e){return(await Xe.get(`/denuncias/${e}`)).data},async getDenunciasUrgentes(){return(await Xe.get("/denuncias/urgentes")).data},async getMisAsignaciones(){return(await Xe.get("/denuncias/mis-asignaciones")).data},async asignarDenuncia(e,t){return(await Xe.put(`/denuncias/${e}/asignar`,{funcionario_id:t})).data},async actualizarEstado(e,t){return(await Xe.put(`/denuncias/${e}/estado`,t)).data},async getEstadisticas(){return(await Xe.get("/denuncias/estadisticas")).data},async getMapaCalor(){return(await Xe.get("/denuncias/mapa-calor")).data},async getRescates(e={}){return(await Xe.get("/rescates",{params:e})).data},async createRescate(e){return(await Xe.post("/rescates",e)).data},async getRescate(e){return(await Xe.get(`/rescates/${e}`)).data},async updateRescate(e,t){return(await Xe.put(`/rescates/${e}`,t)).data},async vincularAnimal(e,t){return(await Xe.put(`/rescates/${e}/vincular-animal`,{animal_id:t})).data},async getRescatesEstadisticas(){return(await Xe.get("/rescates/estadisticas")).data}},Br=fu("complaints",()=>{const e=ve([]),t=ve(null),n=ve([]),i=ve([]),s=ve([]),r=ve({currentPage:1,lastPage:1,perPage:15,total:0}),l=ve({estado:null,prioridad:null,tipo_denuncia:null,busqueda:""}),c=ve(null),d=ve(null),p=ve(!1),f=ve(null),v=We(()=>e.value.filter(b=>b.prioridad==="urgente")),w=We(()=>n.value.length),m=We(()=>e.value.filter(b=>["recibida","en_proceso"].includes(b.estado)).length);async function y(b={}){var S,Q;p.value=!0,f.value=null;try{const U={page:r.value.currentPage,per_page:r.value.perPage,...l.value,...b};Object.keys(U).forEach(ke=>{(U[ke]===null||U[ke]==="")&&delete U[ke]});const xe=(await jo.getDenuncias(U)).data;return e.value=xe.data||[],r.value={currentPage:xe.current_page,lastPage:xe.last_page,perPage:xe.per_page,total:xe.total},xe}catch(U){throw f.value=((Q=(S=U.response)==null?void 0:S.data)==null?void 0:Q.message)||"Error al cargar denuncias",U}finally{p.value=!1}}async function A(b){var S,Q;p.value=!0,f.value=null;try{const U=await jo.getDenuncia(b);return t.value=U.data,U.data}catch(U){throw f.value=((Q=(S=U.response)==null?void 0:S.data)==null?void 0:Q.message)||"Error al cargar denuncia",U}finally{p.value=!1}}async function N(){try{const b=await jo.getDenunciasUrgentes();return n.value=b.data||[],n.value}catch(b){console.error("Error al cargar urgentes:",b)}}async function k(){try{const b=await jo.getMisAsignaciones();return i.value=b.data||[],i.value}catch(b){console.error("Error al cargar asignaciones:",b)}}async function T(b){var S,Q;p.value=!0,f.value=null;try{return(await jo.createDenuncia(b)).data}catch(U){throw f.value=((Q=(S=U.response)==null?void 0:S.data)==null?void 0:Q.message)||"Error al crear denuncia",U}finally{p.value=!1}}async function I(b){var S,Q;p.value=!0,f.value=null;try{return(await jo.consultarTicket(b)).data}catch(U){throw f.value=((Q=(S=U.response)==null?void 0:S.data)==null?void 0:Q.message)||"No se encontro la denuncia",U}finally{p.value=!1}}async function j(b,S){var Q,U;p.value=!0;try{const le=await jo.asignarDenuncia(b,S),xe=e.value.findIndex(ke=>ke.id===b);return xe!==-1&&(e.value[xe]=le.data),n.value=n.value.filter(ke=>ke.id!==b),le.data}catch(le){throw f.value=((U=(Q=le.response)==null?void 0:Q.data)==null?void 0:U.message)||"Error al asignar denuncia",le}finally{p.value=!1}}async function K(b,S){var Q,U,le;p.value=!0;try{const xe=await jo.actualizarEstado(b,S),ke=e.value.findIndex(Le=>Le.id===b);return ke!==-1&&(e.value[ke]=xe.data),((Q=t.value)==null?void 0:Q.id)===b&&(t.value=xe.data),xe.data}catch(xe){throw f.value=((le=(U=xe.response)==null?void 0:U.data)==null?void 0:le.message)||"Error al actualizar estado",xe}finally{p.value=!1}}async function W(){try{const b=await jo.getEstadisticas();return c.value=b.data,b.data}catch(b){console.error("Error al cargar estadisticas:",b)}}async function H(){try{const b=await jo.getMapaCalor();return d.value=b.data,b.data}catch(b){console.error("Error al cargar mapa de calor:",b)}}async function F(b={}){try{const S=await jo.getRescates(b);return s.value=S.data.data||[],S.data}catch(S){console.error("Error al cargar rescates:",S)}}async function R(b){var S,Q,U;p.value=!0;try{const le=await jo.createRescate(b),xe=((S=le.data)==null?void 0:S.data)||le.data;return s.value.unshift(xe),xe}catch(le){throw f.value=((U=(Q=le.response)==null?void 0:Q.data)==null?void 0:U.message)||"Error al crear rescate",le}finally{p.value=!1}}async function z(b,S){var Q,U,le;p.value=!0;try{const xe=await jo.updateRescate(b,S),ke=((Q=xe.data)==null?void 0:Q.data)||xe.data,Le=s.value.findIndex(X=>X.id===b);return Le!==-1&&(s.value[Le]=ke),ke}catch(xe){throw f.value=((le=(U=xe.response)==null?void 0:U.data)==null?void 0:le.message)||"Error al actualizar rescate",xe}finally{p.value=!1}}function x(b){l.value={...l.value,...b},r.value.currentPage=1}function $(){l.value={estado:null,prioridad:null,tipo_denuncia:null,busqueda:""},r.value.currentPage=1}function Z(b){r.value.currentPage=b}return{denuncias:e,currentDenuncia:t,urgentes:n,misAsignaciones:i,rescates:s,pagination:r,filters:l,estadisticas:c,mapaCalor:d,loading:p,error:f,denunciasUrgentes:v,totalUrgentes:w,totalPendientes:m,fetchDenuncias:y,fetchDenuncia:A,fetchUrgentes:N,fetchMisAsignaciones:k,crearDenuncia:T,consultarTicket:I,asignarDenuncia:j,actualizarEstado:K,fetchEstadisticas:W,fetchMapaCalor:H,fetchRescates:F,crearRescate:R,actualizarRescate:z,setFilters:x,clearFilters:$,setPage:Z}}),f4={class:"sidebar-header"},p4=["aria-label"],h4={class:"sidebar-nav"},m4={class:"sidebar-menu"},v4=["innerHTML"],g4={class:"sidebar-label"},_4={class:"sidebar-footer"},b4={class:"sidebar-user"},y4={class:"sidebar-user-avatar"},w4={class:"sidebar-user-info"},x4={class:"sidebar-user-name"},A4={class:"sidebar-user-role"},S4={__name:"AppSidebar",setup(e){const t=lh(),{role:n}=d2(),i=Br(),s=ve(!1);yn(async()=>{if(n.value!==bt.CIUDADANO)try{await i.fetchEstadisticas()}catch(w){console.error("Error al cargar estadsticas de denuncias:",w)}});const r=We(()=>{const w=i.estadisticas;return w&&w.total_pendientes||0}),l=We(()=>{switch(n.value){case bt.OPERADOR_RESCATE:return"Operador de Rescate";case bt.MEDICO_VETERINARIO:return"Mdico Veterinario";case bt.COORDINADOR_ADOPCIONES:return"Coordinador de Adopciones";case bt.ADMIN_SISTEMA:return"Administrador del Sistema";case bt.DIRECTOR:return"Director";case bt.CIUDADANO:default:return"Ciudadano"}}),c=We(()=>l.value.split(" ").map(w=>w[0]).slice(0,2).join("").toUpperCase()),d=We(()=>({[bt.CIUDADANO]:"Ciudadano",[bt.OPERADOR_RESCATE]:"Operador de Rescate",[bt.MEDICO_VETERINARIO]:"Mdico Veterinario",[bt.COORDINADOR_ADOPCIONES]:"Coord. Adopciones",[bt.ADMIN_SISTEMA]:"Admin. Sistema",[bt.DIRECTOR]:"Director"})[n.value]||"Usuario"),p=We(()=>[{path:"/dashboard",label:"Panel Principal",icon:`<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="3" y="3" width="7" height="7"></rect>
        <rect x="14" y="3" width="7" height="7"></rect>
        <rect x="14" y="14" width="7" height="7"></rect>
        <rect x="3" y="14" width="7" height="7"></rect>
      </svg>`,roles:[bt.OPERADOR_RESCATE,bt.MEDICO_VETERINARIO,bt.COORDINADOR_ADOPCIONES,bt.ADMIN_SISTEMA,bt.DIRECTOR]},{path:"/animales",label:"Animales",icon:`<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M10 5.172C10 3.782 8.423 2.679 6.5 3c-2.823.47-3.5 3.005-3.5 5 0 0-.04 1.622.5 3.5C4 13 5 15 5 16.5 5 17.5 4 19 4 19h4l1-2 1 2h4s-1-1.5-1-2.5C13 15 14 13 14.5 11.5c.54-1.878.5-3.5.5-3.5 0-1.995-.677-4.53-3.5-5-1.923-.321-3.5.782-3.5 2.172Z"></path>
        <path d="M8 14v.5"></path>
        <path d="M16 14v.5"></path>
        <path d="M11.25 16.25h1.5L12 17l-.75-.75z"></path>
      </svg>`,roles:[bt.OPERADOR_RESCATE,bt.MEDICO_VETERINARIO,bt.COORDINADOR_ADOPCIONES,bt.ADMIN_SISTEMA]},{path:"/veterinaria",label:"Veterinaria",icon:`<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3 4.6 4.6 0 0 0 12 5.09 4.6 4.6 0 0 0 7.5 3 5.5 5.5 0 0 0 2 8.5c0 2.29 1.51 4.04 3 5.5l7 7Z"></path>
      </svg>`,roles:[bt.MEDICO_VETERINARIO,bt.ADMIN_SISTEMA]},{path:"/denuncias",label:"Denuncias",icon:`<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
        <line x1="12" y1="9" x2="12" y2="13"></line>
        <line x1="12" y1="17" x2="12.01" y2="17"></line>
      </svg>`,badge:r.value>0?r.value:null,badgeClass:"badge-danger",roles:[bt.CIUDADANO,bt.OPERADOR_RESCATE,bt.MEDICO_VETERINARIO,bt.COORDINADOR_ADOPCIONES,bt.ADMIN_SISTEMA,bt.DIRECTOR]},{path:"/adopciones",label:"Adopciones",icon:`<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
        <polyline points="9 22 9 12 15 12 15 22"></polyline>
      </svg>`,roles:[bt.CIUDADANO,bt.OPERADOR_RESCATE,bt.MEDICO_VETERINARIO,bt.COORDINADOR_ADOPCIONES,bt.ADMIN_SISTEMA,bt.DIRECTOR]},{path:"/adopciones/coordinador",label:"Gestin de adopciones",icon:`<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="3"></circle>
        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-1.42 3.42h-.09a1.65 1.65 0 0 0-1.51 1l-.2.5a2 2 0 0 1-3.74 0l-.2-.5a1.65 1.65 0 0 0-1.51-1h-.09A2 2 0 0 1 4.21 17.1l.06-.06A1.65 1.65 0 0 0 4.6 15"></path>
        <path d="M19.4 9a1.65 1.65 0 0 0 .33-1.82l-.06-.06A2 2 0 0 0 18.25 5"></path>
      </svg>`,roles:[bt.COORDINADOR_ADOPCIONES,bt.ADMIN_SISTEMA]},{path:"/administracion",label:"Administracin",icon:`<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="3"></circle>
        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-1.42 3.42h-.09a1.65 1.65 0 0 0-1.51 1l-.2.5a2 2 0 0 1-3.74 0l-.2-.5a1.65 1.65 0 0 0-1.51-1h-.09A2 2 0 0 1 4.21 17.1l.06-.06A1.65 1.65 0 0 0 4.6 15"></path>
      </svg>`,roles:[bt.ADMIN_SISTEMA]}].filter(m=>!m.roles||m.roles.includes(n.value)));function f(){s.value=!s.value}function v(w){return t.path===w||t.path.startsWith(w+"/")}return(w,m)=>{const y=kl("router-link");return D(),M("aside",{class:ot(["app-sidebar",{collapsed:s.value}])},[o("div",f4,[o("button",{type:"button",class:"sidebar-toggle",onClick:f,"aria-label":s.value?"Expandir men":"Colapsar men"},[...m[0]||(m[0]=[o("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),o("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),o("line",{x1:"3",y1:"18",x2:"21",y2:"18"})],-1)])],8,p4)]),o("nav",h4,[o("ul",m4,[(D(!0),M(rt,null,ht(p.value,A=>(D(),M("li",{key:A.path,class:ot(["sidebar-item",{active:v(A.path)}])},[Ke(y,{to:A.path,class:"sidebar-link",title:A.label},{default:gn(()=>[o("span",{class:"sidebar-icon",innerHTML:A.icon},null,8,v4),o("span",g4,P(A.label),1),A.badge?(D(),M("span",{key:0,class:ot(["sidebar-badge",A.badgeClass])},P(A.badge),3)):_e("",!0)]),_:2},1032,["to","title"])],2))),128))])]),o("div",_4,[o("div",b4,[o("div",y4,P(c.value),1),o("div",w4,[o("span",x4,P(l.value),1),o("span",A4,P(d.value),1)])])])],2)}}},k4=It(S4,[["__scopeId","data-v-e9d4cf01"]]),C4={class:"toast-container"},E4=["onClick"],L4={class:"toast-icon"},N4={key:0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},P4={key:1,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},$4={key:2,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},T4={key:3,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},I4={class:"toast-content"},D4={class:"toast-title"},R4={key:0,class:"toast-message"},O4=["onClick"],M4={__name:"Toast",setup(e,{expose:t}){const n=ve([]);let i=0;const s=({type:f="info",title:v,message:w,duration:m=5e3})=>{const y=i++;n.value.push({id:y,type:f,title:v,message:w}),m>0&&setTimeout(()=>{r(y)},m)},r=f=>{const v=n.value.findIndex(w=>w.id===f);v>-1&&n.value.splice(v,1)};return t({addNotification:s,removeNotification:r,success:(f,v,w)=>{s({type:"success",title:f,message:v,duration:w})},error:(f,v,w)=>{s({type:"error",title:f,message:v,duration:w})},warning:(f,v,w)=>{s({type:"warning",title:f,message:v,duration:w})},info:(f,v,w)=>{s({type:"info",title:f,message:v,duration:w})}}),(f,v)=>(D(),nn(ng,{to:"body"},[o("div",C4,[Ke(b5,{name:"toast"},{default:gn(()=>[(D(!0),M(rt,null,ht(n.value,w=>(D(),M("div",{key:w.id,class:ot(["toast",`toast-${w.type}`]),onClick:m=>r(w.id)},[o("div",L4,[w.type==="success"?(D(),M("svg",N4,[...v[0]||(v[0]=[o("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):w.type==="error"?(D(),M("svg",P4,[...v[1]||(v[1]=[o("path",{d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):w.type==="warning"?(D(),M("svg",$4,[...v[2]||(v[2]=[o("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):(D(),M("svg",T4,[...v[3]||(v[3]=[o("path",{d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])]))]),o("div",I4,[o("p",D4,P(w.title),1),w.message?(D(),M("p",R4,P(w.message),1)):_e("",!0)]),o("button",{class:"toast-close",onClick:Tt(m=>r(w.id),["stop"])},[...v[4]||(v[4]=[o("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])],8,O4)],10,E4))),128))]),_:1})])]))}},F4=It(M4,[["__scopeId","data-v-8032c105"]]),B4={class:"modal-header"},j4={key:0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},z4={key:1,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},U4={class:"modal-title"},V4={class:"modal-body"},q4={class:"modal-footer"},H4={__name:"ConfirmDialog",setup(e,{expose:t}){const n=ve(!1),i=ve(""),s=ve(""),r=ve("Confirmar"),l=ve("Cancelar"),c=ve("default");let d=null;const p=({title:w="Esta seguro?",message:m="",confirmText:y="Confirmar",cancelText:A="Cancelar",danger:N=!1})=>(i.value=w,s.value=m,r.value=y,l.value=A,c.value=N?"danger":"default",n.value=!0,new Promise(k=>{d=k})),f=()=>{n.value=!1,d&&(d(!0),d=null)},v=()=>{n.value=!1,d&&(d(!1),d=null)};return t({show:p}),(w,m)=>(D(),nn(ng,{to:"body"},[Ke(zg,{name:"modal"},{default:gn(()=>[n.value?(D(),M("div",{key:0,class:"modal-overlay",onClick:v},[o("div",{class:"modal-container",onClick:m[0]||(m[0]=Tt(()=>{},["stop"]))},[o("div",B4,[o("div",{class:ot(["modal-icon",`icon-${c.value}`])},[c.value==="danger"?(D(),M("svg",j4,[...m[1]||(m[1]=[o("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):(D(),M("svg",z4,[...m[2]||(m[2]=[o("path",{d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])]))],2),o("h3",U4,P(i.value),1)]),o("div",V4,[o("p",null,P(s.value),1)]),o("div",q4,[o("button",{type:"button",class:"btn-govco btn-govco-outline",onClick:v},P(l.value),1),o("button",{type:"button",class:ot(["btn-govco",c.value==="danger"?"btn-govco-danger":"btn-govco-primary"]),onClick:f},P(r.value),3)])])])):_e("",!0)]),_:1})]))}},G4=It(H4,[["__scopeId","data-v-2fc51f0a"]]),W4={id:"app-root",class:"app-wrapper"},Z4={class:"app-main"},K4={__name:"App",setup(e){const t=lh(),n=ve(null),i=ve(null),s=We(()=>["/dashboard","/animales","/veterinaria","/denuncias","/adopciones","/administracin"].some(l=>t.path.startsWith(l)));return yn(()=>{const r=uu();r&&(n.value&&(r.appContext.config.globalProperties.$toast=n.value,window.$toast=n.value),i.value&&(r.appContext.config.globalProperties.$confirm=i.value,window.$confirm=i.value))}),(r,l)=>{const c=kl("router-view");return D(),M("div",W4,[Ke(yw),o("div",{class:ot(["app-body",{"with-sidebar":s.value}])},[s.value?(D(),nn(k4,{key:0})):_e("",!0),o("main",Z4,[Ke(c,null,{default:gn(({Component:d})=>[Ke(zg,{name:"fade",mode:"out-in"},{default:gn(()=>[(D(),nn(mg(d)))]),_:2},1024)]),_:1})])],2),Ke(Rw),Ke(F4,{ref_key:"toastRef",ref:n},null,512),Ke(G4,{ref_key:"confirmRef",ref:i},null,512)])}}},J4={class:"home-view"},Y4={class:"hero-section"},X4={class:"hero-content container-govco"},Q4={class:"hero-actions"},ex={class:"services-section"},tx={class:"container-govco"},nx={class:"services-grid"},ox={class:"service-card card-govco"},ix={class:"service-card card-govco"},ax={class:"service-card card-govco"},sx={class:"service-card card-govco"},rx={class:"stats-section"},lx={class:"container-govco"},cx={class:"stats-grid"},ux={class:"stat-item"},dx={class:"stat-number"},fx={class:"stat-item"},px={class:"stat-number"},hx={class:"stat-item"},mx={class:"stat-number"},vx={class:"stat-item"},gx={class:"stat-number"},_x={class:"cta-section"},bx={class:"container-govco"},yx={class:"cta-content"},wx={__name:"HomeView",setup(e){const t=ve({rescued:0,adopted:0,sterilized:0,complaints:0});return yn(()=>{setTimeout(()=>{t.value={rescued:1250,adopted:890,sterilized:2340,complaints:456}},500)}),(n,i)=>{const s=kl("router-link");return D(),M("div",J4,[o("section",Y4,[i[5]||(i[5]=o("div",{class:"hero-overlay"},null,-1)),o("div",X4,[i[3]||(i[3]=o("h1",{class:"hero-title"},"Sistema de Bienestar Animal",-1)),i[4]||(i[4]=o("p",{class:"hero-subtitle"}," Protegiendo y cuidando a nuestros compaeros animales. Juntos por una convivencia responsable. ",-1)),o("div",Q4,[Ke(s,{to:"/denuncias",class:"btn-govco btn-govco-primary btn-lg"},{default:gn(()=>[...i[1]||(i[1]=[o("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),o("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),o("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})],-1),je(" Reportar Denuncia ",-1)])]),_:1}),Ke(s,{to:"/adopciones",class:"btn-govco btn-govco-outline-white btn-lg"},{default:gn(()=>[...i[2]||(i[2]=[o("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"})],-1),je(" Adoptar una Mascota ",-1)])]),_:1})])])]),o("section",ex,[o("div",tx,[i[14]||(i[14]=o("h2",{class:"section-title h2-tipografia-govco govcolor-blue-dark"},"Nuestros Servicios",-1)),i[15]||(i[15]=o("p",{class:"section-subtitle text2-tipografia-govco"}," Trabajamos por el bienestar de todos los animales en nuestro municipio ",-1)),o("div",nx,[o("div",ox,[i[7]||(i[7]=Bt('<div class="service-icon service-icon-danger" data-v-5c4cdc27><svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-5c4cdc27><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" data-v-5c4cdc27></path><line x1="12" y1="9" x2="12" y2="13" data-v-5c4cdc27></line><line x1="12" y1="17" x2="12.01" y2="17" data-v-5c4cdc27></line></svg></div><h3 class="service-title h5-tipografia-govco" data-v-5c4cdc27>Denuncias de Maltrato</h3><p class="service-description text2-tipografia-govco" data-v-5c4cdc27> Reporta casos de maltrato animal de forma annima. Nuestro equipo actuar de inmediato. </p>',3)),Ke(s,{to:"/denuncias",class:"service-link"},{default:gn(()=>[...i[6]||(i[6]=[je(" Reportar ahora ",-1),o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),o("polyline",{points:"12 5 19 12 12 19"})],-1)])]),_:1})]),o("div",ix,[i[9]||(i[9]=Bt('<div class="service-icon service-icon-success" data-v-5c4cdc27><svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-5c4cdc27><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" data-v-5c4cdc27></path><polyline points="9 22 9 12 15 12 15 22" data-v-5c4cdc27></polyline></svg></div><h3 class="service-title h5-tipografia-govco" data-v-5c4cdc27>Adopciones Responsables</h3><p class="service-description text2-tipografia-govco" data-v-5c4cdc27> Encuentra tu compaero ideal. Tenemos animales rescatados esperando un hogar. </p>',3)),Ke(s,{to:"/adopciones",class:"service-link"},{default:gn(()=>[...i[8]||(i[8]=[je(" Ver animales ",-1),o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),o("polyline",{points:"12 5 19 12 12 19"})],-1)])]),_:1})]),o("div",ax,[i[11]||(i[11]=Bt('<div class="service-icon service-icon-primary" data-v-5c4cdc27><svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-5c4cdc27><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" data-v-5c4cdc27></path><path d="M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66" data-v-5c4cdc27></path></svg></div><h3 class="service-title h5-tipografia-govco" data-v-5c4cdc27>Atencin Veterinaria</h3><p class="service-description text2-tipografia-govco" data-v-5c4cdc27> Servicios veterinarios gratuitos para animales rescatados y de familias vulnerables. </p>',3)),o("a",{href:"#",class:"service-link",onClick:i[0]||(i[0]=Tt(()=>{},["prevent"]))},[...i[10]||(i[10]=[je(" Ms informacin ",-1),o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),o("polyline",{points:"12 5 19 12 12 19"})],-1)])])]),o("div",sx,[i[13]||(i[13]=Bt('<div class="service-icon service-icon-warning" data-v-5c4cdc27><svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-5c4cdc27><circle cx="11" cy="11" r="8" data-v-5c4cdc27></circle><line x1="21" y1="21" x2="16.65" y2="16.65" data-v-5c4cdc27></line></svg></div><h3 class="service-title h5-tipografia-govco" data-v-5c4cdc27>Consultar Estado</h3><p class="service-description text2-tipografia-govco" data-v-5c4cdc27> Consulta el estado de tu denuncia o solicitud con tu nmero de radicado. </p>',3)),Ke(s,{to:"/denuncias",class:"service-link"},{default:gn(()=>[...i[12]||(i[12]=[je(" Consultar ",-1),o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),o("polyline",{points:"12 5 19 12 12 19"})],-1)])]),_:1})])])])]),o("section",rx,[o("div",lx,[o("div",cx,[o("div",ux,[o("span",dx,P(t.value.rescued),1),i[16]||(i[16]=o("span",{class:"stat-label"},"Animales Rescatados",-1))]),o("div",fx,[o("span",px,P(t.value.adopted),1),i[17]||(i[17]=o("span",{class:"stat-label"},"Adopciones Exitosas",-1))]),o("div",hx,[o("span",mx,P(t.value.sterilized),1),i[18]||(i[18]=o("span",{class:"stat-label"},"Esterilizaciones",-1))]),o("div",vx,[o("span",gx,P(t.value.complaints),1),i[19]||(i[19]=o("span",{class:"stat-label"},"Denuncias Atendidas",-1))])])])]),o("section",_x,[o("div",bx,[o("div",yx,[i[21]||(i[21]=o("h2",{class:"cta-title"},"Eres funcionario o veterinario?",-1)),i[22]||(i[22]=o("p",{class:"cta-description"}," Accede al sistema de gestin para registrar animales, gestionar denuncias y administrar el programa de bienestar animal. ",-1)),Ke(s,{to:"/login",class:"btn-govco btn-govco-primary btn-lg"},{default:gn(()=>[...i[20]||(i[20]=[je(" Iniciar Sesin ",-1)])]),_:1})])])]),i[23]||(i[23]=Bt('<section class="contact-section" data-v-5c4cdc27><div class="container-govco" data-v-5c4cdc27><h2 class="section-title h2-tipografia-govco govcolor-blue-dark" data-v-5c4cdc27>Lneas de Atencin</h2><div class="contact-grid" data-v-5c4cdc27><div class="contact-card" data-v-5c4cdc27><div class="contact-icon" data-v-5c4cdc27><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-5c4cdc27><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" data-v-5c4cdc27></path></svg></div><h4 class="contact-title" data-v-5c4cdc27>Lnea de Emergencias</h4><p class="contact-info" data-v-5c4cdc27>(604) 123-4567</p><p class="contact-hours" data-v-5c4cdc27>24 horas, 7 das</p></div><div class="contact-card" data-v-5c4cdc27><div class="contact-icon" data-v-5c4cdc27><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-5c4cdc27><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-v-5c4cdc27></path><polyline points="22,6 12,13 2,6" data-v-5c4cdc27></polyline></svg></div><h4 class="contact-title" data-v-5c4cdc27>Correo Electrnico</h4><p class="contact-info" data-v-5c4cdc27>bienestaranimal@alcaldia.gov.co</p><p class="contact-hours" data-v-5c4cdc27>Respuesta en 24-48 horas</p></div><div class="contact-card" data-v-5c4cdc27><div class="contact-icon" data-v-5c4cdc27><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-5c4cdc27><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" data-v-5c4cdc27></path><circle cx="12" cy="10" r="3" data-v-5c4cdc27></circle></svg></div><h4 class="contact-title" data-v-5c4cdc27>Atencin Presencial</h4><p class="contact-info" data-v-5c4cdc27>Calle Principal #123</p><p class="contact-hours" data-v-5c4cdc27>Lunes a Viernes 8:00 - 17:00</p></div></div></div></section>',1))])}}},xx=It(wx,[["__scopeId","data-v-5c4cdc27"]]),gu=fu("auth",()=>{const e=ve(null),t=ve(localStorage.getItem("auth_token")||null),n=ve([]),i=ve(!1),s=ve(null),r=ve(!1),l=ve(null),c=We(()=>!!t.value&&!!e.value),d=We(()=>{var W;return((W=e.value)==null?void 0:W.rol)||null}),p=We(()=>e.value?`${e.value.nombres} ${e.value.apellidos}`:"");async function f(W,H){var F,R;i.value=!0,s.value=null,r.value=!1;try{const x=(await Xe.post("/auth/login",{email:W,password:H})).data.data;return x.requiere_mfa?(r.value=!0,l.value=x.usuario_id,{requiresMfa:!0}):(console.log(" Login tradicional exitoso"),m(x),{success:!0})}catch(z){throw s.value=((R=(F=z.response)==null?void 0:F.data)==null?void 0:R.message)||"Error al iniciar sesion",z}finally{i.value=!1}}async function v(W){var H,F;i.value=!0,s.value=null;try{const z=(await Xe.post("/auth/mfa/verify",{usuario_id:l.value,codigo:W})).data.data;return m(z),r.value=!1,l.value=null,{success:!0}}catch(R){throw s.value=((F=(H=R.response)==null?void 0:H.data)==null?void 0:F.message)||"Codigo MFA invalido",R}finally{i.value=!1}}async function w(W){var H,F;i.value=!0,s.value=null;try{console.log(" Iniciando login con SSO (mtodo directo)...");const z=(await Xe.get("/sso/callback",{params:{jwt_token:W}})).data.data;return console.log(" Login SSO exitoso"),m(z),{success:!0}}catch(R){throw console.error(" Error en login SSO:",R),s.value=((F=(H=R.response)==null?void 0:H.data)==null?void 0:F.message)||"Error al autenticar con SSO",R}finally{i.value=!1}}function m(W){var z;k(W.access_token),e.value=W.usuario,n.value=W.permisos||[],localStorage.setItem("user",JSON.stringify(W.usuario));const H=((z=W.usuario.rol_codigo)==null?void 0:z.toLowerCase())||"",R={admin:"admin_sistema",administrador:"admin_sistema",director:"director",operador:"operador_rescate",veterinario:"medico_veterinario",coordinador:"coordinador_adopciones"}[H]||"ciudadano";localStorage.setItem("sba-role",R),console.log(" Login procesado. Token guardado. Rol:",R)}async function y(){try{await Xe.post("/auth/logout")}catch{}finally{T()}}async function A(){try{const H=(await Xe.post("/auth/refresh")).data.data;return k(H.access_token),!0}catch{return T(),!1}}async function N(){if(!t.value)return null;try{const H=(await Xe.get("/auth/me")).data.data;return e.value=H.usuario,n.value=H.permisos||[],localStorage.setItem("user",JSON.stringify(H.usuario)),H.usuario}catch{return T(),null}}function k(W){t.value=W,tv(W)}function T(){t.value=null,e.value=null,n.value=[],r.value=!1,l.value=null,localStorage.removeItem("auth_token"),localStorage.removeItem("user"),localStorage.removeItem("sba-role"),tv(null)}function I(W){var H;return n.value?((H=d.value)==null?void 0:H.toLowerCase())==="administrador"?!0:n.value.includes(W):!1}function j(W){return d.value?Array.isArray(W)?W.some(H=>H.toLowerCase()===d.value.toLowerCase()):W.toLowerCase()===d.value.toLowerCase():!1}function K(){const W=localStorage.getItem("user");if(W&&t.value)try{e.value=JSON.parse(W),N()}catch{T()}}return{user:e,token:t,permisos:n,loading:i,error:s,requiresMfa:r,isAuthenticated:c,userRole:d,userName:p,login:f,verifyMfa:v,logout:y,refreshToken:A,fetchUser:N,clearAuth:T,hasPermission:I,hasRole:j,initAuth:K,loginWithSSO:w}}),Ax={class:"login-view"},Sx={class:"login-container"},kx={class:"login-form-panel"},Cx={class:"login-form-container"},Ex={class:"form-group-govco"},Lx={class:"input-wrapper"},Nx={key:0,class:"error-message-govco"},Px={class:"form-group-govco"},$x={class:"input-wrapper"},Tx=["type"],Ix={key:0,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Dx={key:1,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Rx={key:0,class:"error-message-govco"},Ox={class:"form-options"},Mx={class:"checkbox-wrapper"},Fx=["disabled"],Bx={key:0},jx={key:1},zx={key:0,class:"error-message-govco mt-2",style:{"text-align":"center"}},Ux={class:"form-group-govco"},Vx=["disabled"],qx={key:0},Hx={key:1},Gx=["disabled"],Wx={key:0,class:"error-message-govco mt-2",style:{"text-align":"center"}},Zx={__name:"LoginView",setup(e){const t=u2(),n=gu(),i=ve(""),s=ve(""),r=ve(!1),l=ve(!1),c=ve(!1),d=ve(""),p=ve(""),f=ve(!1),v=ve(""),w=ve(""),m=ve("");function y(K){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(K)}function A(){v.value="",w.value="",m.value=""}async function N(){A();let K=!1;if(i.value.trim()?y(i.value)||(w.value="Ingresa un correo electrnico vlido.",K=!0):(w.value="El correo electrnico es obligatorio.",K=!0),s.value?s.value.length<6&&(m.value="La contrasea debe tener al menos 6 caracteres.",K=!0):(m.value="La contrasea es obligatoria.",K=!0),!K)try{if(f.value=!0,(await n.login(i.value,s.value)).requiresMfa){c.value=!0,p.value=i.value;return}T()}catch{v.value=n.error||"Credenciales incorrectas. Por favor, verifica tu correo y contrasea."}finally{f.value=!1}}async function k(){if(!d.value||d.value.length!==6){v.value="Ingresa el cdigo de 6 dgitos enviado a tu correo.";return}try{f.value=!0,await n.verifyMfa(d.value),T()}catch{v.value=n.error||"Cdigo MFA invlido o expirado."}finally{f.value=!1}}function T(){var F;const K=(F=n.userRole)==null?void 0:F.toLowerCase();console.log(" redirectByRole - userRole:",K),console.log(" localStorage sba-role:",localStorage.getItem("sba-role"));const H=["administrador","admin","director","veterinario","operador","coordinador"].some(R=>K==null?void 0:K.includes(R));console.log(" Es admin?:",H),H?(console.log(" Redirigiendo a /dashboard..."),t.push("/dashboard")):(console.log(" Redirigiendo a /adopciones..."),t.push("/adopciones"))}function I(){c.value=!1,d.value="",p.value="",v.value=""}function j(){window.$toast?window.$toast.info("Recuperar contrasena","Para recuperar tu contrasena, contacta al administrador del sistema."):alert("Para recuperar tu contrasea, contacta al administrador del sistema.")}return(K,W)=>{const H=kl("router-link");return D(),M("div",Ax,[o("div",Sx,[W[19]||(W[19]=Bt('<div class="login-info" data-v-e84f820c><div class="login-info-content" data-v-e84f820c><div class="login-logo" data-v-e84f820c><img src="https://cdn.www.gov.co/assets/images/logo.svg" alt="GOV.CO" data-v-e84f820c></div><h1 class="login-info-title" data-v-e84f820c>Sistema de Bienestar Animal</h1><p class="login-info-description" data-v-e84f820c> Plataforma de gestin integral para el cuidado y proteccin de los animales en nuestro municipio. </p><div class="login-info-features" data-v-e84f820c><div class="feature-item" data-v-e84f820c><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-e84f820c><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" data-v-e84f820c></path><polyline points="22 4 12 14.01 9 11.01" data-v-e84f820c></polyline></svg><span data-v-e84f820c>Gestin de denuncias y rescates</span></div><div class="feature-item" data-v-e84f820c><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-e84f820c><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" data-v-e84f820c></path><polyline points="22 4 12 14.01 9 11.01" data-v-e84f820c></polyline></svg><span data-v-e84f820c>Atencin veterinaria integral</span></div><div class="feature-item" data-v-e84f820c><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-e84f820c><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" data-v-e84f820c></path><polyline points="22 4 12 14.01 9 11.01" data-v-e84f820c></polyline></svg><span data-v-e84f820c>Proceso de adopciones responsables</span></div></div></div></div>',1)),o("div",kx,[o("div",Cx,[W[17]||(W[17]=o("h2",{class:"login-title h3-tipografia-govco govcolor-blue-dark"}," Ingresar al sistema ",-1)),W[18]||(W[18]=o("p",{class:"login-subtitle text2-tipografia-govco"}," Ingresa tus credenciales para acceder al sistema. ",-1)),c.value?(D(),M("form",{key:1,onSubmit:Tt(k,["prevent"]),class:"login-form"},[W[15]||(W[15]=o("div",{class:"mfa-info"},[o("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#3366CC","stroke-width":"2"},[o("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),o("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]),o("h3",null,"Verificacin de seguridad"),o("p",null,"Hemos enviado un cdigo de 6 dgitos a tu correo electrnico.")],-1)),o("div",Ux,[W[13]||(W[13]=o("label",{for:"mfaCode",class:"label-govco"},[je(" Cdigo de verificacin "),o("span",{"aria-required":"true"},"*")],-1)),$e(o("input",{type:"text",id:"mfaCode","onUpdate:modelValue":W[4]||(W[4]=F=>d.value=F),class:"input-govco mfa-input",placeholder:"000000",maxlength:"6",pattern:"[0-9]*",inputmode:"numeric",autocomplete:"one-time-code"},null,512),[[lt,d.value]])]),o("button",{type:"submit",class:"btn-govco btn-govco-primary btn-block",disabled:f.value},[f.value?(D(),M("span",Hx,[...W[14]||(W[14]=[o("span",{class:"spinner"},null,-1),je(" Verificando... ",-1)])])):(D(),M("span",qx,"Verificar cdigo"))],8,Vx),o("button",{type:"button",class:"btn-govco btn-govco-secondary btn-block mt-2",onClick:I,disabled:f.value}," Cancelar ",8,Gx),v.value?(D(),M("p",Wx,P(v.value),1)):_e("",!0)],32)):(D(),M("form",{key:0,onSubmit:Tt(N,["prevent"]),class:"login-form"},[o("div",Ex,[W[6]||(W[6]=o("label",{for:"email",class:"label-govco"},[je(" Correo electrnico "),o("span",{"aria-required":"true"},"*")],-1)),o("div",Lx,[W[5]||(W[5]=o("span",{class:"input-icon"},[o("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),o("polyline",{points:"22,6 12,13 2,6"})])],-1)),$e(o("input",{type:"email",id:"email","onUpdate:modelValue":W[0]||(W[0]=F=>i.value=F),class:ot(["input-govco input-with-icon",{"is-invalid":w.value}]),placeholder:"ejemplo@correo.com",required:""},null,2),[[lt,i.value]])]),w.value?(D(),M("span",Nx,P(w.value),1)):_e("",!0)]),o("div",Px,[W[10]||(W[10]=o("label",{for:"password",class:"label-govco"},[je(" Contrasea "),o("span",{"aria-required":"true"},"*")],-1)),o("div",$x,[W[9]||(W[9]=o("span",{class:"input-icon"},[o("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),o("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})])],-1)),$e(o("input",{type:l.value?"text":"password",id:"password","onUpdate:modelValue":W[1]||(W[1]=F=>s.value=F),class:ot(["input-govco input-with-icon",{"is-invalid":m.value}]),placeholder:"",required:""},null,10,Tx),[[k5,s.value]]),o("button",{type:"button",class:"password-toggle",onClick:W[2]||(W[2]=F=>l.value=!l.value),tabindex:"-1"},[l.value?(D(),M("svg",Dx,[...W[8]||(W[8]=[o("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},null,-1),o("line",{x1:"1",y1:"1",x2:"23",y2:"23"},null,-1)])])):(D(),M("svg",Ix,[...W[7]||(W[7]=[o("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},null,-1),o("circle",{cx:"12",cy:"12",r:"3"},null,-1)])]))])]),m.value?(D(),M("span",Rx,P(m.value),1)):_e("",!0)]),o("div",Ox,[o("div",Mx,[$e(o("input",{type:"checkbox",id:"remember","onUpdate:modelValue":W[3]||(W[3]=F=>r.value=F)},null,512),[[Po,r.value]]),W[11]||(W[11]=o("label",{for:"remember",class:"checkbox-label"},"Recordarme",-1))]),o("a",{href:"#",class:"forgot-password",onClick:Tt(j,["prevent"])}," Olvidaste tu contrasea? ")]),o("button",{type:"submit",class:"btn-govco btn-govco-primary btn-block",disabled:f.value},[f.value?(D(),M("span",jx,[...W[12]||(W[12]=[o("span",{class:"spinner"},null,-1),je(" Ingresando... ",-1)])])):(D(),M("span",Bx,"Ingresar"))],8,Fx),v.value?(D(),M("p",zx,P(v.value),1)):_e("",!0)],32)),Ke(H,{to:"/",class:"back-link"},{default:gn(()=>[...W[16]||(W[16]=[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),o("polyline",{points:"12 19 5 12 12 5"})],-1),je(" Volver al inicio ",-1)])]),_:1})])])])])}}},Kx=It(Zx,[["__scopeId","data-v-e84f820c"]]),Ga={async getAnimals(e={}){console.log(" animalService.getAnimals:",e);const t=await Xe.get("/animals",{params:e});return console.log(" animalService.getAnimals response:",t.data),t.data},async getAll(e={}){console.log(" animalService.getAll:",e);const t=await Xe.get("/animals",{params:e});return console.log(" animalService.getAll response:",t.data),t.data},async getCatalogoAdopcion(e={}){return(await Xe.get("/animals/catalogo-adopcion",{params:e})).data},async getStatistics(){return(await Xe.get("/animals/statistics")).data},async getAnimal(e){return(await Xe.get(`/animals/${e}`)).data},async createAnimal(e){return(await Xe.post("/animals",e)).data},async updateAnimal(e,t){return(await Xe.put(`/animals/${e}`,t)).data},async deleteAnimal(e){return(await Xe.delete(`/animals/${e}`)).data},async getHistorialClinico(e){return(await Xe.get(`/animals/${e}/historial-clinico`)).data},async updateHistorialClinico(e,t){return(await Xe.put(`/animals/${e}/historial-clinico`,t)).data},async registrarChip(e,t){return(await Xe.post(`/animals/${e}/chip`,t)).data},async buscarPorChip(e){return(await Xe.get(`/historial-clinico/buscar-chip/${e}`)).data},async uploadPhoto(e,t){const n=new FormData;return n.append("foto",t),(await Xe.post(`/animals/${e}/foto`,n,{headers:{"Content-Type":"multipart/form-data"}})).data}},jr=fu("animals",()=>{const e=ve([]),t=ve(null),n=ve({currentPage:1,lastPage:1,perPage:15,total:0}),i=ve({especie:null,estado:null,estado_salud:null,sexo:null,busqueda:""}),s=ve(null),r=ve(!1),l=ve(null),c=We(()=>e.value),d=We(()=>e.value.filter(H=>H.estado==="en_refugio")),p=We(()=>e.value.filter(H=>H.estado==="en_adopcion")),f=We(()=>n.value.total);async function v(H={}){var F,R;console.log(" animalsStore.fetchAnimals: Starting...",H),r.value=!0,l.value=null;try{const z={page:n.value.currentPage,per_page:n.value.perPage,...i.value,...H};Object.keys(z).forEach(b=>{(z[b]===null||z[b]==="")&&delete z[b]}),console.log(" animalsStore.fetchAnimals: Query params:",z);const x=await Ga.getAnimals(z);console.log(" animalsStore.fetchAnimals: Response:",x);const $=x.data||x,Z=$.data||$||[];return e.value=Array.isArray(Z)?Z:[],console.log(" animalsStore.animals set to:",e.value.length,"items"),$.current_page!==void 0&&(n.value={currentPage:$.current_page,lastPage:$.last_page,perPage:$.per_page,total:$.total}),e.value}catch(z){throw console.error(" animalsStore.fetchAnimals error:",z),l.value=((R=(F=z.response)==null?void 0:F.data)==null?void 0:R.message)||"Error al cargar animales",e.value=[],z}finally{r.value=!1}}async function w(H){var F,R;r.value=!0,l.value=null;try{const z=await Ga.getAnimal(H);return t.value=z.data,z.data}catch(z){throw l.value=((R=(F=z.response)==null?void 0:F.data)==null?void 0:R.message)||"Error al cargar animal",z}finally{r.value=!1}}async function m(H){var F,R;r.value=!0,l.value=null;try{const z=await Ga.createAnimal(H);return e.value.unshift(z.data),z.data}catch(z){throw l.value=((R=(F=z.response)==null?void 0:F.data)==null?void 0:R.message)||"Error al crear animal",z}finally{r.value=!1}}async function y(H,F){var R,z,x;r.value=!0,l.value=null;try{const $=await Ga.updateAnimal(H,F),Z=e.value.findIndex(b=>b.id===H);return Z!==-1&&(e.value[Z]=$.data),((R=t.value)==null?void 0:R.id)===H&&(t.value=$.data),$.data}catch($){throw l.value=((x=(z=$.response)==null?void 0:z.data)==null?void 0:x.message)||"Error al actualizar animal",$}finally{r.value=!1}}async function A(H){var F,R,z;r.value=!0,l.value=null;try{await Ga.deleteAnimal(H),e.value=e.value.filter(x=>x.id!==H),((F=t.value)==null?void 0:F.id)===H&&(t.value=null)}catch(x){throw l.value=((z=(R=x.response)==null?void 0:R.data)==null?void 0:z.message)||"Error al eliminar animal",x}finally{r.value=!1}}async function N(){try{const H=await Ga.getStatistics();return s.value=H.data,H.data}catch(H){console.error("Error al cargar estadisticas:",H)}}async function k(H){var F,R;try{return(await Ga.getHistorialClinico(H)).data}catch(z){throw l.value=((R=(F=z.response)==null?void 0:F.data)==null?void 0:R.message)||"Error al cargar historial",z}}function T(H){i.value={...i.value,...H},n.value.currentPage=1}function I(){i.value={especie:null,estado:null,estado_salud:null,sexo:null,busqueda:""},n.value.currentPage=1}function j(H){n.value.currentPage=H}function K(){t.value=null}function W(){e.value=[],n.value={currentPage:1,lastPage:1,perPage:15,total:0}}return{animals:e,currentAnimal:t,pagination:n,filters:i,statistics:s,loading:r,error:l,animales:c,animalesEnRefugio:d,animalesEnAdopcion:p,totalAnimales:f,fetchAnimals:v,fetchAnimal:w,createAnimal:m,updateAnimal:y,deleteAnimal:A,fetchStatistics:N,fetchHistorialClinico:k,setFilters:T,clearFilters:I,setPage:j,clearCurrentAnimal:K,clearAnimals:W}}),vn={async getVeterinarios(){console.log(" veterinaryService.getVeterinarios: Fetching...");const e=await Xe.get("/vacunas/veterinarios");return console.log(" veterinaryService.getVeterinarios response:",e.data),e.data},async getConsultas(e={}){return(await Xe.get("/consultas",{params:e})).data},async getConsultasHoy(){return(await Xe.get("/consultas/hoy")).data},async getConsultasPendientes(){return(await Xe.get("/consultas/pendientes")).data},async getConsulta(e){return(await Xe.get(`/consultas/${e}`)).data},async createConsulta(e){return(await Xe.post("/consultas",e)).data},async getConsultasEstadisticas(){return(await Xe.get("/consultas/estadisticas")).data},async getTiposVacuna(){return(await Xe.get("/vacunas/tipos")).data},async getVacunas(e={}){return(await Xe.get("/vacunas",{params:e})).data},async getVacunasAnimal(e){return(await Xe.get(`/vacunas/animal/${e}`)).data},async getVacunasProximas(e=30){return(await Xe.get("/vacunas/proximas",{params:{dias:e}})).data},async createVacuna(e){return(await Xe.post("/vacunas",e)).data},async getVacuna(e){return(await Xe.get(`/vacunas/${e}`)).data},async getProcedimientos(){return(await Xe.get("/cirugias/procedimientos")).data},async getCirugias(e={}){return(await Xe.get("/cirugias",{params:e})).data},async getCirugiasAnimal(e){return(await Xe.get(`/cirugias/animal/${e}`)).data},async createCirugia(e){return(await Xe.post("/cirugias",e)).data},async getCirugia(e){return(await Xe.get(`/cirugias/${e}`)).data},async updateCirugia(e,t){return(await Xe.put(`/cirugias/${e}`,t)).data},async getCirugiasEstadisticas(){return(await Xe.get("/cirugias/estadisticas")).data},async getHistorialCompleto(e){return(await Xe.get(`/animals/${e}/historial-clinico`)).data},async getHistorialById(e){return(await Xe.get(`/historiales-clinicos/${e}`)).data},async getTratamientosConsulta(e){return(await Xe.get(`/consultas/${e}/tratamientos`)).data},async createTratamiento(e){return(await Xe.post("/tratamientos",e)).data},async updateTratamiento(e,t){return(await Xe.put(`/tratamientos/${e}`,t)).data},async getAlertas(){return(await Xe.get("/veterinaria/alertas")).data},async getRecordatoriosVacunas(e={}){return(await Xe.get("/vacunas/recordatorios",{params:e})).data},async marcarRecordatorioEnviado(e){return(await Xe.put(`/vacunas/recordatorios/${e}/enviado`)).data},async generarCertificadoVacunacion(e){return await Xe.get(`/certificados/vacunacion/${e}`,{responseType:"blob"})},async generarCertificadoSalud(e){return await Xe.get(`/certificados/salud/${e}`,{responseType:"blob"})},async generarCarnetVacunacion(e){return await Xe.get(`/certificados/carnet/${e}`,{responseType:"blob"})},async verificarStock(e){return(await Xe.get(`/inventario/verificar-stock/${e}`)).data},async getMedicamentos(e={}){return(await Xe.get("/medicamentos",{params:e})).data},async prescribirMedicamento(e){return(await Xe.post("/medicamentos/prescribir",e)).data},async getAlertasStockBajo(){return(await Xe.get("/inventario/alertas-stock")).data},async getDesparasitacionesAnimal(e){return(await Xe.get(`/desparasitaciones/animal/${e}`)).data},async createDesparasitacion(e){return(await Xe.post("/desparasitaciones",e)).data},async getExamenesAnimal(e){return(await Xe.get(`/examenes/animal/${e}`)).data},async createExamen(e){return(await Xe.post("/examenes",e)).data},async updateExamenResultados(e,t){return(await Xe.put(`/examenes/${e}/resultados`,t)).data},async getEstadisticasGenerales(){return(await Xe.get("/veterinaria/estadisticas")).data},async getDashboard(){return(await Xe.get("/veterinaria/dashboard")).data}},zr=fu("veterinary",()=>{const e=ve([]),t=ve(null),n=ve([]),i=ve([]),s=ve([]),r=ve([]),l=ve([]),c=ve([]),d=ve([]),p=ve(null),f=ve([]),v=ve([]),w=ve([]),m=ve([]),y=ve([]),A=ve([]),N=ve({currentPage:1,lastPage:1,perPage:15,total:0}),k=ve({veterinario_id:null,tipo_consulta:null,fecha_desde:null,fecha_hasta:null}),T=ve(null),I=ve(!1),j=ve(null),K=We(()=>n.value.length),W=We(()=>i.value.length),H=We(()=>f.value.length),F=We(()=>v.value.length),R=We(()=>m.value.length>0);async function z(Ce={}){var Ue,Je;I.value=!0,j.value=null;try{const Re={page:N.value.currentPage,per_page:N.value.perPage,...k.value,...Ce};Object.keys(Re).forEach(ft=>{(Re[ft]===null||Re[ft]==="")&&delete Re[ft]});const mt=(await vn.getConsultas(Re)).data;return e.value=mt.data||[],N.value={currentPage:mt.current_page,lastPage:mt.last_page,perPage:mt.per_page,total:mt.total},mt}catch(Re){throw j.value=((Je=(Ue=Re.response)==null?void 0:Ue.data)==null?void 0:Je.message)||"Error al cargar consultas",Re}finally{I.value=!1}}async function x(){try{const Ce=await vn.getConsultasHoy();return n.value=Ce.data||[],n.value}catch(Ce){console.error("Error al cargar consultas del dia:",Ce)}}async function $(){try{const Ce=await vn.getConsultasPendientes();return i.value=Ce.data||[],i.value}catch(Ce){console.error("Error al cargar consultas pendientes:",Ce)}}async function Z(Ce){var Ue,Je;I.value=!0;try{const Re=await vn.getConsulta(Ce);return t.value=Re.data,Re.data}catch(Re){throw j.value=((Je=(Ue=Re.response)==null?void 0:Ue.data)==null?void 0:Je.message)||"Error al cargar consulta",Re}finally{I.value=!1}}async function b(Ce){var Ue,Je;I.value=!0;try{const Re=await vn.createConsulta(Ce);return e.value.unshift(Re.data),Re.data}catch(Re){throw j.value=((Je=(Ue=Re.response)==null?void 0:Ue.data)==null?void 0:Je.message)||"Error al crear consulta",Re}finally{I.value=!1}}async function S(){console.log(" veterinaryStore.fetchVeterinarios: Starting...");try{const Ce=await vn.getVeterinarios();return console.log(" veterinaryStore.fetchVeterinarios response:",Ce),l.value=Ce.data||Ce||[],console.log(" veterinaryStore.veterinarios set to:",l.value),l.value}catch(Ce){return console.error(" Error al cargar veterinarios:",Ce),l.value=[],[]}}async function Q(){try{const Ce=await vn.getTiposVacuna();return r.value=Ce.data||[],r.value}catch(Ce){console.error("Error al cargar tipos de vacuna:",Ce)}}async function U(Ce){var Ue,Je;try{return(await vn.getVacunasAnimal(Ce)).data||[]}catch(Re){throw j.value=((Je=(Ue=Re.response)==null?void 0:Ue.data)==null?void 0:Je.message)||"Error al cargar vacunas",Re}}async function le(Ce){var Ue,Je;I.value=!0;try{return(await vn.createVacuna(Ce)).data}catch(Re){throw j.value=((Je=(Ue=Re.response)==null?void 0:Ue.data)==null?void 0:Je.message)||"Error al registrar vacuna",Re}finally{I.value=!1}}async function xe(){try{const Ce=await vn.getProcedimientos();return d.value=Ce.data||[],d.value}catch(Ce){console.error("Error al cargar procedimientos:",Ce)}}async function ke(Ce){var Ue,Je;try{return(await vn.getCirugiasAnimal(Ce)).data||[]}catch(Re){throw j.value=((Je=(Ue=Re.response)==null?void 0:Ue.data)==null?void 0:Je.message)||"Error al cargar cirugias",Re}}async function Le(Ce){var Ue,Je;I.value=!0;try{const Re=await vn.createCirugia(Ce);return c.value.unshift(Re.data),Re.data}catch(Re){throw j.value=((Je=(Ue=Re.response)==null?void 0:Ue.data)==null?void 0:Je.message)||"Error al registrar cirugia",Re}finally{I.value=!1}}async function X(){try{const Ce=await vn.getConsultasEstadisticas();return T.value=Ce.data,Ce.data}catch(Ce){console.error("Error al cargar estadisticas:",Ce)}}async function he(Ce){var Ue,Je;try{I.value=!0;const Re=await vn.getHistorialCompleto(Ce);return Re.data||Re}catch(Re){throw j.value=((Je=(Ue=Re.response)==null?void 0:Ue.data)==null?void 0:Je.message)||"Error al cargar historial clnico",console.error("Error en fetchHistorialClinico:",Re),Re}finally{I.value=!1}}async function J(){try{const Ce=await vn.getAlertas();return f.value=Ce.data||[],f.value}catch(Ce){console.error("Error al cargar alertas:",Ce)}}async function B(Ce={}){try{const Ue=await vn.getRecordatoriosVacunas(Ce);return v.value=Ue.data||[],v.value}catch(Ue){console.error("Error al cargar recordatorios:",Ue)}}async function V(Ce){var Ue,Je;try{await vn.marcarRecordatorioEnviado(Ce);const Re=v.value.findIndex(ut=>ut.id===Ce);Re!==-1&&(v.value[Re].enviado=!0)}catch(Re){throw j.value=((Je=(Ue=Re.response)==null?void 0:Ue.data)==null?void 0:Je.message)||"Error al marcar recordatorio",Re}}async function Y(Ce){var Ue,Je;I.value=!0;try{const Re=await vn.generarCertificadoVacunacion(Ce),ut=new Blob([Re.data],{type:"application/pdf"}),mt=window.URL.createObjectURL(ut),ft=document.createElement("a");return ft.href=mt,ft.download=`certificado_vacunacion_${Ce}.pdf`,ft.click(),window.URL.revokeObjectURL(mt),!0}catch(Re){throw j.value=((Je=(Ue=Re.response)==null?void 0:Ue.data)==null?void 0:Je.message)||"Error al generar certificado",Re}finally{I.value=!1}}async function ee(Ce){var Ue,Je;I.value=!0;try{const Re=await vn.generarCertificadoSalud(Ce),ut=new Blob([Re.data],{type:"application/pdf"}),mt=window.URL.createObjectURL(ut),ft=document.createElement("a");return ft.href=mt,ft.download=`certificado_salud_${Ce}.pdf`,ft.click(),window.URL.revokeObjectURL(mt),!0}catch(Re){throw j.value=((Je=(Ue=Re.response)==null?void 0:Ue.data)==null?void 0:Je.message)||"Error al generar certificado",Re}finally{I.value=!1}}async function fe(Ce){var Ue,Je;I.value=!0;try{const Re=await vn.generarCarnetVacunacion(Ce),ut=new Blob([Re.data],{type:"application/pdf"}),mt=window.URL.createObjectURL(ut),ft=document.createElement("a");return ft.href=mt,ft.download=`carnet_vacunacion_${Ce}.pdf`,ft.click(),window.URL.revokeObjectURL(mt),!0}catch(Re){throw j.value=((Je=(Ue=Re.response)==null?void 0:Ue.data)==null?void 0:Je.message)||"Error al generar carnet",Re}finally{I.value=!1}}async function ae(Ce={}){try{const Ue=await vn.getMedicamentos(Ce);return w.value=Ue.data||[],w.value}catch(Ue){console.error("Error al cargar medicamentos:",Ue)}}async function te(Ce){var Ue,Je;try{return(await vn.verificarStock(Ce)).data}catch(Re){throw j.value=((Je=(Ue=Re.response)==null?void 0:Ue.data)==null?void 0:Je.message)||"Error al verificar stock",Re}}async function se(Ce){var Ue,Je;I.value=!0;try{const Re=await vn.prescribirMedicamento(Ce);return await de(),Re.data}catch(Re){throw j.value=((Je=(Ue=Re.response)==null?void 0:Ue.data)==null?void 0:Je.message)||"Error al prescribir medicamento",Re}finally{I.value=!1}}async function de(){try{const Ce=await vn.getAlertasStockBajo();return m.value=Ce.data||[],m.value}catch(Ce){console.error("Error al cargar alertas de stock:",Ce)}}async function Ae(Ce){var Ue,Je;try{const Re=await vn.getDesparasitacionesAnimal(Ce);return y.value=Re.data||[],y.value}catch(Re){throw j.value=((Je=(Ue=Re.response)==null?void 0:Ue.data)==null?void 0:Je.message)||"Error al cargar desparasitaciones",Re}}async function ne(Ce){var Ue,Je;I.value=!0;try{const Re=await vn.createDesparasitacion(Ce);return y.value.unshift(Re.data),Re.data}catch(Re){throw j.value=((Je=(Ue=Re.response)==null?void 0:Ue.data)==null?void 0:Je.message)||"Error al registrar desparasitacion",Re}finally{I.value=!1}}async function ge(Ce){var Ue,Je;try{const Re=await vn.getExamenesAnimal(Ce);return A.value=Re.data||[],A.value}catch(Re){throw j.value=((Je=(Ue=Re.response)==null?void 0:Ue.data)==null?void 0:Je.message)||"Error al cargar examenes",Re}}async function Me(Ce){var Ue,Je;I.value=!0;try{const Re=await vn.createExamen(Ce);return A.value.unshift(Re.data),Re.data}catch(Re){throw j.value=((Je=(Ue=Re.response)==null?void 0:Ue.data)==null?void 0:Je.message)||"Error al registrar examen",Re}finally{I.value=!1}}async function Ge(Ce,Ue){var Je,Re;I.value=!0;try{const ut=await vn.updateExamenResultados(Ce,Ue),mt=A.value.findIndex(ft=>ft.id===Ce);return mt!==-1&&(A.value[mt]=ut.data),ut.data}catch(ut){throw j.value=((Re=(Je=ut.response)==null?void 0:Je.data)==null?void 0:Re.message)||"Error al actualizar resultados",ut}finally{I.value=!1}}async function Te(){var Ce,Ue;I.value=!0;try{return(await vn.getDashboard()).data}catch(Je){throw j.value=((Ue=(Ce=Je.response)==null?void 0:Ce.data)==null?void 0:Ue.message)||"Error al cargar dashboard",Je}finally{I.value=!1}}function Pe(Ce){k.value={...k.value,...Ce},N.value.currentPage=1}function De(){k.value={veterinario_id:null,tipo_consulta:null,fecha_desde:null,fecha_hasta:null},N.value.currentPage=1}function nt(Ce){N.value.currentPage=Ce}function Ze(){j.value=null}function dt(){e.value=[],t.value=null,p.value=null,f.value=[],v.value=[],j.value=null}return{consultas:e,currentConsulta:t,consultasHoy:n,consultasPendientes:i,vacunas:s,tiposVacuna:r,veterinarios:l,cirugias:c,procedimientos:d,historialClinico:p,alertas:f,recordatoriosVacunas:v,medicamentos:w,alertasStockBajo:m,desparasitaciones:y,examenes:A,pagination:N,filters:k,estadisticas:T,loading:I,error:j,totalConsultasHoy:K,totalPendientes:W,totalAlertas:H,totalRecordatorios:F,tieneAlertasStock:R,fetchConsultas:z,fetchConsultasHoy:x,fetchConsultasPendientes:$,fetchConsulta:Z,crearConsulta:b,fetchHistorialClinico:he,fetchVeterinarios:S,fetchTiposVacuna:Q,fetchVacunasAnimal:U,crearVacuna:le,fetchProcedimientos:xe,fetchCirugiasAnimal:ke,crearCirugia:Le,fetchHistorialClinico:he,fetchAlertas:J,fetchRecordatoriosVacunas:B,marcarRecordatorioEnviado:V,generarCertificadoVacunacion:Y,generarCertificadoSalud:ee,generarCarnetVacunacion:fe,fetchMedicamentos:ae,verificarStock:te,prescribirMedicamento:se,fetchAlertasStockBajo:de,fetchDesparasitacionesAnimal:Ae,crearDesparasitacion:ne,fetchExamenesAnimal:ge,crearExamen:Me,actualizarResultadosExamen:Ge,fetchEstadisticas:X,fetchDashboard:Te,setFilters:Pe,clearFilters:De,setPage:nt,clearError:Ze,resetState:dt}}),Jx=fu("adoptions",()=>{const e=ve([]),t=ve(null),n=ve([]),i=ve({currentPage:1,lastPage:1,perPage:15,total:0}),s=ve({estado:null,busqueda:""}),r=ve(null),l=ve(!1),c=ve(null),d=We(()=>e.value.filter(K=>K.estado==="pendiente")),p=We(()=>e.value.filter(K=>K.estado==="aprobada")),f=We(()=>n.value.length);async function v(K={}){var W,H;l.value=!0,c.value=null;try{const F={page:i.value.currentPage,per_page:i.value.perPage,...s.value,...K};Object.keys(F).forEach(x=>{(F[x]===null||F[x]==="")&&delete F[x]});const z=(await Xe.get("/adopciones",{params:F})).data.data;return e.value=z.data||[],i.value={currentPage:z.current_page,lastPage:z.last_page,perPage:z.per_page,total:z.total},z}catch(F){throw c.value=((H=(W=F.response)==null?void 0:W.data)==null?void 0:H.message)||"Error al cargar adopciones",F}finally{l.value=!1}}async function w(){var K,W;l.value=!0;try{const H=await Xe.get("/adopciones/pendientes");return n.value=H.data.data||[],n.value}catch(H){throw c.value=((W=(K=H.response)==null?void 0:K.data)==null?void 0:W.message)||"Error al cargar pendientes",H}finally{l.value=!1}}async function m(K){var W,H;l.value=!0,c.value=null;try{const F=await Xe.get(`/adopciones/${K}`);return t.value=F.data.data,F.data.data}catch(F){throw c.value=((H=(W=F.response)==null?void 0:W.data)==null?void 0:H.message)||"Error al cargar adopcion",F}finally{l.value=!1}}async function y(K){var W,H;l.value=!0,c.value=null;try{return(await Xe.post("/adopciones",K)).data.data}catch(F){throw c.value=((H=(W=F.response)==null?void 0:W.data)==null?void 0:H.message)||"Error al crear solicitud",F}finally{l.value=!1}}async function A(K,W){var H,F;l.value=!0,c.value=null;try{const R=await Xe.put(`/adopciones/${K}/evaluar`,W),z=e.value.findIndex(x=>x.id===K);return z!==-1&&(e.value[z]=R.data.data),n.value=n.value.filter(x=>x.id!==K),R.data.data}catch(R){throw c.value=((F=(H=R.response)==null?void 0:H.data)==null?void 0:F.message)||"Error al evaluar solicitud",R}finally{l.value=!1}}async function N(K){var W,H;try{return(await Xe.get(`/adopciones/${K}/contrato`)).data.data}catch(F){throw c.value=((H=(W=F.response)==null?void 0:W.data)==null?void 0:H.message)||"Error al generar contrato",F}}async function k(){try{const K=await Xe.get("/adopciones/estadisticas");return r.value=K.data.data,K.data.data}catch(K){console.error("Error al cargar estadisticas:",K)}}function T(K){s.value={...s.value,...K},i.value.currentPage=1}function I(){s.value={estado:null,busqueda:""},i.value.currentPage=1}function j(K){i.value.currentPage=K}return{adopciones:e,currentAdopcion:t,pendientes:n,pagination:i,filters:s,estadisticas:r,loading:l,error:c,adopcionesPendientes:d,adopcionesAprobadas:p,totalPendientes:f,fetchAdopciones:v,fetchPendientes:w,fetchAdopcion:m,crearSolicitud:y,evaluarSolicitud:A,generarContrato:N,fetchEstadisticas:k,setFilters:T,clearFilters:I,setPage:j}}),Yx={class:"dashboard-view"},Xx={class:"dashboard-container"},Qx={class:"dashboard-header"},e6={class:"header-content"},t6={class:"text2-tipografia-govco"},n6={class:"header-actions"},o6={class:"last-update text3-tipografia-govco"},i6={class:"kpi-section"},a6={class:"kpi-grid"},s6={class:"kpi-card kpi-primary"},r6={class:"kpi-content"},l6={class:"kpi-value"},c6={class:"kpi-card kpi-success"},u6={class:"kpi-content"},d6={class:"kpi-value"},f6={class:"kpi-card kpi-warning"},p6={class:"kpi-content"},h6={class:"kpi-value"},m6={class:"kpi-card kpi-info"},v6={class:"kpi-content"},g6={class:"kpi-value"},_6={class:"dashboard-content"},b6={class:"quick-actions-section card-govco"},y6={class:"card-govco-body"},w6={class:"quick-actions-grid"},x6={class:"recent-complaints-section card-govco"},A6={class:"card-govco-header"},S6={class:"card-govco-body"},k6={class:"complaints-list"},C6={class:"complaint-info"},E6={class:"complaint-number"},L6={class:"complaint-type"},N6={class:"complaint-date"},P6={__name:"DashboardView",setup(e){const t=gu(),n=jr(),i=Br(),s=zr(),r=Jx(),l=ve(!0),c=We(()=>t.userName||"Usuario"),d=We(()=>{var N,k,T;return{totalAnimals:((N=n.statistics)==null?void 0:N.total)||n.totalAnimales||0,adoptions:((k=r.estadisticas)==null?void 0:k.adoptados_mes)||0,pendingComplaints:i.totalPendientes||0,sterilizations:((T=s.estadisticas)==null?void 0:T.esterilizaciones_mes)||0}}),p=We(()=>new Date().toLocaleString("es-CO",{dateStyle:"medium",timeStyle:"short"})),f=We(()=>i.denuncias.slice(0,4).map(N=>{var k;return{id:N.id,caseNumber:N.ticket||`DEN-${(k=N.id)==null?void 0:k.substring(0,8)}`,type:N.tipo_denuncia||"Sin clasificar",date:v(N.fecha_recepcion),status:w(N.estado),urgency:m(N.prioridad)}}));yn(async()=>{l.value=!0;try{await Promise.all([n.fetchAnimals({per_page:1}),n.fetchStatistics().catch(()=>{}),i.fetchDenuncias({per_page:5}),i.fetchEstadisticas().catch(()=>{}),s.fetchEstadisticas().catch(()=>{}),r.fetchEstadisticas().catch(()=>{})])}catch(N){console.error("Error cargando datos del dashboard:",N)}finally{l.value=!1}});function v(N){return N?new Date(N).toLocaleDateString("es-CO",{day:"2-digit",month:"2-digit",year:"numeric"}):"-"}function w(N){return{recibida:"Pendiente",en_proceso:"En proceso",resuelta:"Resuelto",cerrada:"Cerrado",archivada:"Archivado"}[N]||N||"Pendiente"}function m(N){return{urgente:"critical",alta:"high",media:"medium",baja:"low"}[N]||"medium"}function y(N){return{critical:"status-critical",high:"status-high",medium:"status-medium",low:"status-low"}[N]||"status-medium"}function A(N){return{Pendiente:"badge-govco-danger","En proceso":"badge-govco-warning",Resuelto:"badge-govco-success",Cerrado:"badge-govco-secondary",Archivado:"badge-govco-secondary"}[N]||"badge-govco-primary"}return(N,k)=>{const T=kl("router-link");return D(),M("div",Yx,[o("div",Xx,[o("header",Qx,[o("div",e6,[k[0]||(k[0]=o("h1",{class:"h2-tipografia-govco govcolor-blue-dark"},"Panel Principal",-1)),o("p",t6," Bienvenido, "+P(c.value)+". Resumen general del sistema de bienestar animal. ",1)]),o("div",n6,[o("span",o6," ltima actualizacin: "+P(p.value),1)])]),o("section",i6,[o("div",a6,[o("div",s6,[k[2]||(k[2]=Bt('<div class="kpi-icon" data-v-b031467b><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-b031467b><path d="M10 5.172C10 3.782 8.423 2.679 6.5 3c-2.823.47-4.113 6.006-4 7 .137 1.217.677 1.146 2 1.5.67.178 1.5.5 2.5.5s1.7-.322 2-1c.247-.558.212-1.828 1-2.5.786-.672 0-2.328 0-3.328z" data-v-b031467b></path><path d="M14 5.172C14 3.782 15.577 2.679 17.5 3c2.823.47 4.113 6.006 4 7-.137 1.217-.677 1.146-2 1.5-.67.178-1.5.5-2.5.5s-1.7-.322-2-1c-.247-.558-.212-1.828-1-2.5-.786-.672 0-2.328 0-3.328z" data-v-b031467b></path><path d="M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444c0-1.061-.162-2.2-.493-3.309" data-v-b031467b></path></svg></div>',1)),o("div",r6,[o("span",l6,P(d.value.totalAnimals),1),k[1]||(k[1]=o("span",{class:"kpi-label"},"Animales Registrados",-1))]),k[3]||(k[3]=o("div",{class:"kpi-trend kpi-trend-up"},[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),o("polyline",{points:"17 6 23 6 23 12"})]),je(" +12% este mes ")],-1))]),o("div",c6,[k[5]||(k[5]=o("div",{class:"kpi-icon"},[o("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),o("polyline",{points:"9 22 9 12 15 12 15 22"})])],-1)),o("div",u6,[o("span",d6,P(d.value.adoptions),1),k[4]||(k[4]=o("span",{class:"kpi-label"},"Adopciones del Mes",-1))]),k[6]||(k[6]=o("div",{class:"kpi-trend kpi-trend-up"},[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),o("polyline",{points:"17 6 23 6 23 12"})]),je(" +8% vs mes anterior ")],-1))]),o("div",f6,[k[8]||(k[8]=Bt('<div class="kpi-icon" data-v-b031467b><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-b031467b><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" data-v-b031467b></path><line x1="12" y1="9" x2="12" y2="13" data-v-b031467b></line><line x1="12" y1="17" x2="12.01" y2="17" data-v-b031467b></line></svg></div>',1)),o("div",p6,[o("span",h6,P(d.value.pendingComplaints),1),k[7]||(k[7]=o("span",{class:"kpi-label"},"Denuncias Pendientes",-1))]),k[9]||(k[9]=o("div",{class:"kpi-trend kpi-trend-down"},[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("polyline",{points:"23 18 13.5 8.5 8.5 13.5 1 6"}),o("polyline",{points:"17 18 23 18 23 12"})]),je(" -5% vs semana anterior ")],-1))]),o("div",m6,[k[11]||(k[11]=o("div",{class:"kpi-icon"},[o("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"})])],-1)),o("div",v6,[o("span",g6,P(d.value.sterilizations),1),k[10]||(k[10]=o("span",{class:"kpi-label"},"Esterilizaciones",-1))]),k[12]||(k[12]=o("div",{class:"kpi-trend kpi-trend-up"},[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),o("polyline",{points:"17 6 23 6 23 12"})]),je(" +15% este mes ")],-1))])])]),o("div",_6,[o("section",b6,[k[17]||(k[17]=o("div",{class:"card-govco-header"},[o("h3",{class:"h5-tipografia-govco"},"Acciones Rpidas")],-1)),o("div",y6,[o("div",w6,[Ke(T,{to:"/animales",class:"quick-action-item"},{default:gn(()=>[...k[13]||(k[13]=[o("div",{class:"quick-action-icon"},[o("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),o("line",{x1:"5",y1:"12",x2:"19",y2:"12"})])],-1),o("span",null,"Registrar Animal",-1)])]),_:1}),Ke(T,{to:"/denuncias",class:"quick-action-item"},{default:gn(()=>[...k[14]||(k[14]=[o("div",{class:"quick-action-icon"},[o("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),o("polyline",{points:"14 2 14 8 20 8"}),o("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),o("line",{x1:"16",y1:"17",x2:"8",y2:"17"})])],-1),o("span",null,"Ver Denuncias",-1)])]),_:1}),Ke(T,{to:"/veterinaria",class:"quick-action-item"},{default:gn(()=>[...k[15]||(k[15]=[o("div",{class:"quick-action-icon"},[o("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})])],-1),o("span",null,"Atencin Veterinaria",-1)])]),_:1}),Ke(T,{to:"/adopciones",class:"quick-action-item"},{default:gn(()=>[...k[16]||(k[16]=[o("div",{class:"quick-action-icon"},[o("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})])],-1),o("span",null,"Gestionar Adopciones",-1)])]),_:1})])])]),o("section",x6,[o("div",A6,[k[19]||(k[19]=o("h3",{class:"h5-tipografia-govco"},"Denuncias Recientes",-1)),Ke(T,{to:"/denuncias",class:"see-all-link"},{default:gn(()=>[...k[18]||(k[18]=[je("Ver todas",-1)])]),_:1})]),o("div",S6,[o("div",k6,[(D(!0),M(rt,null,ht(f.value,I=>(D(),M("div",{key:I.id,class:"complaint-item"},[o("div",{class:ot(["complaint-status",y(I.urgency)])},null,2),o("div",C6,[o("span",E6,P(I.caseNumber),1),o("span",L6,P(I.type),1)]),o("div",N6,P(I.date),1),o("span",{class:ot(["badge-govco",A(I.status)])},P(I.status),3)]))),128))])])]),k[20]||(k[20]=Bt('<section class="alerts-section card-govco" data-v-b031467b><div class="card-govco-header" data-v-b031467b><h3 class="h5-tipografia-govco" data-v-b031467b>Alertas del Sistema</h3></div><div class="card-govco-body" data-v-b031467b><div class="alerts-list" data-v-b031467b><div class="alert-govco alert-govco-warning" data-v-b031467b><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-b031467b><circle cx="12" cy="12" r="10" data-v-b031467b></circle><line x1="12" y1="8" x2="12" y2="12" data-v-b031467b></line><line x1="12" y1="16" x2="12.01" y2="16" data-v-b031467b></line></svg><div class="alert-content" data-v-b031467b><strong data-v-b031467b>5 vacunas prximas a vencer</strong><span data-v-b031467b>Revisar inventario de medicamentos</span></div></div><div class="alert-govco alert-govco-danger" data-v-b031467b><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-b031467b><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" data-v-b031467b></path><line x1="12" y1="9" x2="12" y2="13" data-v-b031467b></line><line x1="12" y1="17" x2="12.01" y2="17" data-v-b031467b></line></svg><div class="alert-content" data-v-b031467b><strong data-v-b031467b>3 denuncias urgentes sin asignar</strong><span data-v-b031467b>Requieren atencin inmediata</span></div></div><div class="alert-govco alert-govco-info" data-v-b031467b><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-b031467b><circle cx="12" cy="12" r="10" data-v-b031467b></circle><line x1="12" y1="16" x2="12" y2="12" data-v-b031467b></line><line x1="12" y1="8" x2="12.01" y2="8" data-v-b031467b></line></svg><div class="alert-content" data-v-b031467b><strong data-v-b031467b>Nuevo reporte disponible</strong><span data-v-b031467b>Estadsticas mensuales listas para revisin</span></div></div></div></div></section>',1))])])])}}},$6=It(P6,[["__scopeId","data-v-b031467b"]]),T6="modulepreload",I6=function(e){return"/"+e},nv={},Rf=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(d=>{if(d=I6(d),d in nv)return;nv[d]=!0;const p=d.endsWith(".css"),f=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":T6,p||(v.as="script"),v.crossOrigin="",v.href=d,c&&v.setAttribute("nonce",c),document.head.appendChild(v),p)return new Promise((w,m)=>{v.addEventListener("load",w),v.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&r(c.reason);return t().catch(r)})};function $n(e){"@babel/helpers - typeof";return $n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$n(e)}var Qa=Uint8Array,Xi=Uint16Array,ph=Int32Array,hh=new Qa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mh=new Qa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ov=new Qa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M2=function(e,t){for(var n=new Xi(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];for(var s=new ph(n[30]),i=1;i<30;++i)for(var r=n[i];r<n[i+1];++r)s[r]=r-n[i]<<5|i;return{b:n,r:s}},F2=M2(hh,2),D6=F2.b,Ep=F2.r;D6[28]=258,Ep[258]=28;var R6=M2(mh,0),iv=R6.r,Lp=new Xi(32768);for(var Gn=0;Gn<32768;++Gn){var Ar=(Gn&43690)>>1|(Gn&21845)<<1;Ar=(Ar&52428)>>2|(Ar&13107)<<2,Ar=(Ar&61680)>>4|(Ar&3855)<<4,Lp[Gn]=((Ar&65280)>>8|(Ar&255)<<8)>>1}var Jc=function(e,t,n){for(var i=e.length,s=0,r=new Xi(t);s<i;++s)e[s]&&++r[e[s]-1];var l=new Xi(t);for(s=1;s<t;++s)l[s]=l[s-1]+r[s-1]<<1;var c;if(n){c=new Xi(1<<t);var d=15-t;for(s=0;s<i;++s)if(e[s])for(var p=s<<4|e[s],f=t-e[s],v=l[e[s]-1]++<<f,w=v|(1<<f)-1;v<=w;++v)c[Lp[v]>>d]=p}else for(c=new Xi(i),s=0;s<i;++s)e[s]&&(c[s]=Lp[l[e[s]-1]++]>>15-e[s]);return c},Al=new Qa(288);for(var Gn=0;Gn<144;++Gn)Al[Gn]=8;for(var Gn=144;Gn<256;++Gn)Al[Gn]=9;for(var Gn=256;Gn<280;++Gn)Al[Gn]=7;for(var Gn=280;Gn<288;++Gn)Al[Gn]=8;var Nd=new Qa(32);for(var Gn=0;Gn<32;++Gn)Nd[Gn]=5;var O6=Jc(Al,9,0),M6=Jc(Nd,5,0),B2=function(e){return(e+7)/8|0},F6=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Qa(e.subarray(t,n))},Us=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8},Fc=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8,e[i+2]|=n>>16},Of=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var s=n.length,r=n.slice();if(!s)return{t:z2,l:0};if(s==1){var l=new Qa(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort(function(K,W){return K.f-W.f}),n.push({s:-1,f:25001});var c=n[0],d=n[1],p=0,f=1,v=2;for(n[0]={s:-1,f:c.f+d.f,l:c,r:d};f!=s-1;)c=n[n[p].f<n[v].f?p++:v++],d=n[p!=f&&n[p].f<n[v].f?p++:v++],n[f++]={s:-1,f:c.f+d.f,l:c,r:d};for(var w=r[0].s,i=1;i<s;++i)r[i].s>w&&(w=r[i].s);var m=new Xi(w+1),y=Np(n[f-1],m,0);if(y>t){var i=0,A=0,N=y-t,k=1<<N;for(r.sort(function(W,H){return m[H.s]-m[W.s]||W.f-H.f});i<s;++i){var T=r[i].s;if(m[T]>t)A+=k-(1<<y-m[T]),m[T]=t;else break}for(A>>=N;A>0;){var I=r[i].s;m[I]<t?A-=1<<t-m[I]++-1:++i}for(;i>=0&&A;--i){var j=r[i].s;m[j]==t&&(--m[j],++A)}y=t}return{t:new Qa(m),l:y}},Np=function(e,t,n){return e.s==-1?Math.max(Np(e.l,t,n+1),Np(e.r,t,n+1)):t[e.s]=n},av=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Xi(++t),i=0,s=e[0],r=1,l=function(d){n[i++]=d},c=1;c<=t;++c)if(e[c]==s&&c!=t)++r;else{if(!s&&r>2){for(;r>138;r-=138)l(32754);r>2&&(l(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(l(s),--r;r>6;r-=6)l(8304);r>2&&(l(r-3<<5|8208),r=0)}for(;r--;)l(s);r=1,s=e[c]}return{c:n.subarray(0,i),n:t}},Bc=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},j2=function(e,t,n){var i=n.length,s=B2(t+2);e[s]=i&255,e[s+1]=i>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var r=0;r<i;++r)e[s+r+4]=n[r];return(s+4+i)*8},sv=function(e,t,n,i,s,r,l,c,d,p,f){Us(t,f++,n),++s[256];for(var v=Of(s,15),w=v.t,m=v.l,y=Of(r,15),A=y.t,N=y.l,k=av(w),T=k.c,I=k.n,j=av(A),K=j.c,W=j.n,H=new Xi(19),F=0;F<T.length;++F)++H[T[F]&31];for(var F=0;F<K.length;++F)++H[K[F]&31];for(var R=Of(H,7),z=R.t,x=R.l,$=19;$>4&&!z[ov[$-1]];--$);var Z=p+5<<3,b=Bc(s,Al)+Bc(r,Nd)+l,S=Bc(s,w)+Bc(r,A)+l+14+3*$+Bc(H,z)+2*H[16]+3*H[17]+7*H[18];if(d>=0&&Z<=b&&Z<=S)return j2(t,f,e.subarray(d,d+p));var Q,U,le,xe;if(Us(t,f,1+(S<b)),f+=2,S<b){Q=Jc(w,m,0),U=w,le=Jc(A,N,0),xe=A;var ke=Jc(z,x,0);Us(t,f,I-257),Us(t,f+5,W-1),Us(t,f+10,$-4),f+=14;for(var F=0;F<$;++F)Us(t,f+3*F,z[ov[F]]);f+=3*$;for(var Le=[T,K],X=0;X<2;++X)for(var he=Le[X],F=0;F<he.length;++F){var J=he[F]&31;Us(t,f,ke[J]),f+=z[J],J>15&&(Us(t,f,he[F]>>5&127),f+=he[F]>>12)}}else Q=O6,U=Al,le=M6,xe=Nd;for(var F=0;F<c;++F){var B=i[F];if(B>255){var J=B>>18&31;Fc(t,f,Q[J+257]),f+=U[J+257],J>7&&(Us(t,f,B>>23&31),f+=hh[J]);var V=B&31;Fc(t,f,le[V]),f+=xe[V],V>3&&(Fc(t,f,B>>5&8191),f+=mh[V])}else Fc(t,f,Q[B]),f+=U[B]}return Fc(t,f,Q[256]),f+U[256]},B6=new ph([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),z2=new Qa(0),j6=function(e,t,n,i,s,r){var l=r.z||e.length,c=new Qa(i+l+5*(1+Math.ceil(l/7e3))+s),d=c.subarray(i,c.length-s),p=r.l,f=(r.r||0)&7;if(t){f&&(d[0]=r.r>>3);for(var v=B6[t-1],w=v>>13,m=v&8191,y=(1<<n)-1,A=r.p||new Xi(32768),N=r.h||new Xi(y+1),k=Math.ceil(n/3),T=2*k,I=function(Ae){return(e[Ae]^e[Ae+1]<<k^e[Ae+2]<<T)&y},j=new ph(25e3),K=new Xi(288),W=new Xi(32),H=0,F=0,R=r.i||0,z=0,x=r.w||0,$=0;R+2<l;++R){var Z=I(R),b=R&32767,S=N[Z];if(A[b]=S,N[Z]=b,x<=R){var Q=l-R;if((H>7e3||z>24576)&&(Q>423||!p)){f=sv(e,d,0,j,K,W,F,z,$,R-$,f),z=H=F=0,$=R;for(var U=0;U<286;++U)K[U]=0;for(var U=0;U<30;++U)W[U]=0}var le=2,xe=0,ke=m,Le=b-S&32767;if(Q>2&&Z==I(R-Le))for(var X=Math.min(w,Q)-1,he=Math.min(32767,R),J=Math.min(258,Q);Le<=he&&--ke&&b!=S;){if(e[R+le]==e[R+le-Le]){for(var B=0;B<J&&e[R+B]==e[R+B-Le];++B);if(B>le){if(le=B,xe=Le,B>X)break;for(var V=Math.min(Le,B-2),Y=0,U=0;U<V;++U){var ee=R-Le+U&32767,fe=A[ee],ae=ee-fe&32767;ae>Y&&(Y=ae,S=ee)}}}b=S,S=A[b],Le+=b-S&32767}if(xe){j[z++]=268435456|Ep[le]<<18|iv[xe];var te=Ep[le]&31,se=iv[xe]&31;F+=hh[te]+mh[se],++K[257+te],++W[se],x=R+le,++H}else j[z++]=e[R],++K[e[R]]}}for(R=Math.max(R,x);R<l;++R)j[z++]=e[R],++K[e[R]];f=sv(e,d,p,j,K,W,F,z,$,R-$,f),p||(r.r=f&7|d[f/8|0]<<3,f-=7,r.h=N,r.p=A,r.i=R,r.w=x)}else{for(var R=r.w||0;R<l+p;R+=65535){var de=R+65535;de>=l&&(d[f/8|0]=p,de=l),f=j2(d,f+1,e.subarray(R,de))}r.i=l}return F6(c,0,i+B2(f)+s)},U2=function(){var e=1,t=0;return{p:function(n){for(var i=e,s=t,r=n.length|0,l=0;l!=r;){for(var c=Math.min(l+2655,r);l<c;++l)s+=i+=n[l];i=(i&65535)+15*(i>>16),s=(s&65535)+15*(s>>16)}e=i,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},z6=function(e,t,n,i,s){if(!s&&(s={l:1},t.dictionary)){var r=t.dictionary.subarray(-32768),l=new Qa(r.length+e.length);l.set(r),l.set(e,r.length),e=l,s.w=r.length}return j6(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,i,s)},V2=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},U6=function(e,t){var n=t.level,i=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=U2();s.p(t.dictionary),V2(e,2,s.d())}};function Pp(e,t){t||(t={});var n=U2();n.p(e);var i=z6(e,t,t.dictionary?6:2,4);return U6(i,t),V2(i,i.length-4,n.d()),i}var V6=typeof TextDecoder<"u"&&new TextDecoder,q6=0;try{V6.decode(z2,{stream:!0}),q6=1}catch{}function H6(e){if(Array.isArray(e))return e}function G6(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,r,l,c=[],d=!0,p=!1;try{if(r=(n=n.call(e)).next,t!==0)for(;!(d=(i=r.call(n)).done)&&(c.push(i.value),c.length!==t);d=!0);}catch(f){p=!0,s=f}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(p)throw s}}return c}}function rv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function W6(e,t){if(e){if(typeof e=="string")return rv(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rv(e,t):void 0}}function Z6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lv(e,t){return H6(e)||G6(e,t)||W6(e,t)||Z6()}function cv(e,t="utf8"){return new TextDecoder(t).decode(e)}const K6=new TextEncoder;function J6(e){return K6.encode(e)}const Y6=1024*8,X6=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Mf={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class vh{constructor(t=Y6,n={}){Pn(this,"buffer");Pn(this,"byteLength");Pn(this,"byteOffset");Pn(this,"length");Pn(this,"offset");Pn(this,"lastWrittenByte");Pn(this,"littleEndian");Pn(this,"_data");Pn(this,"_mark");Pn(this,"_marks");let i=!1;typeof t=="number"?t=new ArrayBuffer(t):(i=!0,this.lastWrittenByte=t.byteLength);const s=n.offset?n.offset>>>0:0,r=t.byteLength-s;let l=s;(ArrayBuffer.isView(t)||t instanceof vh)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+s),t=t.buffer),i?this.lastWrittenByte=r:this.lastWrittenByte=0,this.buffer=t,this.length=r,this.byteLength=r,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,r),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const i=(this.offset+t)*2,s=new Uint8Array(i);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const i=Mf[n].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,r=this.buffer.slice(s,s+i);if(this.littleEndian===X6&&n!=="uint8"&&n!=="int8"){const c=new Uint8Array(this.buffer.slice(s,s+i));c.reverse();const d=new Mf[n](c.buffer);return this.offset+=i,d.reverse(),d}const l=new Mf[n](r);return this.offset+=i,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let i=0;i<t;i++)n+=this.readChar();return n}readUtf8(t=1){return cv(this.readBytes(t))}decodeText(t=1,n="utf8"){return cv(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(J6(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function bc(e){let t=e.length;for(;--t>=0;)e[t]=0}const Q6=3,e8=258,q2=29,t8=256,n8=t8+1+q2,H2=30,o8=512,i8=new Array((n8+2)*2);bc(i8);const a8=new Array(H2*2);bc(a8);const s8=new Array(o8);bc(s8);const r8=new Array(e8-Q6+1);bc(r8);const l8=new Array(q2);bc(l8);const c8=new Array(H2);bc(c8);const u8=(e,t,n,i)=>{let s=e&65535|0,r=e>>>16&65535|0,l=0;for(;n!==0;){l=n>2e3?2e3:n,n-=l;do s=s+t[i++]|0,r=r+s|0;while(--l);s%=65521,r%=65521}return s|r<<16|0};var $p=u8;const d8=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},f8=new Uint32Array(d8()),p8=(e,t,n,i)=>{const s=f8,r=i+n;e^=-1;for(let l=i;l<r;l++)e=e>>>8^s[(e^t[l])&255];return e^-1};var gs=p8,Tp={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},G2={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const h8=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var m8=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)h8(n,i)&&(e[i]=n[i])}}return e},v8=e=>{let t=0;for(let i=0,s=e.length;i<s;i++)t+=e[i].length;const n=new Uint8Array(t);for(let i=0,s=0,r=e.length;i<r;i++){let l=e[i];n.set(l,s),s+=l.length}return n},W2={assign:m8,flattenChunks:v8};let Z2=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Z2=!1}const su=new Uint8Array(256);for(let e=0;e<256;e++)su[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;su[254]=su[254]=1;var g8=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,i,s,r,l=e.length,c=0;for(s=0;s<l;s++)n=e.charCodeAt(s),(n&64512)===55296&&s+1<l&&(i=e.charCodeAt(s+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),s++)),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(c),r=0,s=0;r<c;s++)n=e.charCodeAt(s),(n&64512)===55296&&s+1<l&&(i=e.charCodeAt(s+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),s++)),n<128?t[r++]=n:n<2048?(t[r++]=192|n>>>6,t[r++]=128|n&63):n<65536?(t[r++]=224|n>>>12,t[r++]=128|n>>>6&63,t[r++]=128|n&63):(t[r++]=240|n>>>18,t[r++]=128|n>>>12&63,t[r++]=128|n>>>6&63,t[r++]=128|n&63);return t};const _8=(e,t)=>{if(t<65534&&e.subarray&&Z2)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n};var b8=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let i,s;const r=new Array(n*2);for(s=0,i=0;i<n;){let l=e[i++];if(l<128){r[s++]=l;continue}let c=su[l];if(c>4){r[s++]=65533,i+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&i<n;)l=l<<6|e[i++]&63,c--;if(c>1){r[s++]=65533;continue}l<65536?r[s++]=l:(l-=65536,r[s++]=55296|l>>10&1023,r[s++]=56320|l&1023)}return _8(r,s)},y8=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+su[e[n]]>t?n:t},Ip={string2buf:g8,buf2string:b8,utf8border:y8};function w8(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var x8=w8;const qu=16209,A8=16191;var S8=function(t,n){let i,s,r,l,c,d,p,f,v,w,m,y,A,N,k,T,I,j,K,W,H,F,R,z;const x=t.state;i=t.next_in,R=t.input,s=i+(t.avail_in-5),r=t.next_out,z=t.output,l=r-(n-t.avail_out),c=r+(t.avail_out-257),d=x.dmax,p=x.wsize,f=x.whave,v=x.wnext,w=x.window,m=x.hold,y=x.bits,A=x.lencode,N=x.distcode,k=(1<<x.lenbits)-1,T=(1<<x.distbits)-1;e:do{y<15&&(m+=R[i++]<<y,y+=8,m+=R[i++]<<y,y+=8),I=A[m&k];t:for(;;){if(j=I>>>24,m>>>=j,y-=j,j=I>>>16&255,j===0)z[r++]=I&65535;else if(j&16){K=I&65535,j&=15,j&&(y<j&&(m+=R[i++]<<y,y+=8),K+=m&(1<<j)-1,m>>>=j,y-=j),y<15&&(m+=R[i++]<<y,y+=8,m+=R[i++]<<y,y+=8),I=N[m&T];n:for(;;){if(j=I>>>24,m>>>=j,y-=j,j=I>>>16&255,j&16){if(W=I&65535,j&=15,y<j&&(m+=R[i++]<<y,y+=8,y<j&&(m+=R[i++]<<y,y+=8)),W+=m&(1<<j)-1,W>d){t.msg="invalid distance too far back",x.mode=qu;break e}if(m>>>=j,y-=j,j=r-l,W>j){if(j=W-j,j>f&&x.sane){t.msg="invalid distance too far back",x.mode=qu;break e}if(H=0,F=w,v===0){if(H+=p-j,j<K){K-=j;do z[r++]=w[H++];while(--j);H=r-W,F=z}}else if(v<j){if(H+=p+v-j,j-=v,j<K){K-=j;do z[r++]=w[H++];while(--j);if(H=0,v<K){j=v,K-=j;do z[r++]=w[H++];while(--j);H=r-W,F=z}}}else if(H+=v-j,j<K){K-=j;do z[r++]=w[H++];while(--j);H=r-W,F=z}for(;K>2;)z[r++]=F[H++],z[r++]=F[H++],z[r++]=F[H++],K-=3;K&&(z[r++]=F[H++],K>1&&(z[r++]=F[H++]))}else{H=r-W;do z[r++]=z[H++],z[r++]=z[H++],z[r++]=z[H++],K-=3;while(K>2);K&&(z[r++]=z[H++],K>1&&(z[r++]=z[H++]))}}else if(j&64){t.msg="invalid distance code",x.mode=qu;break e}else{I=N[(I&65535)+(m&(1<<j)-1)];continue n}break}}else if(j&64)if(j&32){x.mode=A8;break e}else{t.msg="invalid literal/length code",x.mode=qu;break e}else{I=A[(I&65535)+(m&(1<<j)-1)];continue t}break}}while(i<s&&r<c);K=y>>3,i-=K,y-=K<<3,m&=(1<<y)-1,t.next_in=i,t.next_out=r,t.avail_in=i<s?5+(s-i):5-(i-s),t.avail_out=r<c?257+(c-r):257-(r-c),x.hold=m,x.bits=y};const Gl=15,uv=852,dv=592,fv=0,Ff=1,pv=2,k8=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),C8=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),E8=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),L8=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),N8=(e,t,n,i,s,r,l,c)=>{const d=c.bits;let p=0,f=0,v=0,w=0,m=0,y=0,A=0,N=0,k=0,T=0,I,j,K,W,H,F=null,R;const z=new Uint16Array(Gl+1),x=new Uint16Array(Gl+1);let $=null,Z,b,S;for(p=0;p<=Gl;p++)z[p]=0;for(f=0;f<i;f++)z[t[n+f]]++;for(m=d,w=Gl;w>=1&&z[w]===0;w--);if(m>w&&(m=w),w===0)return s[r++]=1<<24|64<<16|0,s[r++]=1<<24|64<<16|0,c.bits=1,0;for(v=1;v<w&&z[v]===0;v++);for(m<v&&(m=v),N=1,p=1;p<=Gl;p++)if(N<<=1,N-=z[p],N<0)return-1;if(N>0&&(e===fv||w!==1))return-1;for(x[1]=0,p=1;p<Gl;p++)x[p+1]=x[p]+z[p];for(f=0;f<i;f++)t[n+f]!==0&&(l[x[t[n+f]]++]=f);if(e===fv?(F=$=l,R=20):e===Ff?(F=k8,$=C8,R=257):(F=E8,$=L8,R=0),T=0,f=0,p=v,H=r,y=m,A=0,K=-1,k=1<<m,W=k-1,e===Ff&&k>uv||e===pv&&k>dv)return 1;for(;;){Z=p-A,l[f]+1<R?(b=0,S=l[f]):l[f]>=R?(b=$[l[f]-R],S=F[l[f]-R]):(b=96,S=0),I=1<<p-A,j=1<<y,v=j;do j-=I,s[H+(T>>A)+j]=Z<<24|b<<16|S|0;while(j!==0);for(I=1<<p-1;T&I;)I>>=1;if(I!==0?(T&=I-1,T+=I):T=0,f++,--z[p]===0){if(p===w)break;p=t[n+l[f]]}if(p>m&&(T&W)!==K){for(A===0&&(A=m),H+=v,y=p-A,N=1<<y;y+A<w&&(N-=z[y+A],!(N<=0));)y++,N<<=1;if(k+=1<<y,e===Ff&&k>uv||e===pv&&k>dv)return 1;K=T&W,s[K]=m<<24|y<<16|H-r|0}}return T!==0&&(s[H+T]=p-A<<24|64<<16|0),c.bits=m,0};var Yc=N8;const P8=0,K2=1,J2=2,{Z_FINISH:hv,Z_BLOCK:$8,Z_TREES:Hu,Z_OK:Sl,Z_STREAM_END:T8,Z_NEED_DICT:I8,Z_STREAM_ERROR:ba,Z_DATA_ERROR:Y2,Z_MEM_ERROR:X2,Z_BUF_ERROR:D8,Z_DEFLATED:mv}=G2,Qd=16180,vv=16181,gv=16182,_v=16183,bv=16184,yv=16185,wv=16186,xv=16187,Av=16188,Sv=16189,Pd=16190,Vs=16191,Bf=16192,kv=16193,jf=16194,Cv=16195,Ev=16196,Lv=16197,Nv=16198,Gu=16199,Wu=16200,Pv=16201,$v=16202,Tv=16203,Iv=16204,Dv=16205,zf=16206,Rv=16207,Ov=16208,Zn=16209,Q2=16210,e0=16211,R8=852,O8=592,M8=15,F8=M8,Mv=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function B8(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const El=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Qd||t.mode>e0?1:0},t0=e=>{if(El(e))return ba;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Qd,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(R8),t.distcode=t.distdyn=new Int32Array(O8),t.sane=1,t.back=-1,Sl},n0=e=>{if(El(e))return ba;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,t0(e)},o0=(e,t)=>{let n;if(El(e))return ba;const i=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ba:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,n0(e))},i0=(e,t)=>{if(!e)return ba;const n=new B8;e.state=n,n.strm=e,n.window=null,n.mode=Qd;const i=o0(e,t);return i!==Sl&&(e.state=null),i},j8=e=>i0(e,F8);let Fv=!0,Uf,Vf;const z8=e=>{if(Fv){Uf=new Int32Array(512),Vf=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Yc(K2,e.lens,0,288,Uf,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Yc(J2,e.lens,0,32,Vf,0,e.work,{bits:5}),Fv=!1}e.lencode=Uf,e.lenbits=9,e.distcode=Vf,e.distbits=5},a0=(e,t,n,i)=>{let s;const r=e.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),i>=r.wsize?(r.window.set(t.subarray(n-r.wsize,n),0),r.wnext=0,r.whave=r.wsize):(s=r.wsize-r.wnext,s>i&&(s=i),r.window.set(t.subarray(n-i,n-i+s),r.wnext),i-=s,i?(r.window.set(t.subarray(n-i,n),0),r.wnext=i,r.whave=r.wsize):(r.wnext+=s,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=s))),0},U8=(e,t)=>{let n,i,s,r,l,c,d,p,f,v,w,m,y,A,N=0,k,T,I,j,K,W,H,F;const R=new Uint8Array(4);let z,x;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(El(e)||!e.output||!e.input&&e.avail_in!==0)return ba;n=e.state,n.mode===Vs&&(n.mode=Bf),l=e.next_out,s=e.output,d=e.avail_out,r=e.next_in,i=e.input,c=e.avail_in,p=n.hold,f=n.bits,v=c,w=d,F=Sl;e:for(;;)switch(n.mode){case Qd:if(n.wrap===0){n.mode=Bf;break}for(;f<16;){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}if(n.wrap&2&&p===35615){n.wbits===0&&(n.wbits=15),n.check=0,R[0]=p&255,R[1]=p>>>8&255,n.check=gs(n.check,R,2,0),p=0,f=0,n.mode=vv;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((p&255)<<8)+(p>>8))%31){e.msg="incorrect header check",n.mode=Zn;break}if((p&15)!==mv){e.msg="unknown compression method",n.mode=Zn;break}if(p>>>=4,f-=4,H=(p&15)+8,n.wbits===0&&(n.wbits=H),H>15||H>n.wbits){e.msg="invalid window size",n.mode=Zn;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=p&512?Sv:Vs,p=0,f=0;break;case vv:for(;f<16;){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}if(n.flags=p,(n.flags&255)!==mv){e.msg="unknown compression method",n.mode=Zn;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Zn;break}n.head&&(n.head.text=p>>8&1),n.flags&512&&n.wrap&4&&(R[0]=p&255,R[1]=p>>>8&255,n.check=gs(n.check,R,2,0)),p=0,f=0,n.mode=gv;case gv:for(;f<32;){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}n.head&&(n.head.time=p),n.flags&512&&n.wrap&4&&(R[0]=p&255,R[1]=p>>>8&255,R[2]=p>>>16&255,R[3]=p>>>24&255,n.check=gs(n.check,R,4,0)),p=0,f=0,n.mode=_v;case _v:for(;f<16;){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}n.head&&(n.head.xflags=p&255,n.head.os=p>>8),n.flags&512&&n.wrap&4&&(R[0]=p&255,R[1]=p>>>8&255,n.check=gs(n.check,R,2,0)),p=0,f=0,n.mode=bv;case bv:if(n.flags&1024){for(;f<16;){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}n.length=p,n.head&&(n.head.extra_len=p),n.flags&512&&n.wrap&4&&(R[0]=p&255,R[1]=p>>>8&255,n.check=gs(n.check,R,2,0)),p=0,f=0}else n.head&&(n.head.extra=null);n.mode=yv;case yv:if(n.flags&1024&&(m=n.length,m>c&&(m=c),m&&(n.head&&(H=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(r,r+m),H)),n.flags&512&&n.wrap&4&&(n.check=gs(n.check,i,m,r)),c-=m,r+=m,n.length-=m),n.length))break e;n.length=0,n.mode=wv;case wv:if(n.flags&2048){if(c===0)break e;m=0;do H=i[r+m++],n.head&&H&&n.length<65536&&(n.head.name+=String.fromCharCode(H));while(H&&m<c);if(n.flags&512&&n.wrap&4&&(n.check=gs(n.check,i,m,r)),c-=m,r+=m,H)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=xv;case xv:if(n.flags&4096){if(c===0)break e;m=0;do H=i[r+m++],n.head&&H&&n.length<65536&&(n.head.comment+=String.fromCharCode(H));while(H&&m<c);if(n.flags&512&&n.wrap&4&&(n.check=gs(n.check,i,m,r)),c-=m,r+=m,H)break e}else n.head&&(n.head.comment=null);n.mode=Av;case Av:if(n.flags&512){for(;f<16;){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}if(n.wrap&4&&p!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Zn;break}p=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Vs;break;case Sv:for(;f<32;){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}e.adler=n.check=Mv(p),p=0,f=0,n.mode=Pd;case Pd:if(n.havedict===0)return e.next_out=l,e.avail_out=d,e.next_in=r,e.avail_in=c,n.hold=p,n.bits=f,I8;e.adler=n.check=1,n.mode=Vs;case Vs:if(t===$8||t===Hu)break e;case Bf:if(n.last){p>>>=f&7,f-=f&7,n.mode=zf;break}for(;f<3;){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}switch(n.last=p&1,p>>>=1,f-=1,p&3){case 0:n.mode=kv;break;case 1:if(z8(n),n.mode=Gu,t===Hu){p>>>=2,f-=2;break e}break;case 2:n.mode=Ev;break;case 3:e.msg="invalid block type",n.mode=Zn}p>>>=2,f-=2;break;case kv:for(p>>>=f&7,f-=f&7;f<32;){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}if((p&65535)!==(p>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Zn;break}if(n.length=p&65535,p=0,f=0,n.mode=jf,t===Hu)break e;case jf:n.mode=Cv;case Cv:if(m=n.length,m){if(m>c&&(m=c),m>d&&(m=d),m===0)break e;s.set(i.subarray(r,r+m),l),c-=m,r+=m,d-=m,l+=m,n.length-=m;break}n.mode=Vs;break;case Ev:for(;f<14;){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}if(n.nlen=(p&31)+257,p>>>=5,f-=5,n.ndist=(p&31)+1,p>>>=5,f-=5,n.ncode=(p&15)+4,p>>>=4,f-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Zn;break}n.have=0,n.mode=Lv;case Lv:for(;n.have<n.ncode;){for(;f<3;){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}n.lens[$[n.have++]]=p&7,p>>>=3,f-=3}for(;n.have<19;)n.lens[$[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,z={bits:n.lenbits},F=Yc(P8,n.lens,0,19,n.lencode,0,n.work,z),n.lenbits=z.bits,F){e.msg="invalid code lengths set",n.mode=Zn;break}n.have=0,n.mode=Nv;case Nv:for(;n.have<n.nlen+n.ndist;){for(;N=n.lencode[p&(1<<n.lenbits)-1],k=N>>>24,T=N>>>16&255,I=N&65535,!(k<=f);){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}if(I<16)p>>>=k,f-=k,n.lens[n.have++]=I;else{if(I===16){for(x=k+2;f<x;){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}if(p>>>=k,f-=k,n.have===0){e.msg="invalid bit length repeat",n.mode=Zn;break}H=n.lens[n.have-1],m=3+(p&3),p>>>=2,f-=2}else if(I===17){for(x=k+3;f<x;){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}p>>>=k,f-=k,H=0,m=3+(p&7),p>>>=3,f-=3}else{for(x=k+7;f<x;){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}p>>>=k,f-=k,H=0,m=11+(p&127),p>>>=7,f-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Zn;break}for(;m--;)n.lens[n.have++]=H}}if(n.mode===Zn)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Zn;break}if(n.lenbits=9,z={bits:n.lenbits},F=Yc(K2,n.lens,0,n.nlen,n.lencode,0,n.work,z),n.lenbits=z.bits,F){e.msg="invalid literal/lengths set",n.mode=Zn;break}if(n.distbits=6,n.distcode=n.distdyn,z={bits:n.distbits},F=Yc(J2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,z),n.distbits=z.bits,F){e.msg="invalid distances set",n.mode=Zn;break}if(n.mode=Gu,t===Hu)break e;case Gu:n.mode=Wu;case Wu:if(c>=6&&d>=258){e.next_out=l,e.avail_out=d,e.next_in=r,e.avail_in=c,n.hold=p,n.bits=f,S8(e,w),l=e.next_out,s=e.output,d=e.avail_out,r=e.next_in,i=e.input,c=e.avail_in,p=n.hold,f=n.bits,n.mode===Vs&&(n.back=-1);break}for(n.back=0;N=n.lencode[p&(1<<n.lenbits)-1],k=N>>>24,T=N>>>16&255,I=N&65535,!(k<=f);){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}if(T&&!(T&240)){for(j=k,K=T,W=I;N=n.lencode[W+((p&(1<<j+K)-1)>>j)],k=N>>>24,T=N>>>16&255,I=N&65535,!(j+k<=f);){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}p>>>=j,f-=j,n.back+=j}if(p>>>=k,f-=k,n.back+=k,n.length=I,T===0){n.mode=Dv;break}if(T&32){n.back=-1,n.mode=Vs;break}if(T&64){e.msg="invalid literal/length code",n.mode=Zn;break}n.extra=T&15,n.mode=Pv;case Pv:if(n.extra){for(x=n.extra;f<x;){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=$v;case $v:for(;N=n.distcode[p&(1<<n.distbits)-1],k=N>>>24,T=N>>>16&255,I=N&65535,!(k<=f);){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}if(!(T&240)){for(j=k,K=T,W=I;N=n.distcode[W+((p&(1<<j+K)-1)>>j)],k=N>>>24,T=N>>>16&255,I=N&65535,!(j+k<=f);){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}p>>>=j,f-=j,n.back+=j}if(p>>>=k,f-=k,n.back+=k,T&64){e.msg="invalid distance code",n.mode=Zn;break}n.offset=I,n.extra=T&15,n.mode=Tv;case Tv:if(n.extra){for(x=n.extra;f<x;){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Zn;break}n.mode=Iv;case Iv:if(d===0)break e;if(m=w-d,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Zn;break}m>n.wnext?(m-=n.wnext,y=n.wsize-m):y=n.wnext-m,m>n.length&&(m=n.length),A=n.window}else A=s,y=l-n.offset,m=n.length;m>d&&(m=d),d-=m,n.length-=m;do s[l++]=A[y++];while(--m);n.length===0&&(n.mode=Wu);break;case Dv:if(d===0)break e;s[l++]=n.length,d--,n.mode=Wu;break;case zf:if(n.wrap){for(;f<32;){if(c===0)break e;c--,p|=i[r++]<<f,f+=8}if(w-=d,e.total_out+=w,n.total+=w,n.wrap&4&&w&&(e.adler=n.check=n.flags?gs(n.check,s,w,l-w):$p(n.check,s,w,l-w)),w=d,n.wrap&4&&(n.flags?p:Mv(p))!==n.check){e.msg="incorrect data check",n.mode=Zn;break}p=0,f=0}n.mode=Rv;case Rv:if(n.wrap&&n.flags){for(;f<32;){if(c===0)break e;c--,p+=i[r++]<<f,f+=8}if(n.wrap&4&&p!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Zn;break}p=0,f=0}n.mode=Ov;case Ov:F=T8;break e;case Zn:F=Y2;break e;case Q2:return X2;case e0:default:return ba}return e.next_out=l,e.avail_out=d,e.next_in=r,e.avail_in=c,n.hold=p,n.bits=f,(n.wsize||w!==e.avail_out&&n.mode<Zn&&(n.mode<zf||t!==hv))&&a0(e,e.output,e.next_out,w-e.avail_out),v-=e.avail_in,w-=e.avail_out,e.total_in+=v,e.total_out+=w,n.total+=w,n.wrap&4&&w&&(e.adler=n.check=n.flags?gs(n.check,s,w,e.next_out-w):$p(n.check,s,w,e.next_out-w)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Vs?128:0)+(n.mode===Gu||n.mode===jf?256:0),(v===0&&w===0||t===hv)&&F===Sl&&(F=D8),F},V8=e=>{if(El(e))return ba;let t=e.state;return t.window&&(t.window=null),e.state=null,Sl},q8=(e,t)=>{if(El(e))return ba;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,Sl):ba},H8=(e,t)=>{const n=t.length;let i,s,r;return El(e)||(i=e.state,i.wrap!==0&&i.mode!==Pd)?ba:i.mode===Pd&&(s=1,s=$p(s,t,n,0),s!==i.check)?Y2:(r=a0(e,t,n,n),r?(i.mode=Q2,X2):(i.havedict=1,Sl))};var G8=n0,W8=o0,Z8=t0,K8=j8,J8=i0,Y8=U8,X8=V8,Q8=q8,eA=H8,tA="pako inflate (from Nodeca project)",Gs={inflateReset:G8,inflateReset2:W8,inflateResetKeep:Z8,inflateInit:K8,inflateInit2:J8,inflate:Y8,inflateEnd:X8,inflateGetHeader:Q8,inflateSetDictionary:eA,inflateInfo:tA};function nA(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var oA=nA;const s0=Object.prototype.toString,{Z_NO_FLUSH:iA,Z_FINISH:aA,Z_OK:ru,Z_STREAM_END:qf,Z_NEED_DICT:Hf,Z_STREAM_ERROR:sA,Z_DATA_ERROR:Bv,Z_MEM_ERROR:rA}=G2;function _u(e){this.options=W2.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x8,this.strm.avail_out=0;let n=Gs.inflateInit2(this.strm,t.windowBits);if(n!==ru)throw new Error(Tp[n]);if(this.header=new oA,Gs.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Ip.string2buf(t.dictionary):s0.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Gs.inflateSetDictionary(this.strm,t.dictionary),n!==ru)))throw new Error(Tp[n])}_u.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let r,l,c;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?aA:iA,s0.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),r=Gs.inflate(n,l),r===Hf&&s&&(r=Gs.inflateSetDictionary(n,s),r===ru?r=Gs.inflate(n,l):r===Bv&&(r=Hf));n.avail_in>0&&r===qf&&n.state.wrap>0&&e[n.next_in]!==0;)Gs.inflateReset(n),r=Gs.inflate(n,l);switch(r){case sA:case Bv:case Hf:case rA:return this.onEnd(r),this.ended=!0,!1}if(c=n.avail_out,n.next_out&&(n.avail_out===0||r===qf))if(this.options.to==="string"){let d=Ip.utf8border(n.output,n.next_out),p=n.next_out-d,f=Ip.buf2string(n.output,d);n.next_out=p,n.avail_out=i-p,p&&n.output.set(n.output.subarray(d,d+p),0),this.onData(f)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(r===ru&&c===0)){if(r===qf)return r=Gs.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};_u.prototype.onData=function(e){this.chunks.push(e)};_u.prototype.onEnd=function(e){e===ru&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=W2.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function lA(e,t){const n=new _u(t);if(n.push(e),n.err)throw n.msg||Tp[n.err];return n.result}var cA=_u,uA=lA,dA={Inflate:cA,inflate:uA};const{Inflate:fA,inflate:pA}=dA;var jv=fA,hA=pA;const r0=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;r0[e]=t}const zv=4294967295;function mA(e,t,n){let i=e;for(let s=0;s<n;s++)i=r0[(i^t[s])&255]^i>>>8;return i}function vA(e,t){return(mA(zv,e,t)^zv)>>>0}function Uv(e,t,n){const i=e.readUint32(),s=vA(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==i)throw new Error(`CRC mismatch for chunk ${n}. Expected ${i}, found ${s}`)}function l0(e,t,n){for(let i=0;i<n;i++)t[i]=e[i]}function c0(e,t,n,i){let s=0;for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-i]&255}function u0(e,t,n,i){let s=0;if(n.length===0)for(;s<i;s++)t[s]=e[s];else for(;s<i;s++)t[s]=e[s]+n[s]&255}function d0(e,t,n,i,s){let r=0;if(n.length===0){for(;r<s;r++)t[r]=e[r];for(;r<i;r++)t[r]=e[r]+(t[r-s]>>1)&255}else{for(;r<s;r++)t[r]=e[r]+(n[r]>>1)&255;for(;r<i;r++)t[r]=e[r]+(t[r-s]+n[r]>>1)&255}}function f0(e,t,n,i,s){let r=0;if(n.length===0){for(;r<s;r++)t[r]=e[r];for(;r<i;r++)t[r]=e[r]+t[r-s]&255}else{for(;r<s;r++)t[r]=e[r]+n[r]&255;for(;r<i;r++)t[r]=e[r]+gA(t[r-s],n[r],n[r-s])&255}}function gA(e,t,n){const i=e+t-n,s=Math.abs(i-e),r=Math.abs(i-t),l=Math.abs(i-n);return s<=r&&s<=l?e:r<=l?t:n}function _A(e,t,n,i,s,r){switch(e){case 0:l0(t,n,s);break;case 1:c0(t,n,s,r);break;case 2:u0(t,n,i,s);break;case 3:d0(t,n,i,s,r);break;case 4:f0(t,n,i,s,r);break;default:throw new Error(`Unsupported filter: ${e}`)}}const bA=new Uint16Array([255]),yA=new Uint8Array(bA.buffer),wA=yA[0]===255;function xA(e){const{data:t,width:n,height:i,channels:s,depth:r}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(r/8)*s,d=new Uint8Array(i*n*c);let p=0;for(let f=0;f<7;f++){const v=l[f],w=Math.ceil((n-v.x)/v.xStep),m=Math.ceil((i-v.y)/v.yStep);if(w<=0||m<=0)continue;const y=w*c,A=new Uint8Array(y);for(let N=0;N<m;N++){const k=t[p++],T=t.subarray(p,p+y);p+=y;const I=new Uint8Array(y);_A(k,T,I,A,y,c),A.set(I);for(let j=0;j<w;j++){const K=v.x+j*v.xStep,W=v.y+N*v.yStep;if(!(K>=n||W>=i))for(let H=0;H<c;H++)d[(W*n+K)*c+H]=I[j*c+H]}}}if(r===16){const f=new Uint16Array(d.buffer);if(wA)for(let v=0;v<f.length;v++)f[v]=AA(f[v]);return f}else return d}function AA(e){return(e&255)<<8|e>>8&255}const SA=new Uint16Array([255]),kA=new Uint8Array(SA.buffer),CA=kA[0]===255,EA=new Uint8Array(0);function Vv(e){const{data:t,width:n,height:i,channels:s,depth:r}=e,l=Math.ceil(r/8)*s,c=Math.ceil(r/8*s*n),d=new Uint8Array(i*c);let p=EA,f=0,v,w;for(let m=0;m<i;m++){switch(v=t.subarray(f+1,f+1+c),w=d.subarray(m*c,(m+1)*c),t[f]){case 0:l0(v,w,c);break;case 1:c0(v,w,c,l);break;case 2:u0(v,w,p,c);break;case 3:d0(v,w,p,c,l);break;case 4:f0(v,w,p,c,l);break;default:throw new Error(`Unsupported filter: ${t[f]}`)}p=w,f+=c+1}if(r===16){const m=new Uint16Array(d.buffer);if(CA)for(let y=0;y<m.length;y++)m[y]=LA(m[y]);return m}else return d}function LA(e){return(e&255)<<8|e>>8&255}const ud=Uint8Array.of(137,80,78,71,13,10,26,10);function qv(e){if(!NA(e.readBytes(ud.length)))throw new Error("wrong PNG signature")}function NA(e){if(e.length<ud.length)return!1;for(let t=0;t<ud.length;t++)if(e[t]!==ud[t])return!1;return!0}const PA="tEXt",$A=0,p0=new TextDecoder("latin1");function TA(e){if(DA(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const IA=/^[\u0000-\u00FF]*$/;function DA(e){if(!IA.test(e))throw new Error("invalid latin1 text")}function RA(e,t,n){const i=h0(t);e[i]=OA(t,n-i.length-1)}function h0(e){for(e.mark();e.readByte()!==$A;);const t=e.offset;e.reset();const n=p0.decode(e.readBytes(t-e.offset-1));return e.skip(1),TA(n),n}function OA(e,t){return p0.decode(e.readBytes(t))}const Ji={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Gf={UNKNOWN:-1,DEFLATE:0},Hv={UNKNOWN:-1,ADAPTIVE:0},Wf={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Zu={NONE:0,BACKGROUND:1,PREVIOUS:2},Zf={SOURCE:0,OVER:1};class MA extends vh{constructor(n,i={}){super(n);Pn(this,"_checkCrc");Pn(this,"_inflator");Pn(this,"_png");Pn(this,"_apng");Pn(this,"_end");Pn(this,"_hasPalette");Pn(this,"_palette");Pn(this,"_hasTransparency");Pn(this,"_transparency");Pn(this,"_compressionMethod");Pn(this,"_filterMethod");Pn(this,"_interlaceMethod");Pn(this,"_colorType");Pn(this,"_isAnimated");Pn(this,"_numberOfFrames");Pn(this,"_numberOfPlays");Pn(this,"_frames");Pn(this,"_writingDataChunks");const{checkCrc:s=!1}=i;this._checkCrc=s,this._inflator=new jv,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Gf.UNKNOWN,this._filterMethod=Hv.UNKNOWN,this._interlaceMethod=Wf.UNKNOWN,this._colorType=Ji.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(qv(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeChunk(n,i)}return this.decodeImage(),this._png}decodeApng(){for(qv(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(n,i)}return this.decodeApngImage(),this._apng}decodeChunk(n,i){const s=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case PA:RA(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?Uv(this,n+4,i):this.skip(4)}decodeApngChunk(n,i){const s=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,i),this.offset=s+n;break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?Uv(this,n+4,i):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=FA(this.readUint8());const i=this.readUint8();this._colorType=i;let s;switch(i){case Ji.GREYSCALE:s=1;break;case Ji.TRUECOLOUR:s=3;break;case Ji.INDEXED_COLOUR:s=1;break;case Ji.GREYSCALE_ALPHA:s=2;break;case Ji.TRUECOLOUR_ALPHA:s=4;break;case Ji.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Gf.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const i=n/3;this._hasPalette=!0;const s=[];this._palette=s;for(let r=0;r<i;r++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const i=n,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let i=n,s=this.offset+this.byteOffset;if(s+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,s,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Ji.GREYSCALE:case Ji.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let i=0;i<n/2;i++)this._transparency[i]=this.readUint16();break}case Ji.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let i=0;for(;i<n;i++){const s=this.readByte();this._palette[i].push(s)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case Ji.UNKNOWN:case Ji.GREYSCALE_ALPHA:case Ji.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const i=h0(this),s=this.readUint8();if(s!==Gf.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const r=this.readBytes(n-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:hA(r)}}decodepHYs(){const n=this.readUint32(),i=this.readUint32(),s=this.readByte();this._png.resolution={x:n,y:i,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const i={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(n);if(s){if(s.data=Vv({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)i.data=s.data;else{const r=this._apng.frames.at(n-1);this.disposeFrame(s,r,i),this.addFrameDataToCanvas(i,s)}this._apng.frames.push(i)}}return this._apng}disposeFrame(n,i,s){switch(n.disposeOp){case Zu.NONE:break;case Zu.BACKGROUND:for(let r=0;r<this._png.height;r++)for(let l=0;l<this._png.width;l++){const c=(r*n.width+l)*this._png.channels;for(let d=0;d<this._png.channels;d++)s.data[c+d]=0}break;case Zu.PREVIOUS:s.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,i){const s=1<<this._png.depth,r=(l,c)=>{const d=((l+i.yOffset)*this._png.width+i.xOffset+c)*this._png.channels,p=(l*i.width+c)*this._png.channels;return{index:d,frameIndex:p}};switch(i.blendOp){case Zf.SOURCE:for(let l=0;l<i.height;l++)for(let c=0;c<i.width;c++){const{index:d,frameIndex:p}=r(l,c);for(let f=0;f<this._png.channels;f++)n.data[d+f]=i.data[p+f]}break;case Zf.OVER:for(let l=0;l<i.height;l++)for(let c=0;c<i.width;c++){const{index:d,frameIndex:p}=r(l,c);for(let f=0;f<this._png.channels;f++){const v=i.data[p+this._png.channels-1]/s,w=f%(this._png.channels-1)===0?1:i.data[p+f],m=Math.floor(v*w+(1-v)*n.data[d+f]);n.data[d+f]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==Hv.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Wf.NO_INTERLACE)this._png.data=Vv({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Wf.ADAM7)this._png.data=xA({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,i=this._frames.at(-1);i?i.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Zu.NONE,blendOp:Zf.SOURCE,data:n}),this._inflator=new jv,this._writingDataChunks=!1}}function FA(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var Gv;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(Gv||(Gv={}));function BA(e,t){return new MA(e,t).decode()}var zt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Kf(){zt.console&&typeof zt.console.log=="function"&&zt.console.log.apply(zt.console,arguments)}var Mn={log:Kf,warn:function(e){zt.console&&(typeof zt.console.warn=="function"?zt.console.warn.apply(zt.console,arguments):Kf.call(null,arguments))},error:function(e){zt.console&&(typeof zt.console.error=="function"?zt.console.error.apply(zt.console,arguments):Kf(e))}};function Jf(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){dl(i.response,t,n)},i.onerror=function(){Mn.error("could not download file")},i.send()}function Wv(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Ku(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var dl=zt.saveAs||((typeof window>"u"?"undefined":$n(window))!=="object"||window!==zt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var i=zt.URL||zt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?Wv(s.href)?Jf(e,t,n):Ku(s,s.target="_blank"):Ku(s)):(s.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(s.href)},4e4),setTimeout(function(){Ku(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(Wv(e))Jf(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){Ku(i)})}else navigator.msSaveOrOpenBlob(function(s,r){return r===void 0?r={autoBom:!1}:$n(r)!=="object"&&(Mn.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return Jf(e,t,n);var s=e.type==="application/octet-stream",r=/constructor/i.test(zt.HTMLElement)||zt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&r)&&(typeof FileReader>"u"?"undefined":$n(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var f=c.result;f=l?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=f:location=f,i=null},c.readAsDataURL(e)}else{var d=zt.URL||zt.webkitURL,p=d.createObjectURL(e);i?i.location=p:location.href=p,i=null,setTimeout(function(){d.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function m0(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],i=0;i<n.length;i++){var s=n[i].re,r=n[i].process,l=s.exec(e);l&&(t=r(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),d=this.g.toString(16),p=this.b.toString(16);return c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),p.length==1&&(p="0"+p),"#"+c+d+p}}var dd=zt.atob.bind(zt),Zv=zt.btoa.bind(zt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Yf(e,t){var n=e[0],i=e[1],s=e[2],r=e[3];n=Jo(n,i,s,r,t[0],7,-680876936),r=Jo(r,n,i,s,t[1],12,-389564586),s=Jo(s,r,n,i,t[2],17,606105819),i=Jo(i,s,r,n,t[3],22,-1044525330),n=Jo(n,i,s,r,t[4],7,-176418897),r=Jo(r,n,i,s,t[5],12,1200080426),s=Jo(s,r,n,i,t[6],17,-1473231341),i=Jo(i,s,r,n,t[7],22,-45705983),n=Jo(n,i,s,r,t[8],7,1770035416),r=Jo(r,n,i,s,t[9],12,-1958414417),s=Jo(s,r,n,i,t[10],17,-42063),i=Jo(i,s,r,n,t[11],22,-1990404162),n=Jo(n,i,s,r,t[12],7,1804603682),r=Jo(r,n,i,s,t[13],12,-40341101),s=Jo(s,r,n,i,t[14],17,-1502002290),n=Yo(n,i=Jo(i,s,r,n,t[15],22,1236535329),s,r,t[1],5,-165796510),r=Yo(r,n,i,s,t[6],9,-1069501632),s=Yo(s,r,n,i,t[11],14,643717713),i=Yo(i,s,r,n,t[0],20,-373897302),n=Yo(n,i,s,r,t[5],5,-701558691),r=Yo(r,n,i,s,t[10],9,38016083),s=Yo(s,r,n,i,t[15],14,-660478335),i=Yo(i,s,r,n,t[4],20,-405537848),n=Yo(n,i,s,r,t[9],5,568446438),r=Yo(r,n,i,s,t[14],9,-1019803690),s=Yo(s,r,n,i,t[3],14,-187363961),i=Yo(i,s,r,n,t[8],20,1163531501),n=Yo(n,i,s,r,t[13],5,-1444681467),r=Yo(r,n,i,s,t[2],9,-51403784),s=Yo(s,r,n,i,t[7],14,1735328473),n=Xo(n,i=Yo(i,s,r,n,t[12],20,-1926607734),s,r,t[5],4,-378558),r=Xo(r,n,i,s,t[8],11,-2022574463),s=Xo(s,r,n,i,t[11],16,1839030562),i=Xo(i,s,r,n,t[14],23,-35309556),n=Xo(n,i,s,r,t[1],4,-1530992060),r=Xo(r,n,i,s,t[4],11,1272893353),s=Xo(s,r,n,i,t[7],16,-155497632),i=Xo(i,s,r,n,t[10],23,-1094730640),n=Xo(n,i,s,r,t[13],4,681279174),r=Xo(r,n,i,s,t[0],11,-358537222),s=Xo(s,r,n,i,t[3],16,-722521979),i=Xo(i,s,r,n,t[6],23,76029189),n=Xo(n,i,s,r,t[9],4,-640364487),r=Xo(r,n,i,s,t[12],11,-421815835),s=Xo(s,r,n,i,t[15],16,530742520),n=Qo(n,i=Xo(i,s,r,n,t[2],23,-995338651),s,r,t[0],6,-198630844),r=Qo(r,n,i,s,t[7],10,1126891415),s=Qo(s,r,n,i,t[14],15,-1416354905),i=Qo(i,s,r,n,t[5],21,-57434055),n=Qo(n,i,s,r,t[12],6,1700485571),r=Qo(r,n,i,s,t[3],10,-1894986606),s=Qo(s,r,n,i,t[10],15,-1051523),i=Qo(i,s,r,n,t[1],21,-2054922799),n=Qo(n,i,s,r,t[8],6,1873313359),r=Qo(r,n,i,s,t[15],10,-30611744),s=Qo(s,r,n,i,t[6],15,-1560198380),i=Qo(i,s,r,n,t[13],21,1309151649),n=Qo(n,i,s,r,t[4],6,-145523070),r=Qo(r,n,i,s,t[11],10,-1120210379),s=Qo(s,r,n,i,t[2],15,718787259),i=Qo(i,s,r,n,t[9],21,-343485551),e[0]=$r(n,e[0]),e[1]=$r(i,e[1]),e[2]=$r(s,e[2]),e[3]=$r(r,e[3])}function ef(e,t,n,i,s,r){return t=$r($r(t,e),$r(i,r)),$r(t<<s|t>>>32-s,n)}function Jo(e,t,n,i,s,r,l){return ef(t&n|~t&i,e,t,s,r,l)}function Yo(e,t,n,i,s,r,l){return ef(t&i|n&~i,e,t,s,r,l)}function Xo(e,t,n,i,s,r,l){return ef(t^n^i,e,t,s,r,l)}function Qo(e,t,n,i,s,r,l){return ef(n^(t|~i),e,t,s,r,l)}function v0(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Yf(i,jA(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(Yf(i,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,Yf(i,s),i}function jA(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var Kv="0123456789abcdef".split("");function zA(e){for(var t="",n=0;n<4;n++)t+=Kv[e>>8*n+4&15]+Kv[e>>8*n&15];return t}function UA(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Dp(e){return v0(e).map(UA).join("")}var VA=function(e){for(var t=0;t<e.length;t++)e[t]=zA(e[t]);return e.join("")}(v0("hello"))!="5d41402abc4b2a76b9719d911017c592";function $r(e,t){if(VA){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Rp(e,t){var n,i,s,r;if(e!==n){for(var l=(s=e,r=1+(256/e.length|0),new Array(r+1).join(s)),c=[],d=0;d<256;d++)c[d]=d;var p=0;for(d=0;d<256;d++){var f=c[d];p=(p+f+l.charCodeAt(d))%256,c[d]=c[p],c[p]=f}n=e,i=c}else c=i;var v=t.length,w=0,m=0,y="";for(d=0;d<v;d++)m=(m+(f=c[w=(w+1)%256]))%256,c[w]=c[m],c[m]=f,l=c[(c[w]+c[m])%256],y+=String.fromCharCode(t.charCodeAt(d)^l);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Jv={print:4,modify:8,copy:16,"annot-forms":32};function Yl(e,t,n,i){this.v=1,this.r=2;var s=192;e.forEach(function(c){if(Jv.perm!==void 0)throw new Error("Invalid permission: "+c);s+=Jv[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var r=(t+this.padding).substr(0,32),l=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(r,l),this.P=-(1+(255^s)),this.encryptionKey=Dp(r+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Rp(this.encryptionKey,this.padding)}function Xl(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,i=0;i<n;i++){var s=e.charCodeAt(i);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[i]}return t}function Yv(e){if($n(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,i,s){if(s=s||!1,typeof n!="string"||typeof i!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var r=Math.random().toString(35);return t[n][r]=[i,!!s],r},this.unsubscribe=function(n){for(var i in t)if(t[i][n])return delete t[i][n],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),s=[];for(var r in t[n]){var l=t[n][r];try{l[0].apply(e,i)}catch(c){zt.console&&Mn.error("jsPDF PubSub Error",c.message,c)}l[1]&&s.push(r)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function $d(e){if(!(this instanceof $d))return new $d(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function g0(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function pl(e,t,n,i,s){if(!(this instanceof pl))return new pl(e,t,n,i,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,g0.call(this,i,s)}function tc(e,t,n,i,s){if(!(this instanceof tc))return new tc(e,t,n,i,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,g0.call(this,i,s)}function Nt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],s=arguments[2],r=arguments[3],l=[],c=1,d=16,p="S",f=null;$n(e=e||{})==="object"&&(n=e.orientation,i=e.unit||i,s=e.format||s,r=e.compress||e.compressPdf||r,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),c=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),p=e.defaultPathOperation||"S"),l=e.filters||(r===!0?["FlateEncode"]:l),i=i||"mm",n=(""+(n||"P")).toLowerCase();var v=e.putOnlyUsedFonts||!1,w={},m={internal:{},__private__:{}};m.__private__.PubSub=Yv;var y="1.3",A=m.__private__.getPdfVersion=function(){return y};m.__private__.setPdfVersion=function(C){y=C};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return N};var k=m.__private__.getPageFormat=function(C){return N[C]};s=s||"a4";var T="compat",I="advanced",j=T;function K(){this.saveGraphicsState(),ne(new Dt(mt,0,0,-mt,0,Is()*mt).toString()+" cm"),this.setFontSize(this.getFontSize()/mt),p="n",j=I}function W(){this.restoreGraphicsState(),p="S",j=T}var H=m.__private__.combineFontStyleAndFontWeight=function(C,oe){if(C=="bold"&&oe=="normal"||C=="bold"&&oe==400||C=="normal"&&oe=="italic"||C=="bold"&&oe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return oe&&(C=oe==400||oe==="normal"?C==="italic"?"italic":"normal":oe!=700&&oe!=="bold"||C!=="normal"?(oe==700?"bold":oe)+""+C:"bold"),C};m.advancedAPI=function(C){var oe=j===T;return oe&&K.call(this),typeof C!="function"||(C(this),oe&&W.call(this)),this},m.compatAPI=function(C){var oe=j===I;return oe&&W.call(this),typeof C!="function"||(C(this),oe&&K.call(this)),this},m.isAdvancedAPI=function(){return j===I};var F,R=function(C){if(j!==I)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=m.roundToPrecision=m.__private__.roundToPrecision=function(C,oe){var be=t||oe;if(isNaN(C)||isNaN(be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(be).replace(/0+$/,"")};F=m.hpf=m.__private__.hpf=typeof d=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return z(C,d)}:d==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return z(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return z(C,16)};var x=m.f2=m.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return z(C,2)},$=m.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return z(C,3)},Z=m.scale=m.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return j===T?C*mt:j===I?C:void 0},b=function(C){return Z(function(oe){return j===T?Is()-oe:j===I?oe:void 0}(C))};m.__private__.setPrecision=m.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(t=parseInt(C,10))};var S,Q="00000000000000000000000000000000",U=m.__private__.getFileId=function(){return Q},le=m.__private__.setFileId=function(C){return Q=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Wn=new Yl(f.userPermissions,f.userPassword,f.ownerPassword,Q)),Q};m.setFileId=function(C){return le(C),this},m.getFileId=function(){return U()};var xe=m.__private__.convertDateToPDFDate=function(C){var oe=C.getTimezoneOffset(),be=oe<0?"+":"-",Ee=Math.floor(Math.abs(oe/60)),Oe=Math.abs(oe%60),Ye=[be,J(Ee),"'",J(Oe),"'"].join("");return["D:",C.getFullYear(),J(C.getMonth()+1),J(C.getDate()),J(C.getHours()),J(C.getMinutes()),J(C.getSeconds()),Ye].join("")},ke=m.__private__.convertPDFDateToDate=function(C){var oe=parseInt(C.substr(2,4),10),be=parseInt(C.substr(6,2),10)-1,Ee=parseInt(C.substr(8,2),10),Oe=parseInt(C.substr(10,2),10),Ye=parseInt(C.substr(12,2),10),it=parseInt(C.substr(14,2),10);return new Date(oe,be,Ee,Oe,Ye,it,0)},Le=m.__private__.setCreationDate=function(C){var oe;if(C===void 0&&(C=new Date),C instanceof Date)oe=xe(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");oe=C}return S=oe},X=m.__private__.getCreationDate=function(C){var oe=S;return C==="jsDate"&&(oe=ke(S)),oe};m.setCreationDate=function(C){return Le(C),this},m.getCreationDate=function(C){return X(C)};var he,J=m.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},B=m.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},V=0,Y=[],ee=[],fe=0,ae=[],te=[],se=!1,de=ee;m.__private__.setCustomOutputDestination=function(C){se=!0,de=C};var Ae=function(C){se||(de=C)};m.__private__.resetCustomOutputDestination=function(){se=!1,de=ee};var ne=m.__private__.out=function(C){return C=C.toString(),fe+=C.length+1,de.push(C),de},ge=m.__private__.write=function(C){return ne(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},Me=m.__private__.getArrayBuffer=function(C){for(var oe=C.length,be=new ArrayBuffer(oe),Ee=new Uint8Array(be);oe--;)Ee[oe]=C.charCodeAt(oe);return be},Ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ge};var Te=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(C){return Te=j===I?C/mt:C,this};var Pe,De=m.__private__.getFontSize=m.getFontSize=function(){return j===T?Te:Te*mt},nt=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(C){return nt=C,this},m.__private__.getR2L=m.getR2L=function(){return nt};var Ze,dt=m.__private__.setZoomMode=function(C){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))Pe=C;else if(isNaN(C)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');Pe=C}else Pe=parseInt(C,10)};m.__private__.getZoomMode=function(){return Pe};var Ce,Ue=m.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');Ze=C};m.__private__.getPageMode=function(){return Ze};var Je=m.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');Ce=C};m.__private__.getLayoutMode=function(){return Ce},m.__private__.setDisplayMode=m.setDisplayMode=function(C,oe,be){return dt(C),Je(oe),Ue(be),this};var Re={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(C){if(Object.keys(Re).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Re[C]},m.__private__.getDocumentProperties=function(){return Re},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(C){for(var oe in Re)Re.hasOwnProperty(oe)&&C[oe]&&(Re[oe]=C[oe]);return this},m.__private__.setDocumentProperty=function(C,oe){if(Object.keys(Re).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Re[C]=oe};var ut,mt,ft,rn,Kt,Ut={},Pt={},on=[],kt={},_n={},Mt={},Vt={},In=null,Yt=0,Ot=[],hn=new Yv(m),Es=e.hotfixes||[],To={},ya={},Qi=[],Dt=function C(oe,be,Ee,Oe,Ye,it){if(!(this instanceof C))return new C(oe,be,Ee,Oe,Ye,it);isNaN(oe)&&(oe=1),isNaN(be)&&(be=0),isNaN(Ee)&&(Ee=0),isNaN(Oe)&&(Oe=1),isNaN(Ye)&&(Ye=0),isNaN(it)&&(it=0),this._matrix=[oe,be,Ee,Oe,Ye,it]};Object.defineProperty(Dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Dt.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(C)},Dt.prototype.multiply=function(C){var oe=C.sx*this.sx+C.shy*this.shx,be=C.sx*this.shy+C.shy*this.sy,Ee=C.shx*this.sx+C.sy*this.shx,Oe=C.shx*this.shy+C.sy*this.sy,Ye=C.tx*this.sx+C.ty*this.shx+this.tx,it=C.tx*this.shy+C.ty*this.sy+this.ty;return new Dt(oe,be,Ee,Oe,Ye,it)},Dt.prototype.decompose=function(){var C=this.sx,oe=this.shy,be=this.shx,Ee=this.sy,Oe=this.tx,Ye=this.ty,it=Math.sqrt(C*C+oe*oe),wt=(C/=it)*be+(oe/=it)*Ee;be-=C*wt,Ee-=oe*wt;var St=Math.sqrt(be*be+Ee*Ee);return wt/=St,C*(Ee/=St)<oe*(be/=St)&&(C=-C,oe=-oe,wt=-wt,it=-it),{scale:new Dt(it,0,0,St,0,0),translate:new Dt(1,0,0,1,Oe,Ye),rotate:new Dt(C,oe,-oe,C,0,0),skew:new Dt(1,0,wt,1,0,0)}},Dt.prototype.toString=function(C){return this.join(" ")},Dt.prototype.inversed=function(){var C=this.sx,oe=this.shy,be=this.shx,Ee=this.sy,Oe=this.tx,Ye=this.ty,it=1/(C*Ee-oe*be),wt=Ee*it,St=-oe*it,Ft=-be*it,qt=C*it;return new Dt(wt,St,Ft,qt,-wt*Oe-Ft*Ye,-St*Oe-qt*Ye)},Dt.prototype.applyToPoint=function(C){var oe=C.x*this.sx+C.y*this.shx+this.tx,be=C.x*this.shy+C.y*this.sy+this.ty;return new $a(oe,be)},Dt.prototype.applyToRectangle=function(C){var oe=this.applyToPoint(C),be=this.applyToPoint(new $a(C.x+C.w,C.y+C.h));return new cr(oe.x,oe.y,be.x-oe.x,be.y-oe.y)},Dt.prototype.clone=function(){var C=this.sx,oe=this.shy,be=this.shx,Ee=this.sy,Oe=this.tx,Ye=this.ty;return new Dt(C,oe,be,Ee,Oe,Ye)},m.Matrix=Dt;var wa=m.matrixMult=function(C,oe){return oe.multiply(C)},xa=new Dt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=xa;var bi=function(C,oe){if(!_n[C]){var be=(oe instanceof pl?"Sh":"P")+(Object.keys(kt).length+1).toString(10);oe.id=be,_n[C]=be,kt[be]=oe,hn.publish("addPattern",oe)}};m.ShadingPattern=pl,m.TilingPattern=tc,m.addShadingPattern=function(C,oe){return R("addShadingPattern()"),bi(C,oe),this},m.beginTilingPattern=function(C){R("beginTilingPattern()"),Jr(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},m.endTilingPattern=function(C,oe){R("endTilingPattern()"),oe.stream=te[he].join(`
`),bi(C,oe),hn.publish("endTilingPattern",oe),Qi.pop().restore()};var yi,dn=m.__private__.newObject=function(){var C=gt();return yo(C,!0),C},gt=m.__private__.newObjectDeferred=function(){return V++,Y[V]=function(){return fe},V},yo=function(C,oe){return oe=typeof oe=="boolean"&&oe,Y[C]=fe,oe&&ne(C+" 0 obj"),C},os=m.__private__.newAdditionalObject=function(){var C={objId:gt(),content:""};return ae.push(C),C},Aa=gt(),wi=gt(),xi=m.__private__.decodeColorString=function(C){var oe=C.split(" ");if(oe.length!==2||oe[1]!=="g"&&oe[1]!=="G")oe.length!==5||oe[4]!=="k"&&oe[4]!=="K"||(oe=[(1-oe[0])*(1-oe[3]),(1-oe[1])*(1-oe[3]),(1-oe[2])*(1-oe[3]),"r"]);else{var be=parseFloat(oe[0]);oe=[be,be,be,"r"]}for(var Ee="#",Oe=0;Oe<3;Oe++)Ee+=("0"+Math.floor(255*parseFloat(oe[Oe])).toString(16)).slice(-2);return Ee},Ai=m.__private__.encodeColorString=function(C){var oe;typeof C=="string"&&(C={ch1:C});var be=C.ch1,Ee=C.ch2,Oe=C.ch3,Ye=C.ch4,it=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof be=="string"&&be.charAt(0)!=="#"){var wt=new m0(be);if(wt.ok)be=wt.toHex();else if(!/^\d*\.?\d*$/.test(be))throw new Error('Invalid color "'+be+'" passed to jsPDF.encodeColorString.')}if(typeof be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(be)&&(be="#"+be[1]+be[1]+be[2]+be[2]+be[3]+be[3]),typeof be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(be)){var St=parseInt(be.substr(1),16);be=St>>16&255,Ee=St>>8&255,Oe=255&St}if(Ee===void 0||Ye===void 0&&be===Ee&&Ee===Oe)oe=typeof be=="string"?be+" "+it[0]:C.precision===2?x(be/255)+" "+it[0]:$(be/255)+" "+it[0];else if(Ye===void 0||$n(Ye)==="object"){if(Ye&&!isNaN(Ye.a)&&Ye.a===0)return["1.","1.","1.",it[1]].join(" ");oe=typeof be=="string"?[be,Ee,Oe,it[1]].join(" "):C.precision===2?[x(be/255),x(Ee/255),x(Oe/255),it[1]].join(" "):[$(be/255),$(Ee/255),$(Oe/255),it[1]].join(" ")}else oe=typeof be=="string"?[be,Ee,Oe,Ye,it[2]].join(" "):C.precision===2?[x(be),x(Ee),x(Oe),x(Ye),it[2]].join(" "):[$(be),$(Ee),$(Oe),$(Ye),it[2]].join(" ");return oe},Io=m.__private__.getFilters=function(){return l},ai=m.__private__.putStream=function(C){var oe=(C=C||{}).data||"",be=C.filters||Io(),Ee=C.alreadyAppliedFilters||[],Oe=C.addLength1||!1,Ye=oe.length,it=C.objectId,wt=function(co){return co};if(f!==null&&it===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(wt=Wn.encryptor(it,0));var St={};be===!0&&(be=["FlateEncode"]);var Ft=C.additionalKeyValues||[],qt=(St=Nt.API.processDataByFilters!==void 0?Nt.API.processDataByFilters(oe,be):{data:oe,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(St.data.length!==0&&(Ft.push({key:"Length",value:St.data.length}),Oe===!0&&Ft.push({key:"Length1",value:Ye})),qt.length!=0)if(qt.split("/").length-1==1)Ft.push({key:"Filter",value:qt});else{Ft.push({key:"Filter",value:"["+qt+"]"});for(var an=0;an<Ft.length;an+=1)if(Ft[an].key==="DecodeParms"){for(var Vn=[],to=0;to<St.reverseChain.split("/").length-1;to+=1)Vn.push("null");Vn.push(Ft[an].value),Ft[an].value="["+Vn.join(" ")+"]"}}ne("<<");for(var An=0;An<Ft.length;An++)ne("/"+Ft[An].key+" "+Ft[An].value);ne(">>"),St.data.length!==0&&(ne("stream"),ne(wt(St.data)),ne("endstream"))},Ls=m.__private__.putPage=function(C){var oe=C.number,be=C.data,Ee=C.objId,Oe=C.contentsObjId;yo(Ee,!0),ne("<</Type /Page"),ne("/Parent "+C.rootDictionaryObjId+" 0 R"),ne("/Resources "+C.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(F(C.mediaBox.bottomLeftX))+" "+parseFloat(F(C.mediaBox.bottomLeftY))+" "+F(C.mediaBox.topRightX)+" "+F(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&ne("/CropBox ["+F(C.cropBox.bottomLeftX)+" "+F(C.cropBox.bottomLeftY)+" "+F(C.cropBox.topRightX)+" "+F(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&ne("/BleedBox ["+F(C.bleedBox.bottomLeftX)+" "+F(C.bleedBox.bottomLeftY)+" "+F(C.bleedBox.topRightX)+" "+F(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&ne("/TrimBox ["+F(C.trimBox.bottomLeftX)+" "+F(C.trimBox.bottomLeftY)+" "+F(C.trimBox.topRightX)+" "+F(C.trimBox.topRightY)+"]"),C.artBox!==null&&ne("/ArtBox ["+F(C.artBox.bottomLeftX)+" "+F(C.artBox.bottomLeftY)+" "+F(C.artBox.topRightX)+" "+F(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&ne("/UserUnit "+C.userUnit),hn.publish("putPage",{objId:Ee,pageContext:Ot[oe],pageNumber:oe,page:be}),ne("/Contents "+Oe+" 0 R"),ne(">>"),ne("endobj");var Ye=be.join(`
`);return j===I&&(Ye+=`
Q`),yo(Oe,!0),ai({data:Ye,filters:Io(),objectId:Oe}),ne("endobj"),Ee},ea=m.__private__.putPages=function(){var C,oe,be=[];for(C=1;C<=Yt;C++)Ot[C].objId=gt(),Ot[C].contentsObjId=gt();for(C=1;C<=Yt;C++)be.push(Ls({number:C,data:te[C],objId:Ot[C].objId,contentsObjId:Ot[C].contentsObjId,mediaBox:Ot[C].mediaBox,cropBox:Ot[C].cropBox,bleedBox:Ot[C].bleedBox,trimBox:Ot[C].trimBox,artBox:Ot[C].artBox,userUnit:Ot[C].userUnit,rootDictionaryObjId:Aa,resourceDictionaryObjId:wi}));yo(Aa,!0),ne("<</Type /Pages");var Ee="/Kids [";for(oe=0;oe<Yt;oe++)Ee+=be[oe]+" 0 R ";ne(Ee+"]"),ne("/Count "+Yt),ne(">>"),ne("endobj"),hn.publish("postPutPages")},Ns=function(C){hn.publish("putFont",{font:C,out:ne,newObject:dn,putStream:ai}),C.isAlreadyPutted!==!0&&(C.objectNumber=dn(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+Xl(C.postScriptName)),ne("/Subtype /Type1"),typeof C.encoding=="string"&&ne("/Encoding /"+C.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},Qs=function(C){C.objectNumber=dn();var oe=[];oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Form"}),oe.push({key:"BBox",value:"["+[F(C.x),F(C.y),F(C.x+C.width),F(C.y+C.height)].join(" ")+"]"}),oe.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var be=C.pages[1].join(`
`);ai({data:be,additionalKeyValues:oe,objectId:C.objectNumber}),ne("endobj")},Ps=function(C,oe){oe||(oe=21);var be=dn(),Ee=function(it,wt){var St,Ft=[],qt=1/(wt-1);for(St=0;St<1;St+=qt)Ft.push(St);if(Ft.push(1),it[0].offset!=0){var an={offset:0,color:it[0].color};it.unshift(an)}if(it[it.length-1].offset!=1){var Vn={offset:1,color:it[it.length-1].color};it.push(Vn)}for(var to="",An=0,co=0;co<Ft.length;co++){for(St=Ft[co];St>it[An+1].offset;)An++;var Jn=it[An].offset,wo=(St-Jn)/(it[An+1].offset-Jn),Ei=it[An].color,So=it[An+1].color;to+=B(Math.round((1-wo)*Ei[0]+wo*So[0]).toString(16))+B(Math.round((1-wo)*Ei[1]+wo*So[1]).toString(16))+B(Math.round((1-wo)*Ei[2]+wo*So[2]).toString(16))}return to.trim()}(C.colors,oe),Oe=[];Oe.push({key:"FunctionType",value:"0"}),Oe.push({key:"Domain",value:"[0.0 1.0]"}),Oe.push({key:"Size",value:"["+oe+"]"}),Oe.push({key:"BitsPerSample",value:"8"}),Oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ai({data:Ee,additionalKeyValues:Oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:be}),ne("endobj"),C.objectNumber=dn(),ne("<< /ShadingType "+C.type),ne("/ColorSpace /DeviceRGB");var Ye="/Coords ["+F(parseFloat(C.coords[0]))+" "+F(parseFloat(C.coords[1]))+" ";C.type===2?Ye+=F(parseFloat(C.coords[2]))+" "+F(parseFloat(C.coords[3])):Ye+=F(parseFloat(C.coords[2]))+" "+F(parseFloat(C.coords[3]))+" "+F(parseFloat(C.coords[4]))+" "+F(parseFloat(C.coords[5])),ne(Ye+="]"),C.matrix&&ne("/Matrix ["+C.matrix.toString()+"]"),ne("/Function "+be+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},er=function(C,oe){var be=gt(),Ee=dn();oe.push({resourcesOid:be,objectOid:Ee}),C.objectNumber=Ee;var Oe=[];Oe.push({key:"Type",value:"/Pattern"}),Oe.push({key:"PatternType",value:"1"}),Oe.push({key:"PaintType",value:"1"}),Oe.push({key:"TilingType",value:"1"}),Oe.push({key:"BBox",value:"["+C.boundingBox.map(F).join(" ")+"]"}),Oe.push({key:"XStep",value:F(C.xStep)}),Oe.push({key:"YStep",value:F(C.yStep)}),Oe.push({key:"Resources",value:be+" 0 R"}),C.matrix&&Oe.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),ai({data:C.stream,additionalKeyValues:Oe,objectId:C.objectNumber}),ne("endobj")},tr=function(C){for(var oe in C.objectNumber=dn(),ne("<<"),C)switch(oe){case"opacity":ne("/ca "+x(C[oe]));break;case"stroke-opacity":ne("/CA "+x(C[oe]))}ne(">>"),ne("endobj")},Ur=function(C){yo(C.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var oe in ne("/Font <<"),Ut)Ut.hasOwnProperty(oe)&&(v===!1||v===!0&&w.hasOwnProperty(oe))&&ne("/"+oe+" "+Ut[oe].objectNumber+" 0 R");ne(">>")}(),function(){if(Object.keys(kt).length>0){for(var oe in ne("/Shading <<"),kt)kt.hasOwnProperty(oe)&&kt[oe]instanceof pl&&kt[oe].objectNumber>=0&&ne("/"+oe+" "+kt[oe].objectNumber+" 0 R");hn.publish("putShadingPatternDict"),ne(">>")}}(),function(oe){if(Object.keys(kt).length>0){for(var be in ne("/Pattern <<"),kt)kt.hasOwnProperty(be)&&kt[be]instanceof m.TilingPattern&&kt[be].objectNumber>=0&&kt[be].objectNumber<oe&&ne("/"+be+" "+kt[be].objectNumber+" 0 R");hn.publish("putTilingPatternDict"),ne(">>")}}(C.objectOid),function(){if(Object.keys(Mt).length>0){var oe;for(oe in ne("/ExtGState <<"),Mt)Mt.hasOwnProperty(oe)&&Mt[oe].objectNumber>=0&&ne("/"+oe+" "+Mt[oe].objectNumber+" 0 R");hn.publish("putGStateDict"),ne(">>")}}(),function(){for(var oe in ne("/XObject <<"),To)To.hasOwnProperty(oe)&&To[oe].objectNumber>=0&&ne("/"+oe+" "+To[oe].objectNumber+" 0 R");hn.publish("putXobjectDict"),ne(">>")}(),ne(">>"),ne("endobj")},Nl=function(C){Pt[C.fontName]=Pt[C.fontName]||{},Pt[C.fontName][C.fontStyle]=C.id},Pl=function(C,oe,be,Ee,Oe){var Ye={id:"F"+(Object.keys(Ut).length+1).toString(10),postScriptName:C,fontName:oe,fontStyle:be,encoding:Ee,isStandardFont:Oe||!1,metadata:{}};return hn.publish("addFont",{font:Ye,instance:this}),Ut[Ye.id]=Ye,Nl(Ye),Ye.id},Si=m.__private__.pdfEscape=m.pdfEscape=function(C,oe){return function(be,Ee){var Oe,Ye,it,wt,St,Ft,qt,an,Vn;if(it=(Ee=Ee||{}).sourceEncoding||"Unicode",St=Ee.outputEncoding,(Ee.autoencode||St)&&Ut[ut].metadata&&Ut[ut].metadata[it]&&Ut[ut].metadata[it].encoding&&(wt=Ut[ut].metadata[it].encoding,!St&&Ut[ut].encoding&&(St=Ut[ut].encoding),!St&&wt.codePages&&(St=wt.codePages[0]),typeof St=="string"&&(St=wt[St]),St)){for(qt=!1,Ft=[],Oe=0,Ye=be.length;Oe<Ye;Oe++)(an=St[be.charCodeAt(Oe)])?Ft.push(String.fromCharCode(an)):Ft.push(be[Oe]),Ft[Oe].charCodeAt(0)>>8&&(qt=!0);be=Ft.join("")}for(Oe=be.length;qt===void 0&&Oe!==0;)be.charCodeAt(Oe-1)>>8&&(qt=!0),Oe--;if(!qt)return be;for(Ft=Ee.noBOM?[]:[254,255],Oe=0,Ye=be.length;Oe<Ye;Oe++){if((Vn=(an=be.charCodeAt(Oe))>>8)>>8)throw new Error("Character at position "+Oe+" of string '"+be+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ft.push(Vn),Ft.push(an-(Vn<<8))}return String.fromCharCode.apply(void 0,Ft)}(C,oe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vr=m.__private__.beginPage=function(C){te[++Yt]=[],Ot[Yt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},qr(Yt),Ae(te[he])},nr=function(C,oe){var be,Ee,Oe;switch(n=oe||n,typeof C=="string"&&(be=k(C.toLowerCase()),Array.isArray(be)&&(Ee=be[0],Oe=be[1])),Array.isArray(C)&&(Ee=C[0]*mt,Oe=C[1]*mt),isNaN(Ee)&&(Ee=s[0],Oe=s[1]),(Ee>14400||Oe>14400)&&(Mn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Oe=Math.min(14400,Oe)),s=[Ee,Oe],n.substr(0,1)){case"l":Oe>Ee&&(s=[Oe,Ee]);break;case"p":Ee>Oe&&(s=[Oe,Ee])}Vr(s),pt(Ts),ne(ls),Kr!==0&&ne(Kr+" J"),rr!==0&&ne(rr+" j"),hn.publish("addPage",{pageNumber:Yt})},Sa=function(C){C>0&&C<=Yt&&(te.splice(C,1),Ot.splice(C,1),Yt--,he>Yt&&(he=Yt),this.setPage(he))},qr=function(C){C>0&&C<=Yt&&(he=C)},Hr=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return te.length-1},is=function(C,oe,be){var Ee,Oe=void 0;return be=be||{},C=C!==void 0?C:Ut[ut].fontName,oe=oe!==void 0?oe:Ut[ut].fontStyle,Ee=C.toLowerCase(),Pt[Ee]!==void 0&&Pt[Ee][oe]!==void 0?Oe=Pt[Ee][oe]:Pt[C]!==void 0&&Pt[C][oe]!==void 0?Oe=Pt[C][oe]:be.disableWarning===!1&&Mn.warn("Unable to look up font label for font '"+C+"', '"+oe+"'. Refer to getFontList() for available fonts."),Oe||be.noFallback||(Oe=Pt.times[oe])==null&&(Oe=Pt.times.normal),Oe},Wt=m.__private__.putInfo=function(){var C=dn(),oe=function(Ee){return Ee};for(var be in f!==null&&(oe=Wn.encryptor(C,0)),ne("<<"),ne("/Producer ("+Si(oe("jsPDF "+Nt.version))+")"),Re)Re.hasOwnProperty(be)&&Re[be]&&ne("/"+be.substr(0,1).toUpperCase()+be.substr(1)+" ("+Si(oe(Re[be]))+")");ne("/CreationDate ("+Si(oe(S))+")"),ne(">>"),ne("endobj")},wn=m.__private__.putCatalog=function(C){var oe=(C=C||{}).rootDictionaryObjId||Aa;switch(dn(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+oe+" 0 R"),Pe||(Pe="fullwidth"),Pe){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var be=""+Pe;be.substr(be.length-1)==="%"&&(Pe=parseInt(Pe)/100),typeof Pe=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+x(Pe)+"]")}switch(Ce||(Ce="continuous"),Ce){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}Ze&&ne("/PageMode /"+Ze),hn.publish("putCatalog"),ne(">>"),ne("endobj")},or=m.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(V+1)),ne("/Root "+V+" 0 R"),ne("/Info "+(V-1)+" 0 R"),f!==null&&ne("/Encrypt "+Wn.oid+" 0 R"),ne("/ID [ <"+Q+"> <"+Q+"> ]"),ne(">>")},Dn=m.__private__.putHeader=function(){ne("%PDF-"+y),ne("%")},ka=m.__private__.putXRef=function(){var C="0000000000";ne("xref"),ne("0 "+(V+1)),ne("0000000000 65535 f ");for(var oe=1;oe<=V;oe++)typeof Y[oe]=="function"?ne((C+Y[oe]()).slice(-10)+" 00000 n "):Y[oe]!==void 0?ne((C+Y[oe]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},ki=m.__private__.buildDocument=function(){var C;V=0,fe=0,ee=[],Y=[],ae=[],Aa=gt(),wi=gt(),Ae(ee),hn.publish("buildDocument"),Dn(),ea(),function(){hn.publish("putAdditionalObjects");for(var be=0;be<ae.length;be++){var Ee=ae[be];yo(Ee.objId,!0),ne(Ee.content),ne("endobj")}hn.publish("postPutAdditionalObjects")}(),C=[],function(){for(var be in Ut)Ut.hasOwnProperty(be)&&(v===!1||v===!0&&w.hasOwnProperty(be))&&Ns(Ut[be])}(),function(){var be;for(be in Mt)Mt.hasOwnProperty(be)&&tr(Mt[be])}(),function(){for(var be in To)To.hasOwnProperty(be)&&Qs(To[be])}(),function(be){var Ee;for(Ee in kt)kt.hasOwnProperty(Ee)&&(kt[Ee]instanceof pl?Ps(kt[Ee]):kt[Ee]instanceof tc&&er(kt[Ee],be))}(C),hn.publish("putResources"),C.forEach(Ur),Ur({resourcesOid:wi,objectOid:Number.MAX_SAFE_INTEGER}),hn.publish("postPutResources"),f!==null&&(Wn.oid=dn(),ne("<<"),ne("/Filter /Standard"),ne("/V "+Wn.v),ne("/R "+Wn.r),ne("/U <"+Wn.toHexString(Wn.U)+">"),ne("/O <"+Wn.toHexString(Wn.O)+">"),ne("/P "+Wn.P),ne(">>"),ne("endobj")),Wt(),wn();var oe=fe;return ka(),or(),ne("startxref"),ne(""+oe),ne("%%EOF"),Ae(te[he]),ee.join(`
`)},jt=m.__private__.getBlob=function(C){return new Blob([Me(C)],{type:"application/pdf"})},Bn=m.output=m.__private__.output=(yi=function(C,oe){switch(typeof(oe=oe||{})=="string"?oe={filename:oe}:oe.filename=oe.filename||"generated.pdf",C){case void 0:return ki();case"save":m.save(oe.filename);break;case"arraybuffer":return Me(ki());case"blob":return jt(ki());case"bloburi":case"bloburl":if(zt.URL!==void 0&&typeof zt.URL.createObjectURL=="function")return zt.URL&&zt.URL.createObjectURL(jt(ki()))||void 0;Mn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var be="",Ee=ki();try{be=Zv(Ee)}catch{be=Zv(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+oe.filename+";base64,"+be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(zt)==="[object Window]"){var Oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';oe.pdfObjectUrl&&(Oe=oe.pdfObjectUrl,Ye="");var it='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Oe+'"'+Ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(oe)+");<\/script></body></html>",wt=zt.open();return wt!==null&&wt.document.write(it),wt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(zt)==="[object Window]"){var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(oe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+oe.filename+'" width="500px" height="400px" /></body></html>',Ft=zt.open();if(Ft!==null){Ft.document.write(St);var qt=this;Ft.document.documentElement.querySelector("#pdfViewer").onload=function(){Ft.document.title=oe.filename,Ft.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(qt.output("bloburl"))}}return Ft}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(zt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var an='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",oe)+'"></iframe></body></html>',Vn=zt.open();if(Vn!==null&&(Vn.document.write(an),Vn.document.title=oe.filename),Vn||typeof safari>"u")return Vn;break;case"datauri":case"dataurl":return zt.document.location.href=this.output("datauristring",oe);default:return null}},yi.foo=function(){try{return yi.apply(this,arguments)}catch(be){var C=be.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var oe="Error in function "+C.split(`
`)[0].split("<")[0]+": "+be.message;if(!zt.console)throw new Error(oe);zt.console.error(oe,be),zt.alert&&alert(oe)}},yi.foo.bar=yi,yi.foo),Vo=function(C){return Array.isArray(Es)===!0&&Es.indexOf(C)>-1};switch(i){case"pt":mt=1;break;case"mm":mt=72/25.4;break;case"cm":mt=72/2.54;break;case"in":mt=72;break;case"px":mt=Vo("px_scaling")==1?.75:96/72;break;case"pc":case"em":mt=12;break;case"ex":mt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);mt=i}var Wn=null;Le(),le();var eo=m.__private__.getPageInfo=m.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ot[C].objId,pageNumber:C,pageContext:Ot[C]}},$l=m.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var oe in Ot)if(Ot[oe].objId===C)break;return eo(oe)},ir=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Ot[he].objId,pageNumber:he,pageContext:Ot[he]}};m.addPage=function(){return nr.apply(this,arguments),this},m.setPage=function(){return qr.apply(this,arguments),Ae.call(this,te[he]),this},m.insertPage=function(C){return this.addPage(),this.movePage(he,C),this},m.movePage=function(C,oe){var be,Ee;if(C>oe){be=te[C],Ee=Ot[C];for(var Oe=C;Oe>oe;Oe--)te[Oe]=te[Oe-1],Ot[Oe]=Ot[Oe-1];te[oe]=be,Ot[oe]=Ee,this.setPage(oe)}else if(C<oe){be=te[C],Ee=Ot[C];for(var Ye=C;Ye<oe;Ye++)te[Ye]=te[Ye+1],Ot[Ye]=Ot[Ye+1];te[oe]=be,Ot[oe]=Ee,this.setPage(oe)}return this},m.deletePage=function(){return Sa.apply(this,arguments),this},m.__private__.text=m.text=function(C,oe,be,Ee,Oe){var Ye,it,wt,St,Ft,qt,an,Vn,to,An=(Ee=Ee||{}).scope||this;if(typeof C=="number"&&typeof oe=="number"&&(typeof be=="string"||Array.isArray(be))){var co=be;be=oe,oe=C,C=co}if(arguments[3]instanceof Dt==0?(wt=arguments[4],St=arguments[5],$n(an=arguments[3])==="object"&&an!==null||(typeof wt=="string"&&(St=wt,wt=null),typeof an=="string"&&(St=an,an=null),typeof an=="number"&&(wt=an,an=null),Ee={flags:an,angle:wt,align:St})):(R("The transform parameter of text() with a Matrix value"),to=Oe),isNaN(oe)||isNaN(be)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return An;var Jn,wo="",Ei=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:rs,So=An.internal.scaleFactor;function Da(mn){return mn=mn.split("	").join(Array(Ee.TabLen||9).join(" ")),Si(mn,an)}function Ra(mn){for(var Sn,Xn=mn.concat(),oo=[],za=Xn.length;za--;)typeof(Sn=Xn.shift())=="string"?oo.push(Sn):Array.isArray(mn)&&(Sn.length===1||Sn[1]===void 0&&Sn[2]===void 0)?oo.push(Sn[0]):oo.push([Sn[0],Sn[1],Sn[2]]);return oo}function ko(mn,Sn){var Xn;if(typeof mn=="string")Xn=Sn(mn)[0];else if(Array.isArray(mn)){for(var oo,za,Go=mn.concat(),Ua=[],Ol=Go.length;Ol--;)typeof(oo=Go.shift())=="string"?Ua.push(Sn(oo)[0]):Array.isArray(oo)&&typeof oo[0]=="string"&&(za=Sn(oo[0],oo[1],oo[2]),Ua.push([za[0],za[1],za[2]]));Xn=Ua}return Xn}var Oa=!1,cs=!0;if(typeof C=="string")Oa=!0;else if(Array.isArray(C)){var Ds=C.concat();it=[];for(var ia,uo=Ds.length;uo--;)(typeof(ia=Ds.shift())!="string"||Array.isArray(ia)&&typeof ia[0]!="string")&&(cs=!1);Oa=cs}if(Oa===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var Rs=Te/An.internal.scaleFactor,Os=Rs*(Ei-1);switch(Ee.baseline){case"bottom":be-=Os;break;case"top":be+=Rs-Os;break;case"hanging":be+=Rs-2*Os;break;case"middle":be+=Rs/2-Os}if((qt=Ee.maxWidth||0)>0&&(typeof C=="string"?C=An.splitTextToSize(C,qt):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(mn,Sn){return mn.concat(An.splitTextToSize(Sn,qt))},[]))),Ye={text:C,x:oe,y:be,options:Ee,mutex:{pdfEscape:Si,activeFontKey:ut,fonts:Ut,activeFontSize:Te}},hn.publish("preProcessText",Ye),C=Ye.text,wt=(Ee=Ye.options).angle,to instanceof Dt==0&&wt&&typeof wt=="number"){wt*=Math.PI/180,Ee.rotationDirection===0&&(wt=-wt),j===I&&(wt=-wt);var ur=Math.cos(wt),Qr=Math.sin(wt);to=new Dt(ur,Qr,-Qr,ur,0,0)}else wt&&wt instanceof Dt&&(to=wt);j!==I||to||(to=xa),(Ft=Ee.charSpace||oa)!==void 0&&(wo+=F(Z(Ft))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Vn=Ee.horizontalScale)!==void 0&&(wo+=F(100*Vn)+` Tz
`),Ee.lang;var Rn=-1,qo=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,dr=An.internal.getCurrentPageInfo().pageContext;switch(qo){case 0:case!1:case"fill":Rn=0;break;case 1:case!0:case"stroke":Rn=1;break;case 2:case"fillThenStroke":Rn=2;break;case 3:case"invisible":Rn=3;break;case 4:case"fillAndAddForClipping":Rn=4;break;case 5:case"strokeAndAddPathForClipping":Rn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Rn=6;break;case 7:case"addToPathForClipping":Rn=7}var Li=dr.usedRenderingMode!==void 0?dr.usedRenderingMode:-1;Rn!==-1?wo+=Rn+` Tr
`:Li!==-1&&(wo+=`0 Tr
`),Rn!==-1&&(dr.usedRenderingMode=Rn),St=Ee.align||"left";var Ni,Pi=Te*Ei,el=An.internal.pageSize.getWidth(),Ma=Ut[ut];Ft=Ee.charSpace||oa,qt=Ee.maxWidth||0,an=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var Fa=[],aa=function(mn){return An.getStringUnitWidth(mn,{font:Ma,charSpace:Ft,fontSize:Te,doKerning:!1})*Te/So};if(Object.prototype.toString.call(C)==="[object Array]"){var ri;it=Ra(C),St!=="left"&&(Ni=it.map(aa));var no,Ui=0;if(St==="right"){oe-=Ni[0],C=[],uo=it.length;for(var Ba=0;Ba<uo;Ba++)Ba===0?(no=Bi(oe),ri=ji(be)):(no=Z(Ui-Ni[Ba]),ri=-Pi),C.push([it[Ba],no,ri]),Ui=Ni[Ba]}else if(St==="center"){oe-=Ni[0]/2,C=[],uo=it.length;for(var sa=0;sa<uo;sa++)sa===0?(no=Bi(oe),ri=ji(be)):(no=Z((Ui-Ni[sa])/2),ri=-Pi),C.push([it[sa],no,ri]),Ui=Ni[sa]}else if(St==="left"){C=[],uo=it.length;for(var tl=0;tl<uo;tl++)C.push(it[tl])}else if(St==="justify"&&Ma.encoding==="Identity-H"){C=[],uo=it.length,qt=qt!==0?qt:el;for(var Ho=0,Yn=0;Yn<uo;Yn++)if(ri=Yn===0?ji(be):-Pi,no=Yn===0?Bi(oe):Ho,Yn<uo-1){var ja=Z((qt-Ni[Yn])/(it[Yn].split(" ").length-1)),ra=it[Yn].split(" ");C.push([ra[0]+" ",no,ri]),Ho=0;for(var xo=1;xo<ra.length;xo++){var us=(aa(ra[xo-1]+" "+ra[xo])-aa(ra[xo]))*So+ja;xo==ra.length-1?C.push([ra[xo],us,0]):C.push([ra[xo]+" ",us,0]),Ho-=us}}else C.push([it[Yn],no,ri]);C.push(["",Ho,0])}else{if(St!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],uo=it.length,qt=qt!==0?qt:el,Yn=0;Yn<uo;Yn++){ri=Yn===0?ji(be):-Pi,no=Yn===0?Bi(oe):0;var fr=it[Yn].split(" ").length-1,Ms=fr>0?(qt-Ni[Yn])/fr:0;Yn<uo-1?Fa.push(F(Z(Ms))):Fa.push(0),C.push([it[Yn],no,ri])}}}(typeof Ee.R2L=="boolean"?Ee.R2L:nt)===!0&&(C=ko(C,function(mn,Sn,Xn){return[mn.split("").reverse().join(""),Sn,Xn]})),Ye={text:C,x:oe,y:be,options:Ee,mutex:{pdfEscape:Si,activeFontKey:ut,fonts:Ut,activeFontSize:Te}},hn.publish("postProcessText",Ye),C=Ye.text,Jn=Ye.mutex.isHex||!1;var ds=Ut[ut].encoding;ds!=="WinAnsiEncoding"&&ds!=="StandardEncoding"||(C=ko(C,function(mn,Sn,Xn){return[Da(mn),Sn,Xn]})),it=Ra(C),C=[];for(var la,Vi,li,ca=Array.isArray(it[0])?1:0,ua="",fs=function(mn,Sn,Xn){var oo="";return Xn instanceof Dt?(Xn=typeof Ee.angle=="number"?wa(Xn,new Dt(1,0,0,1,mn,Sn)):wa(new Dt(1,0,0,1,mn,Sn),Xn),j===I&&(Xn=wa(new Dt(1,0,0,-1,0,0),Xn)),oo=Xn.join(" ")+` Tm
`):oo=F(mn)+" "+F(Sn)+` Td
`,oo},$i=0;$i<it.length;$i++){switch(ua="",ca){case 1:li=(Jn?"<":"(")+it[$i][0]+(Jn?">":")"),la=parseFloat(it[$i][1]),Vi=parseFloat(it[$i][2]);break;case 0:li=(Jn?"<":"(")+it[$i]+(Jn?">":")"),la=Bi(oe),Vi=ji(be)}Fa!==void 0&&Fa[$i]!==void 0&&(ua=Fa[$i]+` Tw
`),$i===0?C.push(ua+fs(la,Vi,to)+li):ca===0?C.push(ua+li):ca===1&&C.push(ua+fs(la,Vi,to)+li)}C=ca===0?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var ci=`BT
/`;return ci+=ut+" "+Te+` Tf
`,ci+=F(Te*Ei)+` TL
`,ci+=Un+`
`,ci+=wo,ci+=C,ne(ci+="ET"),w[ut]=!0,An};var Ca=m.__private__.clip=m.clip=function(C){return ne(C==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Ca("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ne("n"),this};var bn=m.__private__.isValidStyle=function(C){var oe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(oe=!0),oe};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(C){return bn(C)&&(p=C),this};var ta=m.__private__.getStyle=m.getStyle=function(C){var oe=p;switch(C){case"D":case"S":oe="S";break;case"F":oe="f";break;case"FD":case"DF":oe="B";break;case"f":case"f*":case"B":case"B*":oe=C}return oe},as=m.close=function(){return ne("h"),this};m.stroke=function(){return ne("S"),this},m.fill=function(C){return na("f",C),this},m.fillEvenOdd=function(C){return na("f*",C),this},m.fillStroke=function(C){return na("B",C),this},m.fillStrokeEvenOdd=function(C){return na("B*",C),this};var na=function(C,oe){$n(oe)==="object"?Gr(oe,C):ne(C)},Ea=function(C){C===null||j===I&&C===void 0||(C=ta(C),ne(C))};function $s(C,oe,be,Ee,Oe){var Ye=new tc(oe||this.boundingBox,be||this.xStep,Ee||this.yStep,this.gState,Oe||this.matrix);Ye.stream=this.stream;var it=C+"$$"+this.cloneIndex+++"$$";return bi(it,Ye),Ye}var Gr=function(C,oe){var be=_n[C.key],Ee=kt[be];if(Ee instanceof pl)ne("q"),ne(Wr(oe)),Ee.gState&&m.setGState(Ee.gState),ne(C.matrix.toString()+" cm"),ne("/"+be+" sh"),ne("Q");else if(Ee instanceof tc){var Oe=new Dt(1,0,0,-1,0,Is());C.matrix&&(Oe=Oe.multiply(C.matrix||xa),be=$s.call(Ee,C.key,C.boundingBox,C.xStep,C.yStep,Oe).id),ne("q"),ne("/Pattern cs"),ne("/"+be+" scn"),Ee.gState&&m.setGState(Ee.gState),ne(oe),ne("Q")}},Wr=function(C){switch(C){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ss=m.moveTo=function(C,oe){return ne(F(Z(C))+" "+F(b(oe))+" m"),this},ar=m.lineTo=function(C,oe){return ne(F(Z(C))+" "+F(b(oe))+" l"),this},si=m.curveTo=function(C,oe,be,Ee,Oe,Ye){return ne([F(Z(C)),F(b(oe)),F(Z(be)),F(b(Ee)),F(Z(Oe)),F(b(Ye)),"c"].join(" ")),this};m.__private__.line=m.line=function(C,oe,be,Ee,Oe){if(isNaN(C)||isNaN(oe)||isNaN(be)||isNaN(Ee)||!bn(Oe))throw new Error("Invalid arguments passed to jsPDF.line");return j===T?this.lines([[be-C,Ee-oe]],C,oe,[1,1],Oe||"S"):this.lines([[be-C,Ee-oe]],C,oe,[1,1]).stroke()},m.__private__.lines=m.lines=function(C,oe,be,Ee,Oe,Ye){var it,wt,St,Ft,qt,an,Vn,to,An,co,Jn,wo;if(typeof C=="number"&&(wo=be,be=oe,oe=C,C=wo),Ee=Ee||[1,1],Ye=Ye||!1,isNaN(oe)||isNaN(be)||!Array.isArray(C)||!Array.isArray(Ee)||!bn(Oe)||typeof Ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ss(oe,be),it=Ee[0],wt=Ee[1],Ft=C.length,co=oe,Jn=be,St=0;St<Ft;St++)(qt=C[St]).length===2?(co=qt[0]*it+co,Jn=qt[1]*wt+Jn,ar(co,Jn)):(an=qt[0]*it+co,Vn=qt[1]*wt+Jn,to=qt[2]*it+co,An=qt[3]*wt+Jn,co=qt[4]*it+co,Jn=qt[5]*wt+Jn,si(an,Vn,to,An,co,Jn));return Ye&&as(),Ea(Oe),this},m.path=function(C){for(var oe=0;oe<C.length;oe++){var be=C[oe],Ee=be.c;switch(be.op){case"m":ss(Ee[0],Ee[1]);break;case"l":ar(Ee[0],Ee[1]);break;case"c":si.apply(this,Ee);break;case"h":as()}}return this},m.__private__.rect=m.rect=function(C,oe,be,Ee,Oe){if(isNaN(C)||isNaN(oe)||isNaN(be)||isNaN(Ee)||!bn(Oe))throw new Error("Invalid arguments passed to jsPDF.rect");return j===T&&(Ee=-Ee),ne([F(Z(C)),F(b(oe)),F(Z(be)),F(Z(Ee)),"re"].join(" ")),Ea(Oe),this},m.__private__.triangle=m.triangle=function(C,oe,be,Ee,Oe,Ye,it){if(isNaN(C)||isNaN(oe)||isNaN(be)||isNaN(Ee)||isNaN(Oe)||isNaN(Ye)||!bn(it))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[be-C,Ee-oe],[Oe-be,Ye-Ee],[C-Oe,oe-Ye]],C,oe,[1,1],it,!0),this},m.__private__.roundedRect=m.roundedRect=function(C,oe,be,Ee,Oe,Ye,it){if(isNaN(C)||isNaN(oe)||isNaN(be)||isNaN(Ee)||isNaN(Oe)||isNaN(Ye)||!bn(it))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var wt=4/3*(Math.SQRT2-1);return Oe=Math.min(Oe,.5*be),Ye=Math.min(Ye,.5*Ee),this.lines([[be-2*Oe,0],[Oe*wt,0,Oe,Ye-Ye*wt,Oe,Ye],[0,Ee-2*Ye],[0,Ye*wt,-Oe*wt,Ye,-Oe,Ye],[2*Oe-be,0],[-Oe*wt,0,-Oe,-Ye*wt,-Oe,-Ye],[0,2*Ye-Ee],[0,-Ye*wt,Oe*wt,-Ye,Oe,-Ye]],C+Oe,oe,[1,1],it,!0),this},m.__private__.ellipse=m.ellipse=function(C,oe,be,Ee,Oe){if(isNaN(C)||isNaN(oe)||isNaN(be)||isNaN(Ee)||!bn(Oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ye=4/3*(Math.SQRT2-1)*be,it=4/3*(Math.SQRT2-1)*Ee;return ss(C+be,oe),si(C+be,oe-it,C+Ye,oe-Ee,C,oe-Ee),si(C-Ye,oe-Ee,C-be,oe-it,C-be,oe),si(C-be,oe+it,C-Ye,oe+Ee,C,oe+Ee),si(C+Ye,oe+Ee,C+be,oe+it,C+be,oe),Ea(Oe),this},m.__private__.circle=m.circle=function(C,oe,be,Ee){if(isNaN(C)||isNaN(oe)||isNaN(be)||!bn(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,oe,be,be,Ee)},m.setFont=function(C,oe,be){return be&&(oe=H(oe,be)),ut=is(C,oe,{disableWarning:!1}),this};var sr=m.__private__.getFont=m.getFont=function(){return Ut[is.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var C,oe,be={};for(C in Pt)if(Pt.hasOwnProperty(C))for(oe in be[C]=[],Pt[C])Pt[C].hasOwnProperty(oe)&&be[C].push(oe);return be},m.addFont=function(C,oe,be,Ee,Oe){var Ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ye.indexOf(arguments[3])!==-1?Oe=arguments[3]:arguments[3]&&Ye.indexOf(arguments[3])==-1&&(be=H(be,Ee)),Pl.call(this,C,oe,be,Oe=Oe||"Identity-H")};var rs,Ts=e.lineWidth||.200025,yc=m.__private__.getLineWidth=m.getLineWidth=function(){return Ts},pt=m.__private__.setLineWidth=m.setLineWidth=function(C){return Ts=C,ne(F(Z(C))+" w"),this};m.__private__.setLineDash=Nt.API.setLineDash=Nt.API.setLineDashPattern=function(C,oe){if(C=C||[],oe=oe||0,isNaN(oe)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(be){return F(Z(be))}).join(" "),oe=F(Z(oe)),ne("["+C+"] "+oe+" d"),this};var Ci=m.__private__.getLineHeight=m.getLineHeight=function(){return Te*rs};m.__private__.getLineHeight=m.getLineHeight=function(){return Te*rs};var xn=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(rs=C),this},Tl=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return rs};xn(e.lineHeight);var Bi=m.__private__.getHorizontalCoordinate=function(C){return Z(C)},ji=m.__private__.getVerticalCoordinate=function(C){return j===I?C:Ot[he].mediaBox.topRightY-Ot[he].mediaBox.bottomLeftY-Z(C)},Zr=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(C){return F(Bi(C))},La=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(C){return F(ji(C))},ls=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return xi(ls)},m.__private__.setStrokeColor=m.setDrawColor=function(C,oe,be,Ee){return ls=Ai({ch1:C,ch2:oe,ch3:be,ch4:Ee,pdfColorType:"draw",precision:2}),ne(ls),this};var Na=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return xi(Na)},m.__private__.setFillColor=m.setFillColor=function(C,oe,be,Ee){return Na=Ai({ch1:C,ch2:oe,ch3:be,ch4:Ee,pdfColorType:"fill",precision:2}),ne(Na),this};var Un=e.textColor||"0 g",Pa=m.__private__.getTextColor=m.getTextColor=function(){return xi(Un)};m.__private__.setTextColor=m.setTextColor=function(C,oe,be,Ee){return Un=Ai({ch1:C,ch2:oe,ch3:be,ch4:Ee,pdfColorType:"text",precision:3}),this};var oa=e.charSpace,Il=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(oa||0)};m.__private__.setCharSpace=m.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return oa=C,this};var Kr=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(C){var oe=m.CapJoinStyles[C];if(oe===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kr=oe,ne(oe+" J"),this};var rr=0;m.__private__.setLineJoin=m.setLineJoin=function(C){var oe=m.CapJoinStyles[C];if(oe===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return rr=oe,ne(oe+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(F(Z(C))+" M"),this},m.GState=$d,m.setGState=function(C){(C=typeof C=="string"?Mt[Vt[C]]:lr(null,C)).equals(In)||(ne("/"+C.id+" gs"),In=C)};var lr=function(C,oe){if(!C||!Vt[C]){var be=!1;for(var Ee in Mt)if(Mt.hasOwnProperty(Ee)&&Mt[Ee].equals(oe)){be=!0;break}if(be)oe=Mt[Ee];else{var Oe="GS"+(Object.keys(Mt).length+1).toString(10);Mt[Oe]=oe,oe.id=Oe}return C&&(Vt[C]=oe.id),hn.publish("addGState",oe),oe}};m.addGState=function(C,oe){return lr(C,oe),this},m.saveGraphicsState=function(){return ne("q"),on.push({key:ut,size:Te,color:Un}),this},m.restoreGraphicsState=function(){ne("Q");var C=on.pop();return ut=C.key,Te=C.size,Un=C.color,In=null,this},m.setCurrentTransformationMatrix=function(C){return ne(C.toString()+" cm"),this},m.comment=function(C){return ne("#"+C),this};var $a=function(C,oe){var be=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return be},set:function(Ye){isNaN(Ye)||(be=parseFloat(Ye))}});var Ee=oe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(Ye){isNaN(Ye)||(Ee=parseFloat(Ye))}});var Oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Oe},set:function(Ye){Oe=Ye.toString()}}),this},cr=function(C,oe,be,Ee){$a.call(this,C,oe),this.type="rect";var Oe=be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Oe},set:function(it){isNaN(it)||(Oe=parseFloat(it))}});var Ye=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ye},set:function(it){isNaN(it)||(Ye=parseFloat(it))}}),this},Xt=function(){this.page=Yt,this.currentPage=he,this.pages=te.slice(0),this.pagesContext=Ot.slice(0),this.x=ft,this.y=rn,this.matrix=Kt,this.width=Ta(he),this.height=Dl(he),this.outputDestination=de,this.id="",this.objectNumber=-1};Xt.prototype.restore=function(){Yt=this.page,he=this.currentPage,Ot=this.pagesContext,te=this.pages,ft=this.x,rn=this.y,Kt=this.matrix,Yr(he,this.width),zi(he,this.height),de=this.outputDestination};var Jr=function(C,oe,be,Ee,Oe){Qi.push(new Xt),Yt=he=0,te=[],ft=C,rn=oe,Kt=Oe,Vr([be,Ee])};for(var Ao in m.beginFormObject=function(C,oe,be,Ee,Oe){return Jr(C,oe,be,Ee,Oe),this},m.endFormObject=function(C){return function(oe){if(ya[oe])Qi.pop().restore();else{var be=new Xt,Ee="Xo"+(Object.keys(To).length+1).toString(10);be.id=Ee,ya[oe]=Ee,To[Ee]=be,hn.publish("addFormObject",be),Qi.pop().restore()}}(C),this},m.doFormObject=function(C,oe){var be=To[ya[C]];return ne("q"),ne(oe.toString()+" cm"),ne("/"+be.id+" Do"),ne("Q"),this},m.getFormObject=function(C){var oe=To[ya[C]];return{x:oe.x,y:oe.y,width:oe.width,height:oe.height,matrix:oe.matrix}},m.save=function(C,oe){return C=C||"generated.pdf",(oe=oe||{}).returnPromise=oe.returnPromise||!1,oe.returnPromise===!1?(dl(jt(ki()),C),typeof dl.unload=="function"&&zt.setTimeout&&setTimeout(dl.unload,911),this):new Promise(function(be,Ee){try{var Oe=dl(jt(ki()),C);typeof dl.unload=="function"&&zt.setTimeout&&setTimeout(dl.unload,911),be(Oe)}catch(Ye){Ee(Ye.message)}})},Nt.API)Nt.API.hasOwnProperty(Ao)&&(Ao==="events"&&Nt.API.events.length?function(C,oe){var be,Ee,Oe;for(Oe=oe.length-1;Oe!==-1;Oe--)be=oe[Oe][0],Ee=oe[Oe][1],C.subscribe.apply(C,[be].concat(typeof Ee=="function"?[Ee]:Ee))}(hn,Nt.API.events):m[Ao]=Nt.API[Ao]);function Ta(C){return Ot[C].mediaBox.topRightX-Ot[C].mediaBox.bottomLeftX}function Yr(C,oe){Ot[C].mediaBox.topRightX=oe+Ot[C].mediaBox.bottomLeftX}function Dl(C){return Ot[C].mediaBox.topRightY-Ot[C].mediaBox.bottomLeftY}function zi(C,oe){Ot[C].mediaBox.topRightY=oe+Ot[C].mediaBox.bottomLeftY}var Ia=m.getPageWidth=function(C){return Ta(C=C||he)/mt},Xr=m.setPageWidth=function(C,oe){Yr(C,oe*mt)},Is=m.getPageHeight=function(C){return Dl(C=C||he)/mt},Rl=m.setPageHeight=function(C,oe){zi(C,oe*mt)};return m.internal={pdfEscape:Si,getStyle:ta,getFont:sr,getFontSize:De,getCharSpace:Il,getTextColor:Pa,getLineHeight:Ci,getLineHeightFactor:Tl,getLineWidth:yc,write:ge,getHorizontalCoordinate:Bi,getVerticalCoordinate:ji,getCoordinateString:Zr,getVerticalCoordinateString:La,collections:{},newObject:dn,newAdditionalObject:os,newObjectDeferred:gt,newObjectDeferredBegin:yo,getFilters:Io,putStream:ai,events:hn,scaleFactor:mt,pageSize:{getWidth:function(){return Ia(he)},setWidth:function(C){Xr(he,C)},getHeight:function(){return Is(he)},setHeight:function(C){Rl(he,C)}},encryptionOptions:f,encryption:Wn,getEncryptor:function(C){return f!==null?Wn.encryptor(C,0):function(oe){return oe}},output:Bn,getNumberOfPages:Hr,get pages(){return te},out:ne,f2:x,f3:$,getPageInfo:eo,getPageInfoByObjId:$l,getCurrentPageInfo:ir,getPDFVersion:A,Point:$a,Rectangle:cr,Matrix:Dt,hasHotfix:Vo},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Ia(he)},set:function(C){Xr(he,C)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Is(he)},set:function(C){Rl(he,C)},enumerable:!0,configurable:!0}),(function(C){for(var oe=0,be=Ge.length;oe<be;oe++){var Ee=Pl.call(this,C[oe][0],C[oe][1],C[oe][2],Ge[oe][3],!0);v===!1&&(w[Ee]=!0);var Oe=C[oe][0].split("-");Nl({id:Ee,fontName:Oe[0],fontStyle:Oe[1]||""})}hn.publish("addFonts",{fonts:Ut,dictionary:Pt})}).call(m,Ge),ut="F1",nr(s,n),hn.publish("initialized"),m}Yl.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Yl.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Yl.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Yl.prototype.processOwnerPassword=function(e,t){return Rp(Dp(t).substr(0,5),e)},Yl.prototype.encryptor=function(e,t){var n=Dp(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return Rp(n,i)}},$d.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||$n(e)!==$n(this))return!1;var i=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&i--;return i===0},Nt.API={events:[]},Nt.version="3.0.4";var ro=Nt.API,gh=1,Ll=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wl=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ht=function(e){return e.toFixed(2)},Sr=function(e){return e.toFixed(5)};ro.__acroform__={};var Fi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Xv=function(e){return e*gh},bs=function(e){var t=new b0,n=At.internal.getHeight(e)||0,i=At.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ht(i)),Number(Ht(n))],t},qA=ro.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},HA=ro.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},GA=ro.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},mo=ro.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return GA(e,t-1)},vo=ro.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return qA(e,t-1)},go=ro.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return HA(e,t-1)},WA=ro.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,s=e[0],r=e[1],l=e[2],c=e[3],d={};return d.lowerLeft_X=n(s)||0,d.lowerLeft_Y=i(r+c)||0,d.upperRight_X=n(s+l)||0,d.upperRight_Y=i(r)||0,[Number(Ht(d.lowerLeft_X)),Number(Ht(d.lowerLeft_Y)),Number(Ht(d.upperRight_X)),Number(Ht(d.upperRight_Y))]},ZA=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,i=Op(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Ht(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var r=bs(e);return r.scope=e.scope,r.stream=t.join(`
`),r}},Op=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(x){return x.split(`
`)}):s.map(function(x){return[x]});var r=n,l=At.internal.getHeight(e)||0;l=l<0?-l:l;var c=At.internal.getWidth(e)||0;c=c<0?-c:c;var d=function(x,$,Z){if(x+1<s.length){var b=$+" "+s[x+1][0];return Ju(b,e,Z).width<=c-4}return!1};r++;e:for(;r>0;){t="",r--;var p,f,v=Ju("3",e,r).height,w=e.multiline?l-r:(l-v)/2,m=w+=2,y=0,A=0,N=0;if(r<=0){t=`(...) Tj
`,t+="% Width of Text: "+Ju(t,e,r=12).width+", FieldWidth:"+c+`
`;break}for(var k="",T=0,I=0;I<s.length;I++)if(s.hasOwnProperty(I)){var j=!1;if(s[I].length!==1&&N!==s[I].length-1){if((v+2)*(T+2)+2>l)continue e;k+=s[I][N],j=!0,A=I,I--}else{k=(k+=s[I][N]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var K=parseInt(I),W=d(K,k,r),H=I>=s.length-1;if(W&&!H){k+=" ",N=0;continue}if(W||H){if(H)A=K;else if(e.multiline&&(v+2)*(T+2)+2>l)continue e}else{if(!e.multiline||(v+2)*(T+2)+2>l)continue e;A=K}}for(var F="",R=y;R<=A;R++){var z=s[R];if(e.multiline){if(R===A){F+=z[N]+" ",N=(N+1)%z.length;continue}if(R===y){F+=z[z.length-1]+" ";continue}}F+=z[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,f=Ju(F,e,r).width,e.textAlign){case"right":p=c-f-2;break;case"center":p=(c-f)/2;break;default:p=2}t+=Ht(p)+" "+Ht(m)+` Td
`,t+="("+Ll(F)+`) Tj
`,t+=-Ht(p)+` 0 Td
`,m=-(r+2),f=0,y=j?A:A+1,T++,k=""}break}return i.text=t,i.fontSize=r,i},Ju=function(e,t,n){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},KA={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},JA=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},YA=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ts.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(KA)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");gh=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new y0,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in i)if(i.hasOwnProperty(s)){var r=i[s];r.objId=void 0,r.hasAnnotation&&JA(r,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(i,s){var r=!i;for(var l in i||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(l)){var c=i[l],d=[],p=c.Rect;if(c.Rect&&(c.Rect=WA(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=At.createDefaultAppearanceStream(c),$n(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(d=c.getKeyValueListForStream()),c.Rect=p,c.hasAppearanceStream&&!c.appearanceStreamContent){var f=ZA(c);d.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(c.appearanceStreamContent){var v="";for(var w in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(w)){var m=c.appearanceStreamContent[w];if(v+="/"+w+" ",v+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var l in m)if(m.hasOwnProperty(l)){var y=m[l];typeof y=="function"&&(y=y.call(s,c)),v+="/"+l+" "+y+" ",s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y)}}else typeof(y=m)=="function"&&(y=y.call(s,c)),v+="/"+l+" "+y,s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y);v+=">>"}d.push({key:"AP",value:`<<
`+v+">>"})}s.internal.putStream({additionalKeyValues:d,objectId:c.objId}),s.internal.out("endobj")}r&&function(A,N){for(var k in A)if(A.hasOwnProperty(k)){var T=k,I=A[k];N.internal.newObjectDeferredBegin(I.objId,!0),$n(I)==="object"&&typeof I.putStream=="function"&&I.putStream(),delete A[T]}}(s.internal.acroformPlugin.xForms,s)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},_0=ro.__acroform__.arrayToPdfArray=function(e,t,n){var i=function(l){return l};if(Array.isArray(e)){for(var s="[",r=0;r<e.length;r++)switch(r!==0&&(s+=" "),$n(e[r])){case"boolean":case"number":case"object":s+=e[r].toString();break;case"string":e[r].substr(0,1)!=="/"?(t!==void 0&&n&&(i=n.internal.getEncryptor(t)),s+="("+Ll(i(e[r].toString()))+")"):s+=e[r].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Xf=function(e,t,n){var i=function(s){return s};return t!==void 0&&n&&(i=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Ll(i(e))+")"},As=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};As.prototype.toString=function(){return this.objId+" 0 R"},As.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},As.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(r){return r!="content"&&r!="appearanceStreamContent"&&r!="scope"&&r!="objId"&&r.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var i=t[n],s=this[i];s&&(Array.isArray(s)?e.push({key:i,value:_0(s,this.objId,this.scope)}):s instanceof As?(s.scope=this.scope,e.push({key:i,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:i,value:s}))}return e};var b0=function(){As.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Fi(b0,As);var y0=function(){As.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Ll(n(e))+")"}},set:function(n){e=n}})};Fi(y0,As);var ts=function e(){As.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');t=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!mo(t,3)},set:function(k){k?this.F=vo(t,3):this.F=go(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');n=k}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(k){i=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(k){i[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(k){i[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(k){i[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(k){i[3]=k}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var r=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!r||r.length<1){if(this instanceof Td)return;r="FieldObject"+e.FieldNum++}var k=function(T){return T};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+Ll(k(r))+")"},set:function(k){r=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return r},set:function(k){r=k}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(k){l=k}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(k){c=k}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(k){d=k}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/gh:p},set:function(k){p=k}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(k){f=k}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof Td||this instanceof bl))return Xf(v,this.objId,this.scope)},set:function(k){k=k.toString(),v=k}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Do==0?Xf(w,this.objId,this.scope):w},set:function(k){k=k.toString(),w=this instanceof Do==0?k.substr(0,1)==="("?Wl(k.substr(1,k.length-2)):Wl(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Do==1?Wl(w.substr(1,w.length-1)):w},set:function(k){k=k.toString(),w=this instanceof Do==1?"/"+k:k}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Do==0?Xf(m,this.objId,this.scope):m},set:function(k){k=k.toString(),m=this instanceof Do==0?k.substr(0,1)==="("?Wl(k.substr(1,k.length-2)):Wl(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Do==1?Wl(m.substr(1,m.length-1)):m},set:function(k){k=k.toString(),m=this instanceof Do==1?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(k){k=!!k,A=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(k){y=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,1)},set:function(k){k?this.Ff=vo(this.Ff,1):this.Ff=go(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,2)},set:function(k){k?this.Ff=vo(this.Ff,2):this.Ff=go(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,3)},set:function(k){k?this.Ff=vo(this.Ff,3):this.Ff=go(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');N=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(N){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Fi(ts,As);var sc=function(){ts.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return _0(t,this.objId,this.scope)},set:function(n){var i,s;s=[],typeof(i=n)=="string"&&(s=function(r,l,c){c||(c=1);for(var d,p=[];d=l.exec(r);)p.push(d[c]);return p}(i,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,18)},set:function(n){n?this.Ff=vo(this.Ff,18):this.Ff=go(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=vo(this.Ff,19):this.Ff=go(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,20)},set:function(n){n?(this.Ff=vo(this.Ff,20),t.sort()):this.Ff=go(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,22)},set:function(n){n?this.Ff=vo(this.Ff,22):this.Ff=go(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,23)},set:function(n){n?this.Ff=vo(this.Ff,23):this.Ff=go(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,27)},set:function(n){n?this.Ff=vo(this.Ff,27):this.Ff=go(this.Ff,27)}}),this.hasAppearanceStream=!1};Fi(sc,ts);var rc=function(){sc.call(this),this.fontName="helvetica",this.combo=!1};Fi(rc,sc);var lc=function(){rc.call(this),this.combo=!0};Fi(lc,rc);var fd=function(){lc.call(this),this.edit=!0};Fi(fd,lc);var Do=function(){ts.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,15)},set:function(n){n?this.Ff=vo(this.Ff,15):this.Ff=go(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,16)},set:function(n){n?this.Ff=vo(this.Ff,16):this.Ff=go(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,17)},set:function(n){n?this.Ff=vo(this.Ff,17):this.Ff=go(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,26)},set:function(n){n?this.Ff=vo(this.Ff,26):this.Ff=go(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(r){return r};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,s=[];for(i in s.push("<<"),t)s.push("/"+i+" ("+Ll(n(t[i]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){$n(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Fi(Do,ts);var pd=function(){Do.call(this),this.pushButton=!0};Fi(pd,Do);var cc=function(){Do.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Fi(cc,Do);var Td=function(){var e,t;ts.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var r,l=[];for(r in l.push("<<"),i)l.push("/"+r+" ("+Ll(s(i[r]))+")");return l.push(">>"),l.join(`
`)},set:function(s){$n(s)==="object"&&(i=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(s){typeof s=="string"&&(i.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Fi(Td,ts),cc.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},cc.prototype.createOption=function(e){var t=new Td;return t.Parent=this,t.optionName=e,this.Kids.push(t),XA.call(this.scope,t),t};var hd=function(){Do.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};Fi(hd,Do);var bl=function(){ts.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,13)},set:function(t){t?this.Ff=vo(this.Ff,13):this.Ff=go(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,21)},set:function(t){t?this.Ff=vo(this.Ff,21):this.Ff=go(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,23)},set:function(t){t?this.Ff=vo(this.Ff,23):this.Ff=go(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,24)},set:function(t){t?this.Ff=vo(this.Ff,24):this.Ff=go(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,25)},set:function(t){t?this.Ff=vo(this.Ff,25):this.Ff=go(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,26)},set:function(t){t?this.Ff=vo(this.Ff,26):this.Ff=go(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Fi(bl,ts);var md=function(){bl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!mo(this.Ff,14)},set:function(e){e?this.Ff=vo(this.Ff,14):this.Ff=go(this.Ff,14)}}),this.password=!0};Fi(md,bl);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=bs(e);t.scope=e.scope;var n=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),r=Op(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Ht(At.internal.getWidth(e))+" "+Ht(At.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+Ht(r.fontSize)+" Tf "+s),n.push("BT"),n.push(r.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=bs(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=[],r=At.internal.getHeight(e),l=At.internal.getWidth(e),c=Op(e,e.caption);return s.push("1 g"),s.push("0 0 "+Ht(l)+" "+Ht(r)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Ht(l-1)+" "+Ht(r-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+Ht(c.fontSize)+" Tf "+i),s.push(c.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=bs(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ht(At.internal.getWidth(e))+" "+Ht(At.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=At.RadioButton.Circle.YesNormal,t.D[e]=At.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=bs(e);t.scope=e.scope;var n=[],i=At.internal.getWidth(e)<=At.internal.getHeight(e)?At.internal.getWidth(e)/4:At.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var s=At.internal.Bezier_C,r=Number((i*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Sr(At.internal.getWidth(e)/2)+" "+Sr(At.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+r+" "+r+" "+i+" 0 "+i+" c"),n.push("-"+r+" "+i+" -"+i+" "+r+" -"+i+" 0 c"),n.push("-"+i+" -"+r+" -"+r+" -"+i+" 0 -"+i+" c"),n.push(r+" -"+i+" "+i+" -"+r+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=bs(e);t.scope=e.scope;var n=[],i=At.internal.getWidth(e)<=At.internal.getHeight(e)?At.internal.getWidth(e)/4:At.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),r=Number((s*At.internal.Bezier_C).toFixed(5)),l=Number((i*At.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Sr(At.internal.getWidth(e)/2)+" "+Sr(At.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+r+" "+r+" "+s+" 0 "+s+" c"),n.push("-"+r+" "+s+" -"+s+" "+r+" -"+s+" 0 c"),n.push("-"+s+" -"+r+" -"+r+" -"+s+" 0 -"+s+" c"),n.push(r+" -"+s+" "+s+" -"+r+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Sr(At.internal.getWidth(e)/2)+" "+Sr(At.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),n.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),n.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),n.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=bs(e);t.scope=e.scope;var n=[],i=At.internal.getWidth(e)<=At.internal.getHeight(e)?At.internal.getWidth(e)/4:At.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),r=Number((s*At.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Sr(At.internal.getWidth(e)/2)+" "+Sr(At.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+r+" "+r+" "+s+" 0 "+s+" c"),n.push("-"+r+" "+s+" -"+s+" "+r+" -"+s+" 0 c"),n.push("-"+s+" -"+r+" -"+r+" -"+s+" 0 -"+s+" c"),n.push(r+" -"+s+" "+s+" -"+r+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=At.RadioButton.Cross.YesNormal,t.D[e]=At.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=bs(e);t.scope=e.scope;var n=[],i=At.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Ht(At.internal.getWidth(e)-2)+" "+Ht(At.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Ht(i.x1.x)+" "+Ht(i.x1.y)+" m"),n.push(Ht(i.x2.x)+" "+Ht(i.x2.y)+" l"),n.push(Ht(i.x4.x)+" "+Ht(i.x4.y)+" m"),n.push(Ht(i.x3.x)+" "+Ht(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=bs(e);t.scope=e.scope;var n=At.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+Ht(At.internal.getWidth(e))+" "+Ht(At.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Ht(At.internal.getWidth(e)-2)+" "+Ht(At.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(Ht(n.x1.x)+" "+Ht(n.x1.y)+" m"),i.push(Ht(n.x2.x)+" "+Ht(n.x2.y)+" l"),i.push(Ht(n.x4.x)+" "+Ht(n.x4.y)+" m"),i.push(Ht(n.x3.x)+" "+Ht(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=bs(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ht(At.internal.getWidth(e))+" "+Ht(At.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};At.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=At.internal.getWidth(e),n=At.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}}}},At.internal.getWidth=function(e){var t=0;return $n(e)==="object"&&(t=Xv(e.Rect[2])),t},At.internal.getHeight=function(e){var t=0;return $n(e)==="object"&&(t=Xv(e.Rect[3])),t};var XA=ro.addField=function(e){if(YA(this,e),!(e instanceof ts))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ro.AcroFormChoiceField=sc,ro.AcroFormListBox=rc,ro.AcroFormComboBox=lc,ro.AcroFormEditBox=fd,ro.AcroFormButton=Do,ro.AcroFormPushButton=pd,ro.AcroFormRadioButton=cc,ro.AcroFormCheckBox=hd,ro.AcroFormTextField=bl,ro.AcroFormPasswordField=md,ro.AcroFormAppearance=At,ro.AcroForm={ChoiceField:sc,ListBox:rc,ComboBox:lc,EditBox:fd,Button:Do,PushButton:pd,RadioButton:cc,CheckBox:hd,TextField:bl,PasswordField:md,Appearance:At},Nt.AcroForm={ChoiceField:sc,ListBox:rc,ComboBox:lc,EditBox:fd,Button:Do,PushButton:pd,RadioButton:cc,CheckBox:hd,TextField:bl,PasswordField:md,Appearance:At};Nt.AcroForm;function w0(e){return e.reduce(function(t,n,i){return t[n]=i,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(x,$){var Z,b,S,Q,U,le=n;if(($=$||n)==="RGBA"||x.data!==void 0&&x.data instanceof Uint8ClampedArray&&"height"in x&&"width"in x)return"RGBA";if(W(x))for(U in i)for(S=i[U],Z=0;Z<S.length;Z+=1){for(Q=!0,b=0;b<S[Z].length;b+=1)if(S[Z][b]!==void 0&&S[Z][b]!==x[b]){Q=!1;break}if(Q===!0){le=U;break}}else for(U in i)for(S=i[U],Z=0;Z<S.length;Z+=1){for(Q=!0,b=0;b<S[Z].length;b+=1)if(S[Z][b]!==void 0&&S[Z][b]!==x.charCodeAt(b)){Q=!1;break}if(Q===!0){le=U;break}}return le===n&&$!==n&&(le=$),le},r=function x($){for(var Z=this.internal.write,b=this.internal.putStream,S=(0,this.internal.getFilters)();S.indexOf("FlateEncode")!==-1;)S.splice(S.indexOf("FlateEncode"),1);$.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:$.width}),Q.push({key:"Height",value:$.height}),$.colorSpace===k.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+($.palette.length/3-1)+" "+("sMask"in $&&$.sMask!==void 0?$.objectId+2:$.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+$.colorSpace}),$.colorSpace===k.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:$.bitsPerComponent}),"decodeParameters"in $&&$.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+$.decodeParameters+">>"}),"transparency"in $&&Array.isArray($.transparency)&&$.transparency.length>0){for(var U="",le=0,xe=$.transparency.length;le<xe;le++)U+=$.transparency[le]+" "+$.transparency[le]+" ";Q.push({key:"Mask",value:"["+U+"]"})}$.sMask!==void 0&&Q.push({key:"SMask",value:$.objectId+1+" 0 R"});var ke=$.filter!==void 0?["/"+$.filter]:void 0;if(b({data:$.data,additionalKeyValues:Q,alreadyAppliedFilters:ke,objectId:$.objectId}),Z("endobj"),"sMask"in $&&$.sMask!==void 0){var Le,X=(Le=$.sMaskBitsPerComponent)!==null&&Le!==void 0?Le:$.bitsPerComponent,he={width:$.width,height:$.height,colorSpace:"DeviceGray",bitsPerComponent:X,data:$.sMask};"filter"in $&&(he.decodeParameters="/Predictor ".concat($.predictor," /Colors 1 /BitsPerComponent ").concat(X," /Columns ").concat($.width),he.filter=$.filter),x.call(this,he)}if($.colorSpace===k.INDEXED){var J=this.internal.newObject();b({data:F(new Uint8Array($.palette)),objectId:J}),Z("endobj")}},l=function(){var x=this.internal.collections[t+"images"];for(var $ in x)r.call(this,x[$])},c=function(){var x,$=this.internal.collections[t+"images"],Z=this.internal.write;for(var b in $)Z("/I"+(x=$[b]).index,x.objectId,"0","R")},d=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},p=function(){var x=this.internal.collections[t+"images"];return d.call(this),x},f=function(){return Object.keys(this.internal.collections[t+"images"]).length},v=function(x){return typeof e["process"+x.toUpperCase()]=="function"},w=function(x){return $n(x)==="object"&&x.nodeType===1},m=function(x,$){if(x.nodeName==="IMG"&&x.hasAttribute("src")){var Z=""+x.getAttribute("src");if(Z.indexOf("data:image/")===0)return dd(unescape(Z).split("base64,").pop());var b=e.loadFile(Z,!0);if(b!==void 0)return b}if(x.nodeName==="CANVAS"){if(x.width===0||x.height===0)throw new Error("Given canvas must have data. Canvas width: "+x.width+", height: "+x.height);var S;switch($){case"PNG":S="image/png";break;case"WEBP":S="image/webp";break;default:S="image/jpeg"}return dd(x.toDataURL(S,1).split("base64,").pop())}},y=function(x){var $=this.internal.collections[t+"images"];if($){for(var Z in $)if(x===$[Z].alias)return $[Z]}},A=function(x,$,Z){return x||$||(x=-96,$=-96),x<0&&(x=-1*Z.width*72/x/this.internal.scaleFactor),$<0&&($=-1*Z.height*72/$/this.internal.scaleFactor),x===0&&(x=$*Z.width/Z.height),$===0&&($=x*Z.height/Z.width),[x,$]},N=function(x,$,Z,b,S,Q){var U=A.call(this,Z,b,S),le=this.internal.getCoordinateString,xe=this.internal.getVerticalCoordinateString,ke=p.call(this);if(Z=U[0],b=U[1],ke[S.index]=S,Q){Q*=Math.PI/180;var Le=Math.cos(Q),X=Math.sin(Q),he=function(B){return B.toFixed(4)},J=[he(Le),he(X),he(-1*X),he(Le),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,le(x),xe($+b),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([le(Z),"0","0",le(b),"0","0","cm"].join(" "))):this.internal.write([le(Z),"0","0",le(b),le(x),xe($+b),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+S.index+" Do"),this.internal.write("Q")},k=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var T=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=e.__addimage__.sHashCode=function(x){var $,Z,b=0;if(typeof x=="string")for(Z=x.length,$=0;$<Z;$++)b=(b<<5)-b+x.charCodeAt($),b|=0;else if(W(x))for(Z=x.byteLength/2,$=0;$<Z;$++)b=(b<<5)-b+x[$],b|=0;return b},j=e.__addimage__.validateStringAsBase64=function(x){(x=x||"").toString().trim();var $=!0;return x.length===0&&($=!1),x.length%4!=0&&($=!1),/^[A-Za-z0-9+/]+$/.test(x.substr(0,x.length-2))===!1&&($=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(x.substr(-2))===!1&&($=!1),$},K=e.__addimage__.extractImageFromDataUrl=function(x){if(x==null||!(x=x.trim()).startsWith("data:"))return null;var $=x.indexOf(",");return $<0?null:x.substring(0,$).trim().endsWith("base64")?x.substring($+1):null};e.__addimage__.isArrayBuffer=function(x){return x instanceof ArrayBuffer};var W=e.__addimage__.isArrayBufferView=function(x){return x instanceof Int8Array||x instanceof Uint8Array||x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array},H=e.__addimage__.binaryStringToUint8Array=function(x){for(var $=x.length,Z=new Uint8Array($),b=0;b<$;b++)Z[b]=x.charCodeAt(b);return Z},F=e.__addimage__.arrayBufferToBinaryString=function(x){for(var $="",Z=W(x)?x:new Uint8Array(x),b=0;b<Z.length;b+=8192)$+=String.fromCharCode.apply(null,Z.subarray(b,b+8192));return $};e.addImage=function(){var x,$,Z,b,S,Q,U,le,xe;if(typeof arguments[1]=="number"?($=n,Z=arguments[1],b=arguments[2],S=arguments[3],Q=arguments[4],U=arguments[5],le=arguments[6],xe=arguments[7]):($=arguments[1],Z=arguments[2],b=arguments[3],S=arguments[4],Q=arguments[5],U=arguments[6],le=arguments[7],xe=arguments[8]),$n(x=arguments[0])==="object"&&!w(x)&&"imageData"in x){var ke=x;x=ke.imageData,$=ke.format||$||n,Z=ke.x||Z||0,b=ke.y||b||0,S=ke.w||ke.width||S,Q=ke.h||ke.height||Q,U=ke.alias||U,le=ke.compression||le,xe=ke.rotation||ke.angle||xe}var Le=this.internal.getFilters();if(le===void 0&&Le.indexOf("FlateEncode")!==-1&&(le="SLOW"),isNaN(Z)||isNaN(b))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var X=R.call(this,x,$,U,le);return N.call(this,Z,b,S,Q,X,xe),this};var R=function(x,$,Z,b){var S,Q,U;if(typeof x=="string"&&s(x)===n){x=unescape(x);var le=z(x,!1);(le!==""||(le=e.loadFile(x,!0))!==void 0)&&(x=le)}if(w(x)&&(x=m(x,$)),$=s(x,$),!v($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(((U=Z)==null||U.length===0)&&(Z=function(xe){return typeof xe=="string"||W(xe)?I(xe):W(xe.data)?I(xe.data):null}(x)),(S=y.call(this,Z))||(x instanceof Uint8Array||$==="RGBA"||(Q=x,x=H(x)),S=this["process"+$.toUpperCase()](x,f.call(this),Z,function(xe){return xe&&typeof xe=="string"&&(xe=xe.toUpperCase()),xe in e.image_compression?xe:T.NONE}(b),Q)),!S)throw new Error("An unknown error occurred whilst processing the image.");return S},z=e.__addimage__.convertBase64ToBinaryString=function(x,$){$=typeof $!="boolean"||$;var Z,b="";if(typeof x=="string"){var S;Z=(S=K(x))!==null&&S!==void 0?S:x;try{b=dd(Z)}catch(Q){if($)throw j(Z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return b};e.getImageProperties=function(x){var $,Z,b="";if(w(x)&&(x=m(x)),typeof x=="string"&&s(x)===n&&((b=z(x,!1))===""&&(b=e.loadFile(x)||""),x=b),Z=s(x),!v(Z))throw new Error("addImage does not support files of type '"+Z+"', please ensure that a plugin for '"+Z+"' support is added.");if(x instanceof Uint8Array||(x=H(x)),!($=this["process"+Z.toUpperCase()](x)))throw new Error("An unknown error occurred whilst processing the image");return $.fileType=Z,$}})(Nt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Nt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var i,s,r,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(n.objId),p=n.pageContext.annotations,f=!1,v=0;v<p.length&&!f;v++)switch((i=p[v]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var w=0;w<p.length;w++){i=p[w];var m=this.internal.pdfEscape,y=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(A.objId),T=i.title||"Note";r="<</Type /Annot /Subtype /Text "+(s="/Rect ["+l(i.bounds.x)+" "+c(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y)+"] ")+"/Contents ("+m(k(i.contents))+")",r+=" /Popup "+N.objId+" 0 R",r+=" /P "+d.objId+" 0 R",r+=" /T ("+m(k(T))+") >>",A.content=r;var I=A.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+l(i.bounds.x+30)+" "+c(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w+30)+" "+c(i.bounds.y)+"] ")+" /Parent "+I,i.open&&(r+=" /Open true"),r+=" >>",N.content=r,this.internal.write(A.objId,"0 R",N.objId,"0 R");break;case"freetext":s="/Rect ["+l(i.bounds.x)+" "+c(i.bounds.y)+" "+l(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y+i.bounds.h)+"] ";var j=i.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+m(y(i.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(i.options.name){var K=this.annotations._nameMap[i.options.name];i.options.pageNumber=K.page,i.options.top=K.y}else i.options.top||(i.options.top=0);if(s="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",r="",i.options.url)r="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+m(y(i.options.url))+") >>";else if(i.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,r+=" /FitV "+i.options.left+"]";break;default:var W=c(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),r+=" /XYZ "+i.options.left+" "+W+" "+i.options.zoom+"]"}r!=""&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},e.link=function(n,i,s,r,l){var c=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:d(n),y:p(i),w:d(n+s),h:p(i+r)},options:l,type:"link"})},e.textWithLink=function(n,i,s,r){var l,c,d=this.getTextWidth(n),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(r.maxWidth!==void 0){c=r.maxWidth;var f=this.splitTextToSize(n,c).length;l=Math.ceil(p*f)}else c=d,l=p;return this.text(n,i,s,r),s+=.2*p,r.align==="center"&&(i-=d/2),r.align==="right"&&(i-=d),this.link(i,s-p,c,l,r),d},e.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(Nt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var r=e.__arabicParser__.isInArabicSubstitutionA=function(A){return t[A.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},c=e.__arabicParser__.isArabicEndLetter=function(A){return l(A)&&r(A)&&t[A.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(A){return l(A)&&s.indexOf(A.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return l(A)&&r(A)&&t[A.charCodeAt(0)].length>=1};var p=e.__arabicParser__.arabicLetterHasFinalForm=function(A){return l(A)&&r(A)&&t[A.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(A){return l(A)&&r(A)&&t[A.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(A){return l(A)&&r(A)&&t[A.charCodeAt(0)].length==4},v=e.__arabicParser__.resolveLigatures=function(A){var N=0,k=n,T="",I=0;for(N=0;N<A.length;N+=1)k[A.charCodeAt(N)]!==void 0?(I++,typeof(k=k[A.charCodeAt(N)])=="number"&&(T+=String.fromCharCode(k),k=n,I=0),N===A.length-1&&(k=n,T+=A.charAt(N-(I-1)),N-=I-1,I=0)):(k=n,T+=A.charAt(N-I),N-=I,I=0);return T};e.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&i[A.charCodeAt(0)]!==void 0};var w=e.__arabicParser__.getCorrectForm=function(A,N,k){return l(A)?r(A)===!1?-1:!p(A)||!l(N)&&!l(k)||!l(k)&&c(N)||c(A)&&!l(N)||c(A)&&d(N)||c(A)&&c(N)?0:f(A)&&l(N)&&!c(N)&&l(k)&&p(k)?3:c(A)||!l(k)?1:2:-1},m=function(A){var N=0,k=0,T=0,I="",j="",K="",W=(A=A||"").split("\\s+"),H=[];for(N=0;N<W.length;N+=1){for(H.push(""),k=0;k<W[N].length;k+=1)I=W[N][k],j=W[N][k-1],K=W[N][k+1],l(I)?(T=w(I,j,K),H[N]+=T!==-1?String.fromCharCode(t[I.charCodeAt(0)][T]):I):H[N]+=I;H[N]=v(H[N])}return H.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var A,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(N)){var T=0;for(k=[],T=0;T<N.length;T+=1)Array.isArray(N[T])?k.push([m(N[T][0]),N[T][1],N[T][2]]):k.push([m(N[T])]);A=k}else A=m(N);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};e.events.push(["preProcessText",y])}(Nt.API),Nt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(c){r=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,i){var s;if((n=n||"2d")!=="2d")return null;for(s in i)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=i[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Nt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new r,this.internal.__cell__.pages=1},r=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(A){d=A}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(A){p=A}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(A){f=A}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(A){v=A}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(A){w=A}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(A){m=A}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(A){y=A}}),this};r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},r.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return i.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,p){i.call(this);var f=(p=p||{}).fontSize||this.getFontSize(),v=p.font||this.getFont(),w=p.scaleFactor||this.internal.scaleFactor,m=0,y=0,A=0,N=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var k=p.maxWidth;k>0?typeof d=="string"?d=this.splitTextToSize(d,k):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(I,j){return I.concat(N.splitTextToSize(j,k))},[])):d=Array.isArray(d)?d:[d];for(var T=0;T<d.length;T++)m<(A=this.getStringUnitWidth(d[T],{font:v})*f)&&(m=A);return m!==0&&(y=d.length),{w:m/=w,h:Math.max((y*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/w,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new r(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var d;d=arguments[0]instanceof r?arguments[0]:new r(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var p=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,v=this.internal.__cell__.margins||t,w=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===d.lineNumber?(d.x=(p.x||0)+(p.width||0),d.y=p.y||0):p.y+p.height+d.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=v.top,m&&w&&(this.printHeaderRow(d.lineNumber,!0),d.y+=w[0].height)):d.y=p.y+p.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,n===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-f,d.y+f,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+f,{align:"center",baseline:"top",maxWidth:d.width-f-f}):this.text(d.text,d.x+f,d.y+f,{align:"left",baseline:"top",maxWidth:d.width-f-f})),this.internal.__cell__.lastCell=d,this};e.table=function(d,p,f,v,w){if(i.call(this),!f)throw new Error("No data for PDF table.");var m,y,A,N,k=[],T=[],I=[],j={},K={},W=[],H=[],F=(w=w||{}).autoSize||!1,R=w.printHeaders!==!1,z=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,x=w.margins||Object.assign({width:this.getPageWidth()},t),$=typeof w.padding=="number"?w.padding:3,Z=w.headerBackgroundColor||"#c8c8c8",b=w.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=x,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=$,this.internal.__cell__.headerBackgroundColor=Z,this.internal.__cell__.headerTextColor=b,this.setFontSize(z),v==null)T=k=Object.keys(f[0]),I=k.map(function(){return"left"});else if(Array.isArray(v)&&$n(v[0])==="object")for(k=v.map(function(ke){return ke.name}),T=v.map(function(ke){return ke.prompt||ke.name||""}),I=v.map(function(ke){return ke.align||"left"}),m=0;m<v.length;m+=1)K[v[m].name]=.7499990551181103*v[m].width;else Array.isArray(v)&&typeof v[0]=="string"&&(T=k=v,I=k.map(function(){return"left"}));if(F||Array.isArray(v)&&typeof v[0]=="string")for(m=0;m<k.length;m+=1){for(j[N=k[m]]=f.map(function(ke){return ke[N]}),this.setFont(void 0,"bold"),W.push(this.getTextDimensions(T[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=j[N],this.setFont(void 0,"normal"),A=0;A<y.length;A+=1)W.push(this.getTextDimensions(y[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);K[N]=Math.max.apply(null,W)+$+$,W=[]}if(R){var S={};for(m=0;m<k.length;m+=1)S[k[m]]={},S[k[m]].text=T[m],S[k[m]].align=I[m];var Q=c.call(this,S,K);H=k.map(function(ke){return new r(d,p,K[ke],Q,S[ke].text,void 0,S[ke].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var U=v.reduce(function(ke,Le){return ke[Le.name]=Le.align,ke},{});for(m=0;m<f.length;m+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:m,data:f[m]},this);var le=c.call(this,f[m],K);for(A=0;A<k.length;A+=1){var xe=f[m][k[A]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:m,col:A,data:xe},this),l.call(this,new r(d,p,K[k[A]],le,xe,m+2,U[k[A]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=p,this};var c=function(d,p){var f=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(d).map(function(m){var y=d[m];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,p[m]-f-f)},this).map(function(m){return this.getLineHeightFactor()*m.length*v/w+f+f},this).reduce(function(m,y){return Math.max(m,y)},0)};e.setTableHeaderRow=function(d){i.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,p){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new r(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){f=this.internal.__cell__.tableHeaderRow[m].clone(),p&&(f.y=this.internal.__cell__.margins.top||0,w.push(f)),f.lineNumber=d;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,f),this.setTextColor(y)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),n=!1}}(Nt.API);var x0={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},A0=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Mp=w0(A0),S0=[100,200,300,400,500,600,700,800,900],QA=w0(S0);function Qf(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(r){return x0[r=r||"normal"]?r:"normal"}(e.style),i=function(r){return r?typeof r=="number"?r>=100&&r<=900&&r%100==0?r:400:/^\d00$/.test(r)?parseInt(r):r==="bold"?700:400:400}(e.weight),s=function(r){return typeof Mp[r=r||"normal"]=="number"?r:"normal"}(e.stretch);return{family:t,style:n,weight:i,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,i].join(" ")}}}function Qv(e,t,n,i){var s;for(s=n;s>=0&&s<t.length;s+=i)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=i)if(e[t[s]])return e[t[s]]}var eS={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},e1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function t1(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function n1(e){return e.trimLeft()}function tS(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function nS(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Yu,o1,i1,Zl,Xu,a1,s1,r1,ep=["times"];function l1(e,t,n,i,s){var r=4,l=u1;switch(s){case Nt.API.image_compression.FAST:r=1,l=c1;break;case Nt.API.image_compression.MEDIUM:r=6,l=d1;break;case Nt.API.image_compression.SLOW:r=9,l=f1}e=function(d,p,f,v){for(var w,m=d.length/p,y=new Uint8Array(d.length+m),A=[oS,c1,u1,d1,f1],N=0;N<m;N+=1){var k=N*p,T=d.subarray(k,k+p);if(v)y.set(v(T,f,w),k+N);else{for(var I=A.length,j=[],K=0;K<I;K+=1)j[K]=A[K](T,f,w);var W=aS(j.concat());y.set(j[W],k+N)}w=T}return y}(e,t,Math.ceil(n*i/8),l);var c=Pp(e,{level:r});return Nt.API.__addimage__.arrayBufferToBinaryString(c)}function oS(e){var t=Array.apply([],e);return t.unshift(0),t}function c1(e,t){var n=e.length,i=[];i[0]=1;for(var s=0;s<n;s+=1){var r=e[s-t]||0;i[s+1]=e[s]-r+256&255}return i}function u1(e,t,n){var i=e.length,s=[];s[0]=2;for(var r=0;r<i;r+=1){var l=n&&n[r]||0;s[r+1]=e[r]-l+256&255}return s}function d1(e,t,n){var i=e.length,s=[];s[0]=3;for(var r=0;r<i;r+=1){var l=e[r-t]||0,c=n&&n[r]||0;s[r+1]=e[r]+256-(l+c>>>1)&255}return s}function f1(e,t,n){var i=e.length,s=[];s[0]=4;for(var r=0;r<i;r+=1){var l=iS(e[r-t]||0,n&&n[r]||0,n&&n[r-t]||0);s[r+1]=e[r]-l+256&255}return s}function iS(e,t,n){if(e===t&&t===n)return e;var i=Math.abs(t-n),s=Math.abs(e-n),r=Math.abs(e+t-n-n);return i<=s&&i<=r?e:s<=r?t:n}function aS(e){var t=e.map(function(n){return n.reduce(function(i,s){return i+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function tp(e,t,n){var i=t*n,s=Math.floor(i/8),r=16-(i-8*s+n),l=(1<<n)-1;return k0(e,s)>>r&l}function p1(e,t,n,i){var s=n*i,r=Math.floor(s/8),l=16-(s-8*r+i),c=(1<<i)-1,d=(t&c)<<l;(function(p,f,v){if(f+1<p.byteLength)p.setUint16(f,v,!1);else{var w=v>>8&255;p.setUint8(f,w)}})(e,r,k0(e,r)&~(c<<l)&65535|d)}function k0(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function sS(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,s=e[t++],r=s>>7,l=1<<1+(7&s);e[t++],e[t++];var c=null,d=null;r&&(c=t,d=l,t+=3*l);var p=!0,f=[],v=0,w=null,m=0,y=null;for(this.width=n,this.height=i;p&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((x=e[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var A=e[t++];v=e[t++]|e[t++]<<8,w=e[t++],1&A||(w=null),m=A>>2&7,t++;break;case 254:for(;;){if(!((x=e[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var N=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,T=e[t++]|e[t++]<<8,I=e[t++]|e[t++]<<8,j=e[t++],K=j>>6&1,W=1<<1+(7&j),H=c,F=d,R=!1;j>>7&&(R=!0,H=t,F=W,t+=3*W);var z=t;for(t++;;){var x;if(!((x=e[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}f.push({x:N,y:k,width:T,height:I,has_local_palette:R,palette_offset:H,palette_size:F,data_offset:z,data_length:t-z,transparent_index:w,interlaced:!!K,delay:v,disposal:m});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return y},this.frameInfo=function($){if($<0||$>=f.length)throw new Error("Frame index out of range.");return f[$]},this.decodeAndBlitFrameBGRA=function($,Z){var b=this.frameInfo($),S=b.width*b.height,Q=new Uint8Array(S);h1(e,b.data_offset,Q,S);var U=b.palette_offset,le=b.transparent_index;le===null&&(le=256);var xe=b.width,ke=n-xe,Le=xe,X=4*(b.y*n+b.x),he=4*((b.y+b.height)*n+b.x),J=X,B=4*ke;b.interlaced===!0&&(B+=4*n*7);for(var V=8,Y=0,ee=Q.length;Y<ee;++Y){var fe=Q[Y];if(Le===0&&(Le=xe,(J+=B)>=he&&(B=4*ke+4*n*(V-1),J=X+(xe+ke)*(V<<1),V>>=1)),fe===le)J+=4;else{var ae=e[U+3*fe],te=e[U+3*fe+1],se=e[U+3*fe+2];Z[J++]=se,Z[J++]=te,Z[J++]=ae,Z[J++]=255}--Le}},this.decodeAndBlitFrameRGBA=function($,Z){var b=this.frameInfo($),S=b.width*b.height,Q=new Uint8Array(S);h1(e,b.data_offset,Q,S);var U=b.palette_offset,le=b.transparent_index;le===null&&(le=256);var xe=b.width,ke=n-xe,Le=xe,X=4*(b.y*n+b.x),he=4*((b.y+b.height)*n+b.x),J=X,B=4*ke;b.interlaced===!0&&(B+=4*n*7);for(var V=8,Y=0,ee=Q.length;Y<ee;++Y){var fe=Q[Y];if(Le===0&&(Le=xe,(J+=B)>=he&&(B=4*ke+4*n*(V-1),J=X+(xe+ke)*(V<<1),V>>=1)),fe===le)J+=4;else{var ae=e[U+3*fe],te=e[U+3*fe+1],se=e[U+3*fe+2];Z[J++]=ae,Z[J++]=te,Z[J++]=se,Z[J++]=255}--Le}}}function h1(e,t,n,i){for(var s=e[t++],r=1<<s,l=r+1,c=l+1,d=s+1,p=(1<<d)-1,f=0,v=0,w=0,m=e[t++],y=new Int32Array(4096),A=null;;){for(;f<16&&m!==0;)v|=e[t++]<<f,f+=8,m===1?m=e[t++]:--m;if(f<d)break;var N=v&p;if(v>>=d,f-=d,N!==r){if(N===l)break;for(var k=N<c?N:A,T=0,I=k;I>r;)I=y[I]>>8,++T;var j=I;if(w+T+(k!==N?1:0)>i)return void Mn.log("Warning, gif stream longer than expected.");n[w++]=j;var K=w+=T;for(k!==N&&(n[w++]=j),I=k;T--;)I=y[I],n[--K]=255&I,I>>=8;A!==null&&c<4096&&(y[c++]=A<<8|j,c>=p+1&&d<12&&(++d,p=p<<1|1)),A=N}else c=l+1,p=(1<<(d=s+1))-1,A=null}return w!==i&&Mn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function np(e){var t,n,i,s,r,l=Math.floor,c=new Array(64),d=new Array(64),p=new Array(64),f=new Array(64),v=new Array(65535),w=new Array(65535),m=new Array(64),y=new Array(64),A=[],N=0,k=7,T=new Array(64),I=new Array(64),j=new Array(64),K=new Array(256),W=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],x=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Z=[0,1,2,3,4,5,6,7,8,9,10,11],b=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],S=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(X,he){for(var J=0,B=0,V=new Array,Y=1;Y<=16;Y++){for(var ee=1;ee<=X[Y];ee++)V[he[B]]=[],V[he[B]][0]=J,V[he[B]][1]=Y,B++,J++;J*=2}return V}function U(X){for(var he=X[0],J=X[1]-1;J>=0;)he&1<<J&&(N|=1<<k),J--,--k<0&&(N==255?(le(255),le(0)):le(N),k=7,N=0)}function le(X){A.push(X)}function xe(X){le(X>>8&255),le(255&X)}function ke(X,he,J,B,V){for(var Y,ee=V[0],fe=V[240],ae=function(Te,Pe){var De,nt,Ze,dt,Ce,Ue,Je,Re,ut,mt,ft=0;for(ut=0;ut<8;++ut){De=Te[ft],nt=Te[ft+1],Ze=Te[ft+2],dt=Te[ft+3],Ce=Te[ft+4],Ue=Te[ft+5],Je=Te[ft+6];var rn=De+(Re=Te[ft+7]),Kt=De-Re,Ut=nt+Je,Pt=nt-Je,on=Ze+Ue,kt=Ze-Ue,_n=dt+Ce,Mt=dt-Ce,Vt=rn+_n,In=rn-_n,Yt=Ut+on,Ot=Ut-on;Te[ft]=Vt+Yt,Te[ft+4]=Vt-Yt;var hn=.707106781*(Ot+In);Te[ft+2]=In+hn,Te[ft+6]=In-hn;var Es=.382683433*((Vt=Mt+kt)-(Ot=Pt+Kt)),To=.5411961*Vt+Es,ya=1.306562965*Ot+Es,Qi=.707106781*(Yt=kt+Pt),Dt=Kt+Qi,wa=Kt-Qi;Te[ft+5]=wa+To,Te[ft+3]=wa-To,Te[ft+1]=Dt+ya,Te[ft+7]=Dt-ya,ft+=8}for(ft=0,ut=0;ut<8;++ut){De=Te[ft],nt=Te[ft+8],Ze=Te[ft+16],dt=Te[ft+24],Ce=Te[ft+32],Ue=Te[ft+40],Je=Te[ft+48];var xa=De+(Re=Te[ft+56]),bi=De-Re,yi=nt+Je,dn=nt-Je,gt=Ze+Ue,yo=Ze-Ue,os=dt+Ce,Aa=dt-Ce,wi=xa+os,xi=xa-os,Ai=yi+gt,Io=yi-gt;Te[ft]=wi+Ai,Te[ft+32]=wi-Ai;var ai=.707106781*(Io+xi);Te[ft+16]=xi+ai,Te[ft+48]=xi-ai;var Ls=.382683433*((wi=Aa+yo)-(Io=dn+bi)),ea=.5411961*wi+Ls,Ns=1.306562965*Io+Ls,Qs=.707106781*(Ai=yo+dn),Ps=bi+Qs,er=bi-Qs;Te[ft+40]=er+ea,Te[ft+24]=er-ea,Te[ft+8]=Ps+Ns,Te[ft+56]=Ps-Ns,ft++}for(ut=0;ut<64;++ut)mt=Te[ut]*Pe[ut],m[ut]=mt>0?mt+.5|0:mt-.5|0;return m}(X,he),te=0;te<64;++te)y[H[te]]=ae[te];var se=y[0]-J;J=y[0],se==0?U(B[0]):(U(B[w[Y=32767+se]]),U(v[Y]));for(var de=63;de>0&&y[de]==0;)de--;if(de==0)return U(ee),J;for(var Ae,ne=1;ne<=de;){for(var ge=ne;y[ne]==0&&ne<=de;)++ne;var Me=ne-ge;if(Me>=16){Ae=Me>>4;for(var Ge=1;Ge<=Ae;++Ge)U(fe);Me&=15}Y=32767+y[ne],U(V[(Me<<4)+w[Y]]),U(v[Y]),ne++}return de!=63&&U(ee),J}function Le(X){X=Math.min(Math.max(X,1),100),r!=X&&(function(he){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],B=0;B<64;B++){var V=l((J[B]*he+50)/100);V=Math.min(Math.max(V,1),255),c[H[B]]=V}for(var Y=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ee=0;ee<64;ee++){var fe=l((Y[ee]*he+50)/100);fe=Math.min(Math.max(fe,1),255),d[H[ee]]=fe}for(var ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],te=0,se=0;se<8;se++)for(var de=0;de<8;de++)p[te]=1/(c[H[te]]*ae[se]*ae[de]*8),f[te]=1/(d[H[te]]*ae[se]*ae[de]*8),te++}(X<50?Math.floor(5e3/X):Math.floor(200-2*X)),r=X)}this.encode=function(X,he){he&&Le(he),A=new Array,N=0,k=7,xe(65496),xe(65504),xe(16),le(74),le(70),le(73),le(70),le(0),le(1),le(1),le(0),xe(1),xe(1),le(0),le(0),function(){xe(65499),xe(132),le(0);for(var nt=0;nt<64;nt++)le(c[nt]);le(1);for(var Ze=0;Ze<64;Ze++)le(d[Ze])}(),function(nt,Ze){xe(65472),xe(17),le(8),xe(Ze),xe(nt),le(3),le(1),le(17),le(0),le(2),le(17),le(1),le(3),le(17),le(1)}(X.width,X.height),function(){xe(65476),xe(418),le(0);for(var nt=0;nt<16;nt++)le(F[nt+1]);for(var Ze=0;Ze<=11;Ze++)le(R[Ze]);le(16);for(var dt=0;dt<16;dt++)le(z[dt+1]);for(var Ce=0;Ce<=161;Ce++)le(x[Ce]);le(1);for(var Ue=0;Ue<16;Ue++)le($[Ue+1]);for(var Je=0;Je<=11;Je++)le(Z[Je]);le(17);for(var Re=0;Re<16;Re++)le(b[Re+1]);for(var ut=0;ut<=161;ut++)le(S[ut])}(),xe(65498),xe(12),le(3),le(1),le(0),le(2),le(17),le(3),le(17),le(0),le(63),le(0);var J=0,B=0,V=0;N=0,k=7,this.encode.displayName="_encode_";for(var Y,ee,fe,ae,te,se,de,Ae,ne,ge=X.data,Me=X.width,Ge=X.height,Te=4*Me,Pe=0;Pe<Ge;){for(Y=0;Y<Te;){for(te=Te*Pe+Y,de=-1,Ae=0,ne=0;ne<64;ne++)se=te+(Ae=ne>>3)*Te+(de=4*(7&ne)),Pe+Ae>=Ge&&(se-=Te*(Pe+1+Ae-Ge)),Y+de>=Te&&(se-=Y+de-Te+4),ee=ge[se++],fe=ge[se++],ae=ge[se++],T[ne]=(W[ee]+W[fe+256|0]+W[ae+512|0]>>16)-128,I[ne]=(W[ee+768|0]+W[fe+1024|0]+W[ae+1280|0]>>16)-128,j[ne]=(W[ee+1280|0]+W[fe+1536|0]+W[ae+1792|0]>>16)-128;J=ke(T,p,J,t,i),B=ke(I,f,B,n,s),V=ke(j,f,V,n,s),Y+=32}Pe+=8}if(k>=0){var De=[];De[1]=k+1,De[0]=(1<<k+1)-1,U(De)}return xe(65497),new Uint8Array(A)},e=e||50,function(){for(var X=String.fromCharCode,he=0;he<256;he++)K[he]=X(he)}(),t=Q(F,R),n=Q($,Z),i=Q(z,x),s=Q(b,S),function(){for(var X=1,he=2,J=1;J<=15;J++){for(var B=X;B<he;B++)w[32767+B]=J,v[32767+B]=[],v[32767+B][1]=J,v[32767+B][0]=B;for(var V=-(he-1);V<=-X;V++)w[32767+V]=J,v[32767+V]=[],v[32767+V][1]=J,v[32767+V][0]=he-1+V;X<<=1,he<<=1}}(),function(){for(var X=0;X<256;X++)W[X]=19595*X,W[X+256|0]=38470*X,W[X+512|0]=7471*X+32768,W[X+768|0]=-11059*X,W[X+1024|0]=-21709*X,W[X+1280|0]=32768*X+8421375,W[X+1536|0]=-27439*X,W[X+1792|0]=-5329*X}(),Le(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ha(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function m1(e){function t(R){if(!R)throw Error("assert :P")}function n(R,z,x){for(var $=0;4>$;$++)if(R[z+$]!=x.charCodeAt($))return!0;return!1}function i(R,z,x,$,Z){for(var b=0;b<Z;b++)R[z+b]=x[$+b]}function s(R,z,x,$){for(var Z=0;Z<$;Z++)R[z+Z]=x}function r(R){return new Int32Array(R)}function l(R,z){for(var x=[],$=0;$<R;$++)x.push(new z);return x}function c(R,z){var x=[];return function $(Z,b,S){for(var Q=S[b],U=0;U<Q&&(Z.push(S.length>b+1?[]:new z),!(S.length<b+1));U++)$(Z[U],b+1,S)}(x,0,R),x}var d=function(){var R=this;function z(h,_){for(var O=1<<_-1>>>0;h&O;)O>>>=1;return O?(h&O-1)+O:h}function x(h,_,O,q,ie){t(!(q%O));do h[_+(q-=O)]=ie;while(0<q)}function $(h,_,O,q,ie){if(t(2328>=ie),512>=ie)var re=r(512);else if((re=r(ie))==null)return 0;return function(ue,pe,me,ye,Ne,Ve){var we,Ie,Fe=pe,Qe=1<<me,ze=r(16),et=r(16);for(t(Ne!=0),t(ye!=null),t(ue!=null),t(0<me),Ie=0;Ie<Ne;++Ie){if(15<ye[Ie])return 0;++ze[ye[Ie]]}if(ze[0]==Ne)return 0;for(et[1]=0,we=1;15>we;++we){if(ze[we]>1<<we)return 0;et[we+1]=et[we]+ze[we]}for(Ie=0;Ie<Ne;++Ie)we=ye[Ie],0<ye[Ie]&&(Ve[et[we]++]=Ie);if(et[15]==1)return(ye=new Z).g=0,ye.value=Ve[0],x(ue,Fe,1,Qe,ye),Qe;var tt,ct=-1,st=Qe-1,Lt=0,xt=1,Qt=1,Ct=1<<me;for(Ie=0,we=1,Ne=2;we<=me;++we,Ne<<=1){if(xt+=Qt<<=1,0>(Qt-=ze[we]))return 0;for(;0<ze[we];--ze[we])(ye=new Z).g=we,ye.value=Ve[Ie++],x(ue,Fe+Lt,Ne,Ct,ye),Lt=z(Lt,we)}for(we=me+1,Ne=2;15>=we;++we,Ne<<=1){if(xt+=Qt<<=1,0>(Qt-=ze[we]))return 0;for(;0<ze[we];--ze[we]){if(ye=new Z,(Lt&st)!=ct){for(Fe+=Ct,tt=1<<(ct=we)-me;15>ct&&!(0>=(tt-=ze[ct]));)++ct,tt<<=1;Qe+=Ct=1<<(tt=ct-me),ue[pe+(ct=Lt&st)].g=tt+me,ue[pe+ct].value=Fe-pe-ct}ye.g=we-me,ye.value=Ve[Ie++],x(ue,Fe+(Lt>>me),Ne,Ct,ye),Lt=z(Lt,we)}}return xt!=2*et[15]-1?0:Qe}(h,_,O,q,ie,re)}function Z(){this.value=this.g=0}function b(){this.value=this.g=0}function S(){this.G=l(5,Z),this.H=r(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(aa,b)}function Q(h,_,O,q){t(h!=null),t(_!=null),t(2147483648>q),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=_,h.pa=O,h.Jd=_,h.Yc=O+q,h.Zc=4<=q?O+q-4+1:O,ee(h)}function U(h,_){for(var O=0;0<_--;)O|=ae(h,128)<<_;return O}function le(h,_){var O=U(h,_);return fe(h)?-O:O}function xe(h,_,O,q){var ie,re=0;for(t(h!=null),t(_!=null),t(4294967288>q),h.Sb=q,h.Ra=0,h.u=0,h.h=0,4<q&&(q=4),ie=0;ie<q;++ie)re+=_[O+ie]<<8*ie;h.Ra=re,h.bb=q,h.oa=_,h.pa=O}function ke(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Ui-8>>>0,++h.bb,h.u-=8;B(h)&&(h.h=1,h.u=0)}function Le(h,_){if(t(0<=_),!h.h&&_<=no){var O=J(h)&ri[_];return h.u+=_,ke(h),O}return h.h=1,h.u=0}function X(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function he(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(h){return h.Ra>>>(h.u&Ui-1)>>>0}function B(h){return t(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Ui}function V(h,_){h.u=_,h.h=B(h)}function Y(h){h.u>=Ba&&(t(h.u>=Ba),ke(h))}function ee(h){t(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(t(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function fe(h){return U(h,1)}function ae(h,_){var O=h.Ca;0>h.b&&ee(h);var q=h.b,ie=O*_>>>8,re=(h.I>>>q>ie)+0;for(re?(O-=ie,h.I-=ie+1<<q>>>0):O=ie+1,q=O,ie=0;256<=q;)ie+=8,q>>=8;return q=7^ie+sa[q],h.b-=q,h.Ca=(O<<q)-1,re}function te(h,_,O){h[_+0]=O>>24&255,h[_+1]=O>>16&255,h[_+2]=O>>8&255,h[_+3]=255&O}function se(h,_){return h[_+0]|h[_+1]<<8}function de(h,_){return se(h,_)|h[_+2]<<16}function Ae(h,_){return se(h,_)|se(h,_+2)<<16}function ne(h,_){var O=1<<_;return t(h!=null),t(0<_),h.X=r(O),h.X==null?0:(h.Mb=32-_,h.Xa=_,1)}function ge(h,_){t(h!=null),t(_!=null),t(h.Xa==_.Xa),i(_.X,0,h.X,0,1<<_.Xa)}function Me(){this.X=[],this.Xa=this.Mb=0}function Ge(h,_,O,q){t(O!=null),t(q!=null);var ie=O[0],re=q[0];return ie==0&&(ie=(h*re+_/2)/_),re==0&&(re=(_*ie+h/2)/h),0>=ie||0>=re?0:(O[0]=ie,q[0]=re,1)}function Te(h,_){return h+(1<<_)-1>>>_}function Pe(h,_){return((4278255360&h)+(4278255360&_)>>>0&4278255360)+((16711935&h)+(16711935&_)>>>0&16711935)>>>0}function De(h,_){R[_]=function(O,q,ie,re,ue,pe,me){var ye;for(ye=0;ye<ue;++ye){var Ne=R[h](pe[me+ye-1],ie,re+ye);pe[me+ye]=Pe(O[q+ye],Ne)}}}function nt(){this.ud=this.hd=this.jd=0}function Ze(h,_){return((4278124286&(h^_))>>>1)+(h&_)>>>0}function dt(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Ce(h,_){return dt(h+(h-_+.5>>1))}function Ue(h,_,O){return Math.abs(_-O)-Math.abs(h-O)}function Je(h,_,O,q,ie,re,ue){for(q=re[ue-1],O=0;O<ie;++O)re[ue+O]=q=Pe(h[_+O],q)}function Re(h,_,O,q,ie){var re;for(re=0;re<O;++re){var ue=h[_+re],pe=ue>>8&255,me=16711935&(me=(me=16711935&ue)+((pe<<16)+pe));q[ie+re]=(4278255360&ue)+me>>>0}}function ut(h,_){_.jd=255&h,_.hd=h>>8&255,_.ud=h>>16&255}function mt(h,_,O,q,ie,re){var ue;for(ue=0;ue<q;++ue){var pe=_[O+ue],me=pe>>>8,ye=pe,Ne=255&(Ne=(Ne=pe>>>16)+((h.jd<<24>>24)*(me<<24>>24)>>>5));ye=255&(ye=(ye+=(h.hd<<24>>24)*(me<<24>>24)>>>5)+((h.ud<<24>>24)*(Ne<<24>>24)>>>5)),ie[re+ue]=(4278255360&pe)+(Ne<<16)+ye}}function ft(h,_,O,q,ie){R[_]=function(re,ue,pe,me,ye,Ne,Ve,we,Ie){for(me=Ve;me<we;++me)for(Ve=0;Ve<Ie;++Ve)ye[Ne++]=ie(pe[q(re[ue++])])},R[h]=function(re,ue,pe,me,ye,Ne,Ve){var we=8>>re.b,Ie=re.Ea,Fe=re.K[0],Qe=re.w;if(8>we)for(re=(1<<re.b)-1,Qe=(1<<we)-1;ue<pe;++ue){var ze,et=0;for(ze=0;ze<Ie;++ze)ze&re||(et=q(me[ye++])),Ne[Ve++]=ie(Fe[et&Qe]),et>>=we}else R["VP8LMapColor"+O](me,ye,Fe,Qe,Ne,Ve,ue,pe,Ie)}}function rn(h,_,O,q,ie){for(O=_+O;_<O;){var re=h[_++];q[ie++]=re>>16&255,q[ie++]=re>>8&255,q[ie++]=255&re}}function Kt(h,_,O,q,ie){for(O=_+O;_<O;){var re=h[_++];q[ie++]=re>>16&255,q[ie++]=re>>8&255,q[ie++]=255&re,q[ie++]=re>>24&255}}function Ut(h,_,O,q,ie){for(O=_+O;_<O;){var re=(ue=h[_++])>>16&240|ue>>12&15,ue=240&ue|ue>>28&15;q[ie++]=re,q[ie++]=ue}}function Pt(h,_,O,q,ie){for(O=_+O;_<O;){var re=(ue=h[_++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;q[ie++]=re,q[ie++]=ue}}function on(h,_,O,q,ie){for(O=_+O;_<O;){var re=h[_++];q[ie++]=255&re,q[ie++]=re>>8&255,q[ie++]=re>>16&255}}function kt(h,_,O,q,ie,re){if(re==0)for(O=_+O;_<O;)te(q,((re=h[_++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),ie+=32;else i(q,ie,h,_,O)}function _n(h,_){R[_][0]=R[h+"0"],R[_][1]=R[h+"1"],R[_][2]=R[h+"2"],R[_][3]=R[h+"3"],R[_][4]=R[h+"4"],R[_][5]=R[h+"5"],R[_][6]=R[h+"6"],R[_][7]=R[h+"7"],R[_][8]=R[h+"8"],R[_][9]=R[h+"9"],R[_][10]=R[h+"10"],R[_][11]=R[h+"11"],R[_][12]=R[h+"12"],R[_][13]=R[h+"13"],R[_][14]=R[h+"0"],R[_][15]=R[h+"0"]}function Mt(h){return h==Bl||h==jl||h==zl||h==a}function Vt(){this.eb=[],this.size=this.A=this.fb=0}function In(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Vt,this.f.kb=new In,this.sd=null}function Ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function hn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Es(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function To(h,_){var O=h.T,q=_.ba.f.RGBA,ie=q.eb,re=q.fb+h.ka*q.A,ue=Oo[_.ba.S],pe=h.y,me=h.O,ye=h.f,Ne=h.N,Ve=h.ea,we=h.W,Ie=_.cc,Fe=_.dc,Qe=_.Mc,ze=_.Nc,et=h.ka,tt=h.ka+h.T,ct=h.U,st=ct+1>>1;for(et==0?ue(pe,me,null,null,ye,Ne,Ve,we,ye,Ne,Ve,we,ie,re,null,null,ct):(ue(_.ec,_.fc,pe,me,Ie,Fe,Qe,ze,ye,Ne,Ve,we,ie,re-q.A,ie,re,ct),++O);et+2<tt;et+=2)Ie=ye,Fe=Ne,Qe=Ve,ze=we,Ne+=h.Rc,we+=h.Rc,re+=2*q.A,ue(pe,(me+=2*h.fa)-h.fa,pe,me,Ie,Fe,Qe,ze,ye,Ne,Ve,we,ie,re-q.A,ie,re,ct);return me+=h.fa,h.j+tt<h.o?(i(_.ec,_.fc,pe,me,ct),i(_.cc,_.dc,ye,Ne,st),i(_.Mc,_.Nc,Ve,we,st),O--):1&tt||ue(pe,me,null,null,ye,Ne,Ve,we,ye,Ne,Ve,we,ie,re+q.A,null,null,ct),O}function ya(h,_,O){var q=h.F,ie=[h.J];if(q!=null){var re=h.U,ue=_.ba.S,pe=ue==al||ue==zl;_=_.ba.f.RGBA;var me=[0],ye=h.ka;me[0]=h.T,h.Kb&&(ye==0?--me[0]:(--ye,ie[0]-=h.width),h.j+h.ka+h.T==h.o&&(me[0]=h.o-h.j-ye));var Ne=_.eb;ye=_.fb+ye*_.A,h=Ac(q,ie[0],h.width,re,me,Ne,ye+(pe?0:3),_.A),t(O==me),h&&Mt(ue)&&da(Ne,ye,pe,re,me,_.A)}return 0}function Qi(h){var _=h.ma,O=_.ba.S,q=11>O,ie=O==ol||O==il||O==al||O==Fl||O==12||Mt(O);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!el(_.Oa,h,ie?11:12))return 0;if(ie&&Mt(O)&&Ra(),h.da)alert("todo:use_scaling");else{if(q){if(_.Ib=Es,h.Kb){if(O=h.U+1>>1,_.memory=r(h.U+2*O),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+h.U,_.Mc=_.cc,_.Nc=_.dc+O,_.Ib=To,Ra()}}else alert("todo:EmitYUV");ie&&(_.Jb=ya,q&&So())}if(q&&!bh){for(h=0;256>h;++h)O0[h]=89858*(h-128)+Lu>>Eu,B0[h]=-22014*(h-128)+Lu,F0[h]=-45773*(h-128),M0[h]=113618*(h-128)+Lu>>Eu;for(h=Nc;h<rf;++h)_=76283*(h-16)+Lu>>Eu,j0[h-Nc]=Wt(_,255),z0[h-Nc]=Wt(_+8>>4,15);bh=1}return 1}function Dt(h){var _=h.ma,O=h.U,q=h.T;return t(!(1&h.ka)),0>=O||0>=q?0:(O=_.Ib(h,_),_.Jb!=null&&_.Jb(h,_,O),_.Dc+=O,1)}function wa(h){h.ma.memory=null}function xa(h,_,O,q){return Le(h,8)!=47?0:(_[0]=Le(h,14)+1,O[0]=Le(h,14)+1,q[0]=Le(h,1),Le(h,3)!=0?0:!h.h)}function bi(h,_){if(4>h)return h+1;var O=h-2>>1;return(2+(1&h)<<O)+Le(_,O)+1}function yi(h,_){return 120<_?_-120:1<=(O=((O=Se[_-1])>>4)*h+(8-(15&O)))?O:1;var O}function dn(h,_,O){var q=J(O),ie=h[_+=255&q].g-8;return 0<ie&&(V(O,O.u+8),q=J(O),_+=h[_].value,_+=q&(1<<ie)-1),V(O,O.u+h[_].g),h[_].value}function gt(h,_,O){return O.g+=h.g,O.value+=h.value<<_>>>0,t(8>=O.g),h.g}function yo(h,_,O){var q=h.xc;return t((_=q==0?0:h.vc[h.md*(O>>q)+(_>>q)])<h.Wb),h.Ya[_]}function os(h,_,O,q){var ie=h.ab,re=h.c*_,ue=h.C;_=ue+_;var pe=O,me=q;for(q=h.Ta,O=h.Ua;0<ie--;){var ye=h.gc[ie],Ne=ue,Ve=_,we=pe,Ie=me,Fe=(me=q,pe=O,ye.Ea);switch(t(Ne<Ve),t(Ve<=ye.nc),ye.hc){case 2:Yn(we,Ie,(Ve-Ne)*Fe,me,pe);break;case 0:var Qe=Ne,ze=Ve,et=me,tt=pe,ct=(Ct=ye).Ea;Qe==0&&(tl(we,Ie,null,null,1,et,tt),Je(we,Ie+1,0,0,ct-1,et,tt+1),Ie+=ct,tt+=ct,++Qe);for(var st=1<<Ct.b,Lt=st-1,xt=Te(ct,Ct.b),Qt=Ct.K,Ct=Ct.w+(Qe>>Ct.b)*xt;Qe<ze;){var sn=Qt,Co=Ct,en=1;for(Ho(we,Ie,et,tt-ct,1,et,tt);en<ct;){var Et=(en&~Lt)+st;Et>ct&&(Et=ct),(0,fr[sn[Co++]>>8&15])(we,Ie+ +en,et,tt+en-ct,Et-en,et,tt+en),en=Et}Ie+=ct,tt+=ct,++Qe&Lt||(Ct+=xt)}Ve!=ye.nc&&i(me,pe-Fe,me,pe+(Ve-Ne-1)*Fe,Fe);break;case 1:for(Fe=we,ze=Ie,ct=(we=ye.Ea)-(tt=we&~(et=(Ie=1<<ye.b)-1)),Qe=Te(we,ye.b),st=ye.K,ye=ye.w+(Ne>>ye.b)*Qe;Ne<Ve;){for(Lt=st,xt=ye,Qt=new nt,Ct=ze+tt,sn=ze+we;ze<Ct;)ut(Lt[xt++],Qt),Ms(Qt,Fe,ze,Ie,me,pe),ze+=Ie,pe+=Ie;ze<sn&&(ut(Lt[xt++],Qt),Ms(Qt,Fe,ze,ct,me,pe),ze+=ct,pe+=ct),++Ne&et||(ye+=Qe)}break;case 3:if(we==me&&Ie==pe&&0<ye.b){for(ze=me,we=Fe=pe+(Ve-Ne)*Fe-(tt=(Ve-Ne)*Te(ye.Ea,ye.b)),Ie=me,et=pe,Qe=[],tt=(ct=tt)-1;0<=tt;--tt)Qe[tt]=Ie[et+tt];for(tt=ct-1;0<=tt;--tt)ze[we+tt]=Qe[tt];ja(ye,Ne,Ve,me,Fe,me,pe)}else ja(ye,Ne,Ve,we,Ie,me,pe)}pe=q,me=O}me!=O&&i(q,O,pe,me,re)}function Aa(h,_){var O=h.V,q=h.Ba+h.c*h.C,ie=_-h.C;if(t(_<=h.l.o),t(16>=ie),0<ie){var re=h.l,ue=h.Ta,pe=h.Ua,me=re.width;if(os(h,ie,O,q),ie=pe=[pe],t((O=h.C)<(q=_)),t(re.v<re.va),q>re.o&&(q=re.o),O<re.j){var ye=re.j-O;O=re.j,ie[0]+=ye*me}if(O>=q?O=0:(ie[0]+=4*re.v,re.ka=O-re.j,re.U=re.va-re.v,re.T=q-O,O=1),O){if(pe=pe[0],11>(O=h.ca).S){var Ne=O.f.RGBA,Ve=(q=O.S,ie=re.U,re=re.T,ye=Ne.eb,Ne.A),we=re;for(Ne=Ne.fb+h.Ma*Ne.A;0<we--;){var Ie=ue,Fe=pe,Qe=ie,ze=ye,et=Ne;switch(q){case Ml:ds(Ie,Fe,Qe,ze,et);break;case ol:la(Ie,Fe,Qe,ze,et);break;case Bl:la(Ie,Fe,Qe,ze,et),da(ze,et,0,Qe,1,0);break;case Cc:ca(Ie,Fe,Qe,ze,et);break;case il:kt(Ie,Fe,Qe,ze,et,1);break;case jl:kt(Ie,Fe,Qe,ze,et,1),da(ze,et,0,Qe,1,0);break;case al:kt(Ie,Fe,Qe,ze,et,0);break;case zl:kt(Ie,Fe,Qe,ze,et,0),da(ze,et,1,Qe,1,0);break;case Fl:Vi(Ie,Fe,Qe,ze,et);break;case a:Vi(Ie,Fe,Qe,ze,et),xc(ze,et,Qe,1,0);break;case Su:li(Ie,Fe,Qe,ze,et);break;default:t(0)}pe+=me,Ne+=Ve}h.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");t(h.Ma<=O.height)}}h.C=_,t(h.C<=h.i)}function wi(h){var _;if(0<h.ua)return 0;for(_=0;_<h.Wb;++_){var O=h.Ya[_].G,q=h.Ya[_].H;if(0<O[1][q[1]+0].g||0<O[2][q[2]+0].g||0<O[3][q[3]+0].g)return 0}return 1}function xi(h,_,O,q,ie,re){if(h.Z!=0){var ue=h.qd,pe=h.rd;for(t(En[h.Z]!=null);_<O;++_)En[h.Z](ue,pe,q,ie,q,ie,re),ue=q,pe=ie,ie+=re;h.qd=ue,h.rd=pe}}function Ai(h,_){var O=h.l.ma,q=O.Z==0||O.Z==1?h.l.j:h.C;if(q=h.C<q?q:h.C,t(_<=h.l.o),_>q){var ie=h.l.width,re=O.ca,ue=O.tb+ie*q,pe=h.V,me=h.Ba+h.c*q,ye=h.gc;t(h.ab==1),t(ye[0].hc==3),xo(ye[0],q,_,pe,me,re,ue),xi(O,q,_,re,ue,ie)}h.C=h.Ma=_}function Io(h,_,O,q,ie,re,ue){var pe=h.$/q,me=h.$%q,ye=h.m,Ne=h.s,Ve=O+h.$,we=Ve;ie=O+q*ie;var Ie=O+q*re,Fe=280+Ne.ua,Qe=h.Pb?pe:16777216,ze=0<Ne.ua?Ne.Wa:null,et=Ne.wc,tt=Ve<Ie?yo(Ne,me,pe):null;t(h.C<re),t(Ie<=ie);var ct=!1;e:for(;;){for(;ct||Ve<Ie;){var st=0;if(pe>=Qe){var Lt=Ve-O;t((Qe=h).Pb),Qe.wd=Qe.m,Qe.xd=Lt,0<Qe.s.ua&&ge(Qe.s.Wa,Qe.s.vb),Qe=pe+qe}if(me&et||(tt=yo(Ne,me,pe)),t(tt!=null),tt.Qb&&(_[Ve]=tt.qb,ct=!0),!ct)if(Y(ye),tt.jc){st=ye,Lt=_;var xt=Ve,Qt=tt.pd[J(st)&aa-1];t(tt.jc),256>Qt.g?(V(st,st.u+Qt.g),Lt[xt]=Qt.value,st=0):(V(st,st.u+Qt.g-256),t(256<=Qt.value),st=Qt.value),st==0&&(ct=!0)}else st=dn(tt.G[0],tt.H[0],ye);if(ye.h)break;if(ct||256>st){if(!ct)if(tt.nd)_[Ve]=(tt.qb|st<<8)>>>0;else{if(Y(ye),ct=dn(tt.G[1],tt.H[1],ye),Y(ye),Lt=dn(tt.G[2],tt.H[2],ye),xt=dn(tt.G[3],tt.H[3],ye),ye.h)break;_[Ve]=(xt<<24|ct<<16|st<<8|Lt)>>>0}if(ct=!1,++Ve,++me>=q&&(me=0,++pe,ue!=null&&pe<=re&&!(pe%16)&&ue(h,pe),ze!=null))for(;we<Ve;)st=_[we++],ze.X[(506832829*st&4294967295)>>>ze.Mb]=st}else if(280>st){if(st=bi(st-256,ye),Lt=dn(tt.G[4],tt.H[4],ye),Y(ye),Lt=yi(q,Lt=bi(Lt,ye)),ye.h)break;if(Ve-O<Lt||ie-Ve<st)break e;for(xt=0;xt<st;++xt)_[Ve+xt]=_[Ve+xt-Lt];for(Ve+=st,me+=st;me>=q;)me-=q,++pe,ue!=null&&pe<=re&&!(pe%16)&&ue(h,pe);if(t(Ve<=ie),me&et&&(tt=yo(Ne,me,pe)),ze!=null)for(;we<Ve;)st=_[we++],ze.X[(506832829*st&4294967295)>>>ze.Mb]=st}else{if(!(st<Fe))break e;for(ct=st-280,t(ze!=null);we<Ve;)st=_[we++],ze.X[(506832829*st&4294967295)>>>ze.Mb]=st;st=Ve,t(!(ct>>>(Lt=ze).Xa)),_[st]=Lt.X[ct],ct=!0}ct||t(ye.h==B(ye))}if(h.Pb&&ye.h&&Ve<ie)t(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&ge(h.s.vb,h.s.Wa);else{if(ye.h)break e;ue!=null&&ue(h,pe>re?re:pe),h.a=0,h.$=Ve-O}return 1}return h.a=3,0}function ai(h){t(h!=null),h.vc=null,h.yc=null,h.Ya=null;var _=h.Wa;_!=null&&(_.X=null),h.vb=null,t(h!=null)}function Ls(){var h=new Ft;return h==null?null:(h.a=0,h.xb=Ec,_n("Predictor","VP8LPredictors"),_n("Predictor","VP8LPredictors_C"),_n("PredictorAdd","VP8LPredictorsAdd"),_n("PredictorAdd","VP8LPredictorsAdd_C"),Yn=Re,Ms=mt,ds=rn,la=Kt,Vi=Ut,li=Pt,ca=on,R.VP8LMapColor32b=ra,R.VP8LMapColor8b=us,h)}function ea(h,_,O,q,ie){var re=1,ue=[h],pe=[_],me=q.m,ye=q.s,Ne=null,Ve=0;e:for(;;){if(O)for(;re&&Le(me,1);){var we=ue,Ie=pe,Fe=q,Qe=1,ze=Fe.m,et=Fe.gc[Fe.ab],tt=Le(ze,2);if(Fe.Oc&1<<tt)re=0;else{switch(Fe.Oc|=1<<tt,et.hc=tt,et.Ea=we[0],et.nc=Ie[0],et.K=[null],++Fe.ab,t(4>=Fe.ab),tt){case 0:case 1:et.b=Le(ze,3)+2,Qe=ea(Te(et.Ea,et.b),Te(et.nc,et.b),0,Fe,et.K),et.K=et.K[0];break;case 3:var ct,st=Le(ze,8)+1,Lt=16<st?0:4<st?1:2<st?2:3;if(we[0]=Te(et.Ea,Lt),et.b=Lt,ct=Qe=ea(st,1,0,Fe,et.K)){var xt,Qt=st,Ct=et,sn=1<<(8>>Ct.b),Co=r(sn);if(Co==null)ct=0;else{var en=Ct.K[0],Et=Ct.w;for(Co[0]=Ct.K[0][0],xt=1;xt<1*Qt;++xt)Co[xt]=Pe(en[Et+xt],Co[xt-1]);for(;xt<4*sn;++xt)Co[xt]=0;Ct.K[0]=null,Ct.K[0]=Co,ct=1}}Qe=ct;break;case 2:break;default:t(0)}re=Qe}}if(ue=ue[0],pe=pe[0],re&&Le(me,1)&&!(re=1<=(Ve=Le(me,4))&&11>=Ve)){q.a=3;break e}var vt;if(vt=re)t:{var po,Zt,ln,qn=q,Mo=ue,di=pe,io=Ve,Ko=O,fi=qn.m,Eo=qn.s,fn=[null],Ln=1,ao=0,Nn=Be[io];n:for(;;){if(Ko&&Le(fi,1)){var Fo=Le(fi,3)+2,Va=Te(Mo,Fo),ho=Te(di,Fo),Ii=Va*ho;if(!ea(Va,ho,0,qn,fn))break n;for(fn=fn[0],Eo.xc=Fo,po=0;po<Ii;++po){var On=fn[po]>>8&65535;fn[po]=On,On>=Ln&&(Ln=On+1)}}if(fi.h)break n;for(Zt=0;5>Zt;++Zt){var Lo=E[Zt];!Zt&&0<io&&(Lo+=1<<io),ao<Lo&&(ao=Lo)}var Hi=l(Ln*Nn,Z),pi=Ln,Gi=l(pi,S);if(Gi==null)var Wi=null;else t(65536>=pi),Wi=Gi;var Di=r(ao);if(Wi==null||Di==null||Hi==null){qn.a=1;break n}var Zi=Hi;for(po=ln=0;po<Ln;++po){var jn=Wi[po],Ki=jn.G,qa=jn.H,sl=0,Fs=1,Bo=0;for(Zt=0;5>Zt;++Zt){Lo=E[Zt],Ki[Zt]=Zi,qa[Zt]=ln,!Zt&&0<io&&(Lo+=1<<io);i:{var Pu,lf=Lo,$u=qn,Pc=Di,q0=Zi,H0=ln,cf=0,gr=$u.m,G0=Le(gr,1);if(s(Pc,0,0,lf),G0){var W0=Le(gr,1)+1,Z0=Le(gr,1),xh=Le(gr,Z0==0?1:8);Pc[xh]=1,W0==2&&(Pc[xh=Le(gr,8)]=1);var Tu=1}else{var Ah=r(19),Sh=Le(gr,4)+4;if(19<Sh){$u.a=3;var Iu=0;break i}for(Pu=0;Pu<Sh;++Pu)Ah[ce[Pu]]=Le(gr,3);var uf=void 0,$c=void 0,kh=$u,K0=Ah,Du=lf,Ch=Pc,df=0,_r=kh.m,Eh=8,Lh=l(128,Z);o:for(;$(Lh,0,7,K0,19);){if(Le(_r,1)){var J0=2+2*Le(_r,3);if((uf=2+Le(_r,J0))>Du)break o}else uf=Du;for($c=0;$c<Du&&uf--;){Y(_r);var Nh=Lh[0+(127&J(_r))];V(_r,_r.u+Nh.g);var Vl=Nh.value;if(16>Vl)Ch[$c++]=Vl,Vl!=0&&(Eh=Vl);else{var Y0=Vl==16,Ph=Vl-16,X0=g[Ph],$h=Le(_r,u[Ph])+X0;if($c+$h>Du)break o;for(var Q0=Y0?Eh:0;0<$h--;)Ch[$c++]=Q0}}df=1;break o}df||(kh.a=3),Tu=df}(Tu=Tu&&!gr.h)&&(cf=$(q0,H0,8,Pc,lf)),Tu&&cf!=0?Iu=cf:($u.a=3,Iu=0)}if(Iu==0)break n;if(Fs&&G[Zt]==1&&(Fs=Zi[ln].g==0),sl+=Zi[ln].g,ln+=Iu,3>=Zt){var Tc,ff=Di[0];for(Tc=1;Tc<Lo;++Tc)Di[Tc]>ff&&(ff=Di[Tc]);Bo+=ff}}if(jn.nd=Fs,jn.Qb=0,Fs&&(jn.qb=(Ki[3][qa[3]+0].value<<24|Ki[1][qa[1]+0].value<<16|Ki[2][qa[2]+0].value)>>>0,sl==0&&256>Ki[0][qa[0]+0].value&&(jn.Qb=1,jn.qb+=Ki[0][qa[0]+0].value<<8)),jn.jc=!jn.Qb&&6>Bo,jn.jc){var Ru,Bs=jn;for(Ru=0;Ru<aa;++Ru){var br=Ru,yr=Bs.pd[br],Ou=Bs.G[0][Bs.H[0]+br];256<=Ou.value?(yr.g=Ou.g+256,yr.value=Ou.value):(yr.g=0,yr.value=0,br>>=gt(Ou,8,yr),br>>=gt(Bs.G[1][Bs.H[1]+br],16,yr),br>>=gt(Bs.G[2][Bs.H[2]+br],0,yr),gt(Bs.G[3][Bs.H[3]+br],24,yr))}}}Eo.vc=fn,Eo.Wb=Ln,Eo.Ya=Wi,Eo.yc=Hi,vt=1;break t}vt=0}if(!(re=vt)){q.a=3;break e}if(0<Ve){if(ye.ua=1<<Ve,!ne(ye.Wa,Ve)){q.a=1,re=0;break e}}else ye.ua=0;var pf=q,Th=ue,e_=pe,hf=pf.s,mf=hf.xc;if(pf.c=Th,pf.i=e_,hf.md=Te(Th,mf),hf.wc=mf==0?-1:(1<<mf)-1,O){q.xb=of;break e}if((Ne=r(ue*pe))==null){q.a=1,re=0;break e}re=(re=Io(q,Ne,0,ue,pe,pe,null))&&!me.h;break e}return re?(ie!=null?ie[0]=Ne:(t(Ne==null),t(O)),q.$=0,O||ai(ye)):ai(ye),re}function Ns(h,_){var O=h.c*h.i,q=O+_+16*_;return t(h.c<=_),h.V=r(q),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+O+_,1)}function Qs(h,_){var O=h.C,q=_-O,ie=h.V,re=h.Ba+h.c*O;for(t(_<=h.l.o);0<q;){var ue=16<q?16:q,pe=h.l.ma,me=h.l.width,ye=me*ue,Ne=pe.ca,Ve=pe.tb+me*O,we=h.Ta,Ie=h.Ua;os(h,ue,ie,re),xu(we,Ie,Ne,Ve,ye),xi(pe,O,O+ue,Ne,Ve,me),q-=ue,ie+=ue*h.c,O+=ue}t(O==_),h.C=h.Ma=_}function Ps(){this.ub=this.yd=this.td=this.Rb=0}function er(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function tr(){this.Fb=this.Bb=this.Cb=0,this.Zb=r(4),this.Lb=r(4)}function Ur(){this.Yb=function(){var h=[];return function _(O,q,ie){for(var re=ie[q],ue=0;ue<re&&(O.push(ie.length>q+1?[]:0),!(ie.length<q+1));ue++)_(O[ue],q+1,ie)}(h,0,[3,11]),h}()}function Nl(){this.jb=r(3),this.Wc=c([4,8],Ur),this.Xc=c([4,17],Ur)}function Pl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new r(4),this.od=new r(4)}function Si(){this.ld=this.La=this.dd=this.tc=0}function Vr(){this.Na=this.la=0}function nr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Sa(){this.ad=r(384),this.Za=0,this.Ob=r(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Si),this.Y=0,this.ya=Array(new Sa),this.aa=0,this.l=new wn}function Hr(){this.y=r(16),this.f=r(8),this.ea=r(8)}function is(){this.cb=this.a=0,this.sc="",this.m=new X,this.Od=new Ps,this.Kc=new er,this.ed=new Pl,this.Qa=new tr,this.Ic=this.$c=this.Aa=0,this.D=new qr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,X),this.ia=0,this.pb=l(4,nr),this.Pa=new Nl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Hr),this.Hd=0,this.rb=Array(new Vr),this.sb=0,this.wa=Array(new Si),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Sa),this.L=this.aa=0,this.gd=c([4,2],Si),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wt(h,_){return 0>h?0:h>_?_:h}function wn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function or(){var h=new is;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,$t||($t=jt)),h}function Dn(h,_,O){return h.a==0&&(h.a=_,h.sc=O,h.cb=0),0}function ka(h,_,O){return 3<=O&&h[_+0]==157&&h[_+1]==1&&h[_+2]==42}function ki(h,_){if(h==null)return 0;if(h.a=0,h.sc="OK",_==null)return Dn(h,2,"null VP8Io passed to VP8GetHeaders()");var O=_.data,q=_.w,ie=_.ha;if(4>ie)return Dn(h,7,"Truncated header.");var re=O[q+0]|O[q+1]<<8|O[q+2]<<16,ue=h.Od;if(ue.Rb=!(1&re),ue.td=re>>1&7,ue.yd=re>>4&1,ue.ub=re>>5,3<ue.td)return Dn(h,3,"Incorrect keyframe parameters.");if(!ue.yd)return Dn(h,4,"Frame not displayable.");q+=3,ie-=3;var pe=h.Kc;if(ue.Rb){if(7>ie)return Dn(h,7,"cannot parse picture header");if(!ka(O,q,ie))return Dn(h,3,"Bad code word");pe.c=16383&(O[q+4]<<8|O[q+3]),pe.Td=O[q+4]>>6,pe.i=16383&(O[q+6]<<8|O[q+5]),pe.Ud=O[q+6]>>6,q+=7,ie-=7,h.za=pe.c+15>>4,h.Ub=pe.i+15>>4,_.width=pe.c,_.height=pe.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,s((re=h.Pa).jb,0,255,re.jb.length),t((re=h.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,s(re.Zb,0,0,re.Zb.length),s(re.Lb,0,0,re.Lb)}if(ue.ub>ie)return Dn(h,7,"bad partition length");Q(re=h.m,O,q,ue.ub),q+=ue.ub,ie-=ue.ub,ue.Rb&&(pe.Ld=fe(re),pe.Kd=fe(re)),pe=h.Qa;var me,ye=h.Pa;if(t(re!=null),t(pe!=null),pe.Cb=fe(re),pe.Cb){if(pe.Bb=fe(re),fe(re)){for(pe.Fb=fe(re),me=0;4>me;++me)pe.Zb[me]=fe(re)?le(re,7):0;for(me=0;4>me;++me)pe.Lb[me]=fe(re)?le(re,6):0}if(pe.Bb)for(me=0;3>me;++me)ye.jb[me]=fe(re)?U(re,8):255}else pe.Bb=0;if(re.Ka)return Dn(h,3,"cannot parse segment header");if((pe=h.ed).zd=fe(re),pe.Tb=U(re,6),pe.wb=U(re,3),pe.Pc=fe(re),pe.Pc&&fe(re)){for(ye=0;4>ye;++ye)fe(re)&&(pe.vd[ye]=le(re,6));for(ye=0;4>ye;++ye)fe(re)&&(pe.od[ye]=le(re,6))}if(h.L=pe.Tb==0?0:pe.zd?1:2,re.Ka)return Dn(h,3,"cannot parse filter header");var Ne=ie;if(ie=me=q,q=me+Ne,pe=Ne,h.Xb=(1<<U(h.m,2))-1,Ne<3*(ye=h.Xb))O=7;else{for(me+=3*ye,pe-=3*ye,Ne=0;Ne<ye;++Ne){var Ve=O[ie+0]|O[ie+1]<<8|O[ie+2]<<16;Ve>pe&&(Ve=pe),Q(h.Jc[+Ne],O,me,Ve),me+=Ve,pe-=Ve,ie+=3}Q(h.Jc[+ye],O,me,pe),O=me<q?0:5}if(O!=0)return Dn(h,O,"cannot parse partitions");for(O=U(me=h.m,7),ie=fe(me)?le(me,4):0,q=fe(me)?le(me,4):0,pe=fe(me)?le(me,4):0,ye=fe(me)?le(me,4):0,me=fe(me)?le(me,4):0,Ne=h.Qa,Ve=0;4>Ve;++Ve){if(Ne.Cb){var we=Ne.Zb[Ve];Ne.Fb||(we+=O)}else{if(0<Ve){h.pb[Ve]=h.pb[0];continue}we=O}var Ie=h.pb[Ve];Ie.Sc[0]=at[Wt(we+ie,127)],Ie.Sc[1]=_t[Wt(we+0,127)],Ie.Eb[0]=2*at[Wt(we+q,127)],Ie.Eb[1]=101581*_t[Wt(we+pe,127)]>>16,8>Ie.Eb[1]&&(Ie.Eb[1]=8),Ie.Qc[0]=at[Wt(we+ye,117)],Ie.Qc[1]=_t[Wt(we+me,127)],Ie.lc=we+me}if(!ue.Rb)return Dn(h,4,"Not a key frame.");for(fe(re),ue=h.Pa,O=0;4>O;++O){for(ie=0;8>ie;++ie)for(q=0;3>q;++q)for(pe=0;11>pe;++pe)ye=ae(re,vr[O][ie][q][pe])?U(re,8):Ti[O][ie][q][pe],ue.Wc[O][ie].Yb[q][pe]=ye;for(ie=0;17>ie;++ie)ue.Xc[O][ie]=ue.Wc[O][nf[ie]]}return h.kc=fe(re),h.kc&&(h.Bd=U(re,8)),h.cb=1}function jt(h,_,O,q,ie,re,ue){var pe=_[ie].Yb[O];for(O=0;16>ie;++ie){if(!ae(h,pe[O+0]))return ie;for(;!ae(h,pe[O+1]);)if(pe=_[++ie].Yb[0],O=0,ie==16)return 16;var me=_[ie+1].Yb;if(ae(h,pe[O+2])){var ye=h,Ne=0;if(ae(ye,(we=pe)[(Ve=O)+3]))if(ae(ye,we[Ve+6])){for(pe=0,Ve=2*(Ne=ae(ye,we[Ve+8]))+(we=ae(ye,we[Ve+9+Ne])),Ne=0,we=tn[Ve];we[pe];++pe)Ne+=Ne+ae(ye,we[pe]);Ne+=3+(8<<Ve)}else ae(ye,we[Ve+7])?(Ne=7+2*ae(ye,165),Ne+=ae(ye,145)):Ne=5+ae(ye,159);else Ne=ae(ye,we[Ve+4])?3+ae(ye,we[Ve+5]):2;pe=me[2]}else Ne=1,pe=me[1];me=ue+Ro[ie],0>(ye=h).b&&ee(ye);var Ve,we=ye.b,Ie=(Ve=ye.Ca>>1)-(ye.I>>we)>>31;--ye.b,ye.Ca+=Ie,ye.Ca|=1,ye.I-=(Ve+1&Ie)<<we,re[me]=((Ne^Ie)-Ie)*q[(0<ie)+0]}return 16}function Bn(h){var _=h.rb[h.sb-1];_.la=0,_.Na=0,s(h.zc,0,0,h.zc.length),h.ja=0}function Vo(h,_,O,q,ie){ie=h[_+O+32*q]+(ie>>3),h[_+O+32*q]=-256&ie?0>ie?0:255:ie}function Wn(h,_,O,q,ie,re){Vo(h,_,0,O,q+ie),Vo(h,_,1,O,q+re),Vo(h,_,2,O,q-re),Vo(h,_,3,O,q-ie)}function eo(h){return(20091*h>>16)+h}function $l(h,_,O,q){var ie,re=0,ue=r(16);for(ie=0;4>ie;++ie){var pe=h[_+0]+h[_+8],me=h[_+0]-h[_+8],ye=(35468*h[_+4]>>16)-eo(h[_+12]),Ne=eo(h[_+4])+(35468*h[_+12]>>16);ue[re+0]=pe+Ne,ue[re+1]=me+ye,ue[re+2]=me-ye,ue[re+3]=pe-Ne,re+=4,_++}for(ie=re=0;4>ie;++ie)pe=(h=ue[re+0]+4)+ue[re+8],me=h-ue[re+8],ye=(35468*ue[re+4]>>16)-eo(ue[re+12]),Vo(O,q,0,0,pe+(Ne=eo(ue[re+4])+(35468*ue[re+12]>>16))),Vo(O,q,1,0,me+ye),Vo(O,q,2,0,me-ye),Vo(O,q,3,0,pe-Ne),re++,q+=32}function ir(h,_,O,q){var ie=h[_+0]+4,re=35468*h[_+4]>>16,ue=eo(h[_+4]),pe=35468*h[_+1]>>16;Wn(O,q,0,ie+ue,h=eo(h[_+1]),pe),Wn(O,q,1,ie+re,h,pe),Wn(O,q,2,ie-re,h,pe),Wn(O,q,3,ie-ue,h,pe)}function Ca(h,_,O,q,ie){$l(h,_,O,q),ie&&$l(h,_+16,O,q+4)}function bn(h,_,O,q){fs(h,_+0,O,q,1),fs(h,_+32,O,q+128,1)}function ta(h,_,O,q){var ie;for(h=h[_+0]+4,ie=0;4>ie;++ie)for(_=0;4>_;++_)Vo(O,q,_,ie,h)}function as(h,_,O,q){h[_+0]&&mn(h,_+0,O,q),h[_+16]&&mn(h,_+16,O,q+4),h[_+32]&&mn(h,_+32,O,q+128),h[_+48]&&mn(h,_+48,O,q+128+4)}function na(h,_,O,q){var ie,re=r(16);for(ie=0;4>ie;++ie){var ue=h[_+0+ie]+h[_+12+ie],pe=h[_+4+ie]+h[_+8+ie],me=h[_+4+ie]-h[_+8+ie],ye=h[_+0+ie]-h[_+12+ie];re[0+ie]=ue+pe,re[8+ie]=ue-pe,re[4+ie]=ye+me,re[12+ie]=ye-me}for(ie=0;4>ie;++ie)ue=(h=re[0+4*ie]+3)+re[3+4*ie],pe=re[1+4*ie]+re[2+4*ie],me=re[1+4*ie]-re[2+4*ie],ye=h-re[3+4*ie],O[q+0]=ue+pe>>3,O[q+16]=ye+me>>3,O[q+32]=ue-pe>>3,O[q+48]=ye-me>>3,q+=64}function Ea(h,_,O){var q,ie=_-32,re=Wo,ue=255-h[ie-1];for(q=0;q<O;++q){var pe,me=re,ye=ue+h[_-1];for(pe=0;pe<O;++pe)h[_+pe]=me[ye+h[ie+pe]];_+=32}}function $s(h,_){Ea(h,_,4)}function Gr(h,_){Ea(h,_,8)}function Wr(h,_){Ea(h,_,16)}function ss(h,_){var O;for(O=0;16>O;++O)i(h,_+32*O,h,_-32,16)}function ar(h,_){var O;for(O=16;0<O;--O)s(h,_,h[_-1],16),_+=32}function si(h,_,O){var q;for(q=0;16>q;++q)s(_,O+32*q,h,16)}function sr(h,_){var O,q=16;for(O=0;16>O;++O)q+=h[_-1+32*O]+h[_+O-32];si(q>>5,h,_)}function rs(h,_){var O,q=8;for(O=0;16>O;++O)q+=h[_-1+32*O];si(q>>4,h,_)}function Ts(h,_){var O,q=8;for(O=0;16>O;++O)q+=h[_+O-32];si(q>>4,h,_)}function yc(h,_){si(128,h,_)}function pt(h,_,O){return h+2*_+O+2>>2}function Ci(h,_){var O,q=_-32;for(q=new Uint8Array([pt(h[q-1],h[q+0],h[q+1]),pt(h[q+0],h[q+1],h[q+2]),pt(h[q+1],h[q+2],h[q+3]),pt(h[q+2],h[q+3],h[q+4])]),O=0;4>O;++O)i(h,_+32*O,q,0,q.length)}function xn(h,_){var O=h[_-1],q=h[_-1+32],ie=h[_-1+64],re=h[_-1+96];te(h,_+0,16843009*pt(h[_-1-32],O,q)),te(h,_+32,16843009*pt(O,q,ie)),te(h,_+64,16843009*pt(q,ie,re)),te(h,_+96,16843009*pt(ie,re,re))}function Tl(h,_){var O,q=4;for(O=0;4>O;++O)q+=h[_+O-32]+h[_-1+32*O];for(q>>=3,O=0;4>O;++O)s(h,_+32*O,q,4)}function Bi(h,_){var O=h[_-1+0],q=h[_-1+32],ie=h[_-1+64],re=h[_-1-32],ue=h[_+0-32],pe=h[_+1-32],me=h[_+2-32],ye=h[_+3-32];h[_+0+96]=pt(q,ie,h[_-1+96]),h[_+1+96]=h[_+0+64]=pt(O,q,ie),h[_+2+96]=h[_+1+64]=h[_+0+32]=pt(re,O,q),h[_+3+96]=h[_+2+64]=h[_+1+32]=h[_+0+0]=pt(ue,re,O),h[_+3+64]=h[_+2+32]=h[_+1+0]=pt(pe,ue,re),h[_+3+32]=h[_+2+0]=pt(me,pe,ue),h[_+3+0]=pt(ye,me,pe)}function ji(h,_){var O=h[_+1-32],q=h[_+2-32],ie=h[_+3-32],re=h[_+4-32],ue=h[_+5-32],pe=h[_+6-32],me=h[_+7-32];h[_+0+0]=pt(h[_+0-32],O,q),h[_+1+0]=h[_+0+32]=pt(O,q,ie),h[_+2+0]=h[_+1+32]=h[_+0+64]=pt(q,ie,re),h[_+3+0]=h[_+2+32]=h[_+1+64]=h[_+0+96]=pt(ie,re,ue),h[_+3+32]=h[_+2+64]=h[_+1+96]=pt(re,ue,pe),h[_+3+64]=h[_+2+96]=pt(ue,pe,me),h[_+3+96]=pt(pe,me,me)}function Zr(h,_){var O=h[_-1+0],q=h[_-1+32],ie=h[_-1+64],re=h[_-1-32],ue=h[_+0-32],pe=h[_+1-32],me=h[_+2-32],ye=h[_+3-32];h[_+0+0]=h[_+1+64]=re+ue+1>>1,h[_+1+0]=h[_+2+64]=ue+pe+1>>1,h[_+2+0]=h[_+3+64]=pe+me+1>>1,h[_+3+0]=me+ye+1>>1,h[_+0+96]=pt(ie,q,O),h[_+0+64]=pt(q,O,re),h[_+0+32]=h[_+1+96]=pt(O,re,ue),h[_+1+32]=h[_+2+96]=pt(re,ue,pe),h[_+2+32]=h[_+3+96]=pt(ue,pe,me),h[_+3+32]=pt(pe,me,ye)}function La(h,_){var O=h[_+0-32],q=h[_+1-32],ie=h[_+2-32],re=h[_+3-32],ue=h[_+4-32],pe=h[_+5-32],me=h[_+6-32],ye=h[_+7-32];h[_+0+0]=O+q+1>>1,h[_+1+0]=h[_+0+64]=q+ie+1>>1,h[_+2+0]=h[_+1+64]=ie+re+1>>1,h[_+3+0]=h[_+2+64]=re+ue+1>>1,h[_+0+32]=pt(O,q,ie),h[_+1+32]=h[_+0+96]=pt(q,ie,re),h[_+2+32]=h[_+1+96]=pt(ie,re,ue),h[_+3+32]=h[_+2+96]=pt(re,ue,pe),h[_+3+64]=pt(ue,pe,me),h[_+3+96]=pt(pe,me,ye)}function ls(h,_){var O=h[_-1+0],q=h[_-1+32],ie=h[_-1+64],re=h[_-1+96];h[_+0+0]=O+q+1>>1,h[_+2+0]=h[_+0+32]=q+ie+1>>1,h[_+2+32]=h[_+0+64]=ie+re+1>>1,h[_+1+0]=pt(O,q,ie),h[_+3+0]=h[_+1+32]=pt(q,ie,re),h[_+3+32]=h[_+1+64]=pt(ie,re,re),h[_+3+64]=h[_+2+64]=h[_+0+96]=h[_+1+96]=h[_+2+96]=h[_+3+96]=re}function Na(h,_){var O=h[_-1+0],q=h[_-1+32],ie=h[_-1+64],re=h[_-1+96],ue=h[_-1-32],pe=h[_+0-32],me=h[_+1-32],ye=h[_+2-32];h[_+0+0]=h[_+2+32]=O+ue+1>>1,h[_+0+32]=h[_+2+64]=q+O+1>>1,h[_+0+64]=h[_+2+96]=ie+q+1>>1,h[_+0+96]=re+ie+1>>1,h[_+3+0]=pt(pe,me,ye),h[_+2+0]=pt(ue,pe,me),h[_+1+0]=h[_+3+32]=pt(O,ue,pe),h[_+1+32]=h[_+3+64]=pt(q,O,ue),h[_+1+64]=h[_+3+96]=pt(ie,q,O),h[_+1+96]=pt(re,ie,q)}function Un(h,_){var O;for(O=0;8>O;++O)i(h,_+32*O,h,_-32,8)}function Pa(h,_){var O;for(O=0;8>O;++O)s(h,_,h[_-1],8),_+=32}function oa(h,_,O){var q;for(q=0;8>q;++q)s(_,O+32*q,h,8)}function Il(h,_){var O,q=8;for(O=0;8>O;++O)q+=h[_+O-32]+h[_-1+32*O];oa(q>>4,h,_)}function Kr(h,_){var O,q=4;for(O=0;8>O;++O)q+=h[_+O-32];oa(q>>3,h,_)}function rr(h,_){var O,q=4;for(O=0;8>O;++O)q+=h[_-1+32*O];oa(q>>3,h,_)}function lr(h,_){oa(128,h,_)}function $a(h,_,O){var q=h[_-O],ie=h[_+0],re=3*(ie-q)+mr[1020+h[_-2*O]-h[_+O]],ue=ps[112+(re+4>>3)];h[_-O]=Wo[255+q+ps[112+(re+3>>3)]],h[_+0]=Wo[255+ie-ue]}function cr(h,_,O,q){var ie=h[_+0],re=h[_+O];return ui[255+h[_-2*O]-h[_-O]]>q||ui[255+re-ie]>q}function Xt(h,_,O,q){return 4*ui[255+h[_-O]-h[_+0]]+ui[255+h[_-2*O]-h[_+O]]<=q}function Jr(h,_,O,q,ie){var re=h[_-3*O],ue=h[_-2*O],pe=h[_-O],me=h[_+0],ye=h[_+O],Ne=h[_+2*O],Ve=h[_+3*O];return 4*ui[255+pe-me]+ui[255+ue-ye]>q?0:ui[255+h[_-4*O]-re]<=ie&&ui[255+re-ue]<=ie&&ui[255+ue-pe]<=ie&&ui[255+Ve-Ne]<=ie&&ui[255+Ne-ye]<=ie&&ui[255+ye-me]<=ie}function Ao(h,_,O,q){var ie=2*q+1;for(q=0;16>q;++q)Xt(h,_+q,O,ie)&&$a(h,_+q,O)}function Ta(h,_,O,q){var ie=2*q+1;for(q=0;16>q;++q)Xt(h,_+q*O,1,ie)&&$a(h,_+q*O,1)}function Yr(h,_,O,q){var ie;for(ie=3;0<ie;--ie)Ao(h,_+=4*O,O,q)}function Dl(h,_,O,q){var ie;for(ie=3;0<ie;--ie)Ta(h,_+=4,O,q)}function zi(h,_,O,q,ie,re,ue,pe){for(re=2*re+1;0<ie--;){if(Jr(h,_,O,re,ue))if(cr(h,_,O,pe))$a(h,_,O);else{var me=h,ye=_,Ne=O,Ve=me[ye-2*Ne],we=me[ye-Ne],Ie=me[ye+0],Fe=me[ye+Ne],Qe=me[ye+2*Ne],ze=27*(tt=mr[1020+3*(Ie-we)+mr[1020+Ve-Fe]])+63>>7,et=18*tt+63>>7,tt=9*tt+63>>7;me[ye-3*Ne]=Wo[255+me[ye-3*Ne]+tt],me[ye-2*Ne]=Wo[255+Ve+et],me[ye-Ne]=Wo[255+we+ze],me[ye+0]=Wo[255+Ie-ze],me[ye+Ne]=Wo[255+Fe-et],me[ye+2*Ne]=Wo[255+Qe-tt]}_+=q}}function Ia(h,_,O,q,ie,re,ue,pe){for(re=2*re+1;0<ie--;){if(Jr(h,_,O,re,ue))if(cr(h,_,O,pe))$a(h,_,O);else{var me=h,ye=_,Ne=O,Ve=me[ye-Ne],we=me[ye+0],Ie=me[ye+Ne],Fe=ps[112+(4+(Qe=3*(we-Ve))>>3)],Qe=ps[112+(Qe+3>>3)],ze=Fe+1>>1;me[ye-2*Ne]=Wo[255+me[ye-2*Ne]+ze],me[ye-Ne]=Wo[255+Ve+Qe],me[ye+0]=Wo[255+we-Fe],me[ye+Ne]=Wo[255+Ie-ze]}_+=q}}function Xr(h,_,O,q,ie,re){zi(h,_,O,1,16,q,ie,re)}function Is(h,_,O,q,ie,re){zi(h,_,1,O,16,q,ie,re)}function Rl(h,_,O,q,ie,re){var ue;for(ue=3;0<ue;--ue)Ia(h,_+=4*O,O,1,16,q,ie,re)}function C(h,_,O,q,ie,re){var ue;for(ue=3;0<ue;--ue)Ia(h,_+=4,1,O,16,q,ie,re)}function oe(h,_,O,q,ie,re,ue,pe){zi(h,_,ie,1,8,re,ue,pe),zi(O,q,ie,1,8,re,ue,pe)}function be(h,_,O,q,ie,re,ue,pe){zi(h,_,1,ie,8,re,ue,pe),zi(O,q,1,ie,8,re,ue,pe)}function Ee(h,_,O,q,ie,re,ue,pe){Ia(h,_+4*ie,ie,1,8,re,ue,pe),Ia(O,q+4*ie,ie,1,8,re,ue,pe)}function Oe(h,_,O,q,ie,re,ue,pe){Ia(h,_+4,1,ie,8,re,ue,pe),Ia(O,q+4,1,ie,8,re,ue,pe)}function Ye(){this.ba=new Yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new hn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function it(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function wt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function St(){this.ua=0,this.Wa=new Me,this.vb=new Me,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new S,this.yc=new Z}function Ft(){this.xb=this.a=0,this.l=new wn,this.ca=new Yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new he,this.Pb=0,this.wd=new he,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new St,this.ab=0,this.gc=l(4,wt),this.Oc=0}function qt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new wn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function an(h,_,O,q,ie,re,ue){for(h=h==null?0:h[_+0],_=0;_<ue;++_)ie[re+_]=h+O[q+_]&255,h=ie[re+_]}function Vn(h,_,O,q,ie,re,ue){var pe;if(h==null)an(null,null,O,q,ie,re,ue);else for(pe=0;pe<ue;++pe)ie[re+pe]=h[_+pe]+O[q+pe]&255}function to(h,_,O,q,ie,re,ue){if(h==null)an(null,null,O,q,ie,re,ue);else{var pe,me=h[_+0],ye=me,Ne=me;for(pe=0;pe<ue;++pe)ye=Ne+(me=h[_+pe])-ye,Ne=O[q+pe]+(-256&ye?0>ye?0:255:ye)&255,ye=me,ie[re+pe]=Ne}}function An(h,_,O,q){var ie=_.width,re=_.o;if(t(h!=null&&_!=null),0>O||0>=q||O+q>re)return null;if(!h.Cc){if(h.ga==null){var ue;if(h.ga=new qt,(ue=h.ga==null)||(ue=_.width*_.o,t(h.Gb.length==0),h.Gb=r(ue),h.Uc=0,h.Gb==null?ue=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,ue=1),ue=!ue),!ue){ue=h.ga;var pe=h.Fa,me=h.P,ye=h.qc,Ne=h.mb,Ve=h.nb,we=me+1,Ie=ye-1,Fe=ue.l;if(t(pe!=null&&Ne!=null&&_!=null),En[0]=null,En[1]=an,En[2]=Vn,En[3]=to,ue.ca=Ne,ue.tb=Ve,ue.c=_.width,ue.i=_.height,t(0<ue.c&&0<ue.i),1>=ye)_=0;else if(ue.$a=3&pe[me+0],ue.Z=pe[me+0]>>2&3,ue.Lc=pe[me+0]>>4&3,me=pe[me+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||me)_=0;else if(Fe.put=Dt,Fe.ac=Qi,Fe.bc=wa,Fe.ma=ue,Fe.width=_.width,Fe.height=_.height,Fe.Da=_.Da,Fe.v=_.v,Fe.va=_.va,Fe.j=_.j,Fe.o=_.o,ue.$a)e:{t(ue.$a==1),_=Ls();t:for(;;){if(_==null){_=0;break e}if(t(ue!=null),ue.mc=_,_.c=ue.c,_.i=ue.i,_.l=ue.l,_.l.ma=ue,_.l.width=ue.c,_.l.height=ue.i,_.a=0,xe(_.m,pe,we,Ie),!ea(ue.c,ue.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&wi(_.s)?(ue.ic=1,pe=_.c*_.i,_.Ta=null,_.Ua=0,_.V=r(pe),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(ue.ic=0,_=Ns(_,ue.c)),!_))break t;_=1;break e}ue.mc=null,_=0}else _=Ie>=ue.c*ue.i;ue=!_}if(ue)return null;h.ga.Lc!=1?h.Ga=0:q=re-O}t(h.ga!=null),t(O+q<=re);e:{if(_=(pe=h.ga).c,re=pe.l.o,pe.$a==0){if(we=h.rc,Ie=h.Vc,Fe=h.Fa,me=h.P+1+O*_,ye=h.mb,Ne=h.nb+O*_,t(me<=h.P+h.qc),pe.Z!=0)for(t(En[pe.Z]!=null),ue=0;ue<q;++ue)En[pe.Z](we,Ie,Fe,me,ye,Ne,_),we=ye,Ie=Ne,Ne+=_,me+=_;else for(ue=0;ue<q;++ue)i(ye,Ne,Fe,me,_),we=ye,Ie=Ne,Ne+=_,me+=_;h.rc=we,h.Vc=Ie}else{if(t(pe.mc!=null),_=O+q,t((ue=pe.mc)!=null),t(_<=ue.i),ue.C>=_)_=1;else if(pe.ic||So(),pe.ic){pe=ue.V,we=ue.Ba,Ie=ue.c;var Qe=ue.i,ze=(Fe=1,me=ue.$/Ie,ye=ue.$%Ie,Ne=ue.m,Ve=ue.s,ue.$),et=Ie*Qe,tt=Ie*_,ct=Ve.wc,st=ze<tt?yo(Ve,ye,me):null;t(ze<=et),t(_<=Qe),t(wi(Ve));t:for(;;){for(;!Ne.h&&ze<tt;){if(ye&ct||(st=yo(Ve,ye,me)),t(st!=null),Y(Ne),256>(Qe=dn(st.G[0],st.H[0],Ne)))pe[we+ze]=Qe,++ze,++ye>=Ie&&(ye=0,++me<=_&&!(me%16)&&Ai(ue,me));else{if(!(280>Qe)){Fe=0;break t}Qe=bi(Qe-256,Ne);var Lt,xt=dn(st.G[4],st.H[4],Ne);if(Y(Ne),!(ze>=(xt=yi(Ie,xt=bi(xt,Ne)))&&et-ze>=Qe)){Fe=0;break t}for(Lt=0;Lt<Qe;++Lt)pe[we+ze+Lt]=pe[we+ze+Lt-xt];for(ze+=Qe,ye+=Qe;ye>=Ie;)ye-=Ie,++me<=_&&!(me%16)&&Ai(ue,me);ze<tt&&ye&ct&&(st=yo(Ve,ye,me))}t(Ne.h==B(Ne))}Ai(ue,me>_?_:me);break t}!Fe||Ne.h&&ze<et?(Fe=0,ue.a=Ne.h?5:3):ue.$=ze,_=Fe}else _=Io(ue,ue.V,ue.Ba,ue.c,ue.i,_,Qs);if(!_){q=0;break e}}O+q>=re&&(h.Cc=1),q=1}if(!q)return null;if(h.Cc&&((q=h.ga)!=null&&(q.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+O*ie}function co(h,_,O,q,ie,re){for(;0<ie--;){var ue,pe=h,me=_+(O?1:0),ye=h,Ne=_+(O?0:3);for(ue=0;ue<q;++ue){var Ve=ye[Ne+4*ue];Ve!=255&&(Ve*=32897,pe[me+4*ue+0]=pe[me+4*ue+0]*Ve>>23,pe[me+4*ue+1]=pe[me+4*ue+1]*Ve>>23,pe[me+4*ue+2]=pe[me+4*ue+2]*Ve>>23)}_+=re}}function Jn(h,_,O,q,ie){for(;0<q--;){var re;for(re=0;re<O;++re){var ue=h[_+2*re+0],pe=15&(ye=h[_+2*re+1]),me=4369*pe,ye=(240&ye|ye>>4)*me>>16;h[_+2*re+0]=(240&ue|ue>>4)*me>>16&240|(15&ue|ue<<4)*me>>16>>4&15,h[_+2*re+1]=240&ye|pe}_+=ie}}function wo(h,_,O,q,ie,re,ue,pe){var me,ye,Ne=255;for(ye=0;ye<ie;++ye){for(me=0;me<q;++me){var Ve=h[_+me];re[ue+4*me]=Ve,Ne&=Ve}_+=O,ue+=pe}return Ne!=255}function Ei(h,_,O,q,ie){var re;for(re=0;re<ie;++re)O[q+re]=h[_+re]>>8}function So(){da=co,xc=Jn,Ac=wo,xu=Ei}function Da(h,_,O){R[h]=function(q,ie,re,ue,pe,me,ye,Ne,Ve,we,Ie,Fe,Qe,ze,et,tt,ct){var st,Lt=ct-1>>1,xt=pe[me+0]|ye[Ne+0]<<16,Qt=Ve[we+0]|Ie[Fe+0]<<16;t(q!=null);var Ct=3*xt+Qt+131074>>2;for(_(q[ie+0],255&Ct,Ct>>16,Qe,ze),re!=null&&(Ct=3*Qt+xt+131074>>2,_(re[ue+0],255&Ct,Ct>>16,et,tt)),st=1;st<=Lt;++st){var sn=pe[me+st]|ye[Ne+st]<<16,Co=Ve[we+st]|Ie[Fe+st]<<16,en=xt+sn+Qt+Co+524296,Et=en+2*(sn+Qt)>>3;Ct=Et+xt>>1,xt=(en=en+2*(xt+Co)>>3)+sn>>1,_(q[ie+2*st-1],255&Ct,Ct>>16,Qe,ze+(2*st-1)*O),_(q[ie+2*st-0],255&xt,xt>>16,Qe,ze+(2*st-0)*O),re!=null&&(Ct=en+Qt>>1,xt=Et+Co>>1,_(re[ue+2*st-1],255&Ct,Ct>>16,et,tt+(2*st-1)*O),_(re[ue+2*st+0],255&xt,xt>>16,et,tt+(2*st+0)*O)),xt=sn,Qt=Co}1&ct||(Ct=3*xt+Qt+131074>>2,_(q[ie+ct-1],255&Ct,Ct>>16,Qe,ze+(ct-1)*O),re!=null&&(Ct=3*Qt+xt+131074>>2,_(re[ue+ct-1],255&Ct,Ct>>16,et,tt+(ct-1)*O)))}}function Ra(){Oo[Ml]=af,Oo[ol]=ku,Oo[Cc]=sf,Oo[il]=Ul,Oo[al]=Lc,Oo[Fl]=Cu,Oo[Su]=D0,Oo[Bl]=ku,Oo[jl]=Ul,Oo[zl]=Lc,Oo[a]=Cu}function ko(h){return h&-16384?0>h?0:255:h>>R0}function Oa(h,_){return ko((19077*h>>8)+(26149*_>>8)-14234)}function cs(h,_,O){return ko((19077*h>>8)-(6419*_>>8)-(13320*O>>8)+8708)}function Ds(h,_){return ko((19077*h>>8)+(33050*_>>8)-17685)}function ia(h,_,O,q,ie){q[ie+0]=Oa(h,O),q[ie+1]=cs(h,_,O),q[ie+2]=Ds(h,_)}function uo(h,_,O,q,ie){q[ie+0]=Ds(h,_),q[ie+1]=cs(h,_,O),q[ie+2]=Oa(h,O)}function Rs(h,_,O,q,ie){var re=cs(h,_,O);_=re<<3&224|Ds(h,_)>>3,q[ie+0]=248&Oa(h,O)|re>>5,q[ie+1]=_}function Os(h,_,O,q,ie){var re=240&Ds(h,_)|15;q[ie+0]=240&Oa(h,O)|cs(h,_,O)>>4,q[ie+1]=re}function ur(h,_,O,q,ie){q[ie+0]=255,ia(h,_,O,q,ie+1)}function Qr(h,_,O,q,ie){uo(h,_,O,q,ie),q[ie+3]=255}function Rn(h,_,O,q,ie){ia(h,_,O,q,ie),q[ie+3]=255}function qo(h,_,O){R[h]=function(q,ie,re,ue,pe,me,ye,Ne,Ve){for(var we=Ne+(-2&Ve)*O;Ne!=we;)_(q[ie+0],re[ue+0],pe[me+0],ye,Ne),_(q[ie+1],re[ue+0],pe[me+0],ye,Ne+O),ie+=2,++ue,++me,Ne+=2*O;1&Ve&&_(q[ie+0],re[ue+0],pe[me+0],ye,Ne)}}function dr(h,_,O){return O==0?h==0?_==0?6:5:_==0?4:0:O}function Li(h,_,O,q,ie){switch(h>>>30){case 3:fs(_,O,q,ie,0);break;case 2:$i(_,O,q,ie);break;case 1:mn(_,O,q,ie)}}function Ni(h,_){var O,q,ie=_.M,re=_.Nb,ue=h.oc,pe=h.pc+40,me=h.oc,ye=h.pc+584,Ne=h.oc,Ve=h.pc+600;for(O=0;16>O;++O)ue[pe+32*O-1]=129;for(O=0;8>O;++O)me[ye+32*O-1]=129,Ne[Ve+32*O-1]=129;for(0<ie?ue[pe-1-32]=me[ye-1-32]=Ne[Ve-1-32]=129:(s(ue,pe-32-1,127,21),s(me,ye-32-1,127,9),s(Ne,Ve-32-1,127,9)),q=0;q<h.za;++q){var we=_.ya[_.aa+q];if(0<q){for(O=-1;16>O;++O)i(ue,pe+32*O-4,ue,pe+32*O+12,4);for(O=-1;8>O;++O)i(me,ye+32*O-4,me,ye+32*O+4,4),i(Ne,Ve+32*O-4,Ne,Ve+32*O+4,4)}var Ie=h.Gd,Fe=h.Hd+q,Qe=we.ad,ze=we.Hc;if(0<ie&&(i(ue,pe-32,Ie[Fe].y,0,16),i(me,ye-32,Ie[Fe].f,0,8),i(Ne,Ve-32,Ie[Fe].ea,0,8)),we.Za){var et=ue,tt=pe-32+16;for(0<ie&&(q>=h.za-1?s(et,tt,Ie[Fe].y[15],4):i(et,tt,Ie[Fe+1].y,0,4)),O=0;4>O;O++)et[tt+128+O]=et[tt+256+O]=et[tt+384+O]=et[tt+0+O];for(O=0;16>O;++O,ze<<=2)et=ue,tt=pe+yh[O],qi[we.Ob[O]](et,tt),Li(ze,Qe,16*+O,et,tt)}else if(et=dr(q,ie,we.Ob[0]),hs[et](ue,pe),ze!=0)for(O=0;16>O;++O,ze<<=2)Li(ze,Qe,16*+O,ue,pe+yh[O]);for(O=we.Gc,et=dr(q,ie,we.Dd),pa[et](me,ye),pa[et](Ne,Ve),ze=Qe,et=me,tt=ye,255&(we=0|O)&&(170&we?ci(ze,256,et,tt):Sn(ze,256,et,tt)),we=Ne,ze=Ve,255&(O>>=8)&&(170&O?ci(Qe,320,we,ze):Sn(Qe,320,we,ze)),ie<h.Ub-1&&(i(Ie[Fe].y,0,ue,pe+480,16),i(Ie[Fe].f,0,me,ye+224,8),i(Ie[Fe].ea,0,Ne,Ve+224,8)),O=8*re*h.B,Ie=h.sa,Fe=h.ta+16*q+16*re*h.R,Qe=h.qa,we=h.ra+8*q+O,ze=h.Ha,et=h.Ia+8*q+O,O=0;16>O;++O)i(Ie,Fe+O*h.R,ue,pe+32*O,16);for(O=0;8>O;++O)i(Qe,we+O*h.B,me,ye+32*O,8),i(ze,et+O*h.B,Ne,Ve+32*O,8)}}function Pi(h,_,O,q,ie,re,ue,pe,me){var ye=[0],Ne=[0],Ve=0,we=me!=null?me.kd:0,Ie=me??new it;if(h==null||12>O)return 7;Ie.data=h,Ie.w=_,Ie.ha=O,_=[_],O=[O],Ie.gb=[Ie.gb];e:{var Fe=_,Qe=O,ze=Ie.gb;if(t(h!=null),t(Qe!=null),t(ze!=null),ze[0]=0,12<=Qe[0]&&!n(h,Fe[0],"RIFF")){if(n(h,Fe[0]+8,"WEBP")){ze=3;break e}var et=Ae(h,Fe[0]+4);if(12>et||4294967286<et){ze=3;break e}if(we&&et>Qe[0]-8){ze=7;break e}ze[0]=et,Fe[0]+=12,Qe[0]-=12}ze=0}if(ze!=0)return ze;for(et=0<Ie.gb[0],O=O[0];;){e:{var tt=h;Qe=_,ze=O;var ct=ye,st=Ne,Lt=Fe=[0];if((Ct=Ve=[Ve])[0]=0,8>ze[0])ze=7;else{if(!n(tt,Qe[0],"VP8X")){if(Ae(tt,Qe[0]+4)!=10){ze=3;break e}if(18>ze[0]){ze=7;break e}var xt=Ae(tt,Qe[0]+8),Qt=1+de(tt,Qe[0]+12);if(2147483648<=Qt*(tt=1+de(tt,Qe[0]+15))){ze=3;break e}Lt!=null&&(Lt[0]=xt),ct!=null&&(ct[0]=Qt),st!=null&&(st[0]=tt),Qe[0]+=18,ze[0]-=18,Ct[0]=1}ze=0}}if(Ve=Ve[0],Fe=Fe[0],ze!=0)return ze;if(Qe=!!(2&Fe),!et&&Ve)return 3;if(re!=null&&(re[0]=!!(16&Fe)),ue!=null&&(ue[0]=Qe),pe!=null&&(pe[0]=0),ue=ye[0],Fe=Ne[0],Ve&&Qe&&me==null){ze=0;break}if(4>O){ze=7;break}if(et&&Ve||!et&&!Ve&&!n(h,_[0],"ALPH")){O=[O],Ie.na=[Ie.na],Ie.P=[Ie.P],Ie.Sa=[Ie.Sa];e:{xt=h,ze=_,et=O;var Ct=Ie.gb;ct=Ie.na,st=Ie.P,Lt=Ie.Sa,Qt=22,t(xt!=null),t(et!=null),tt=ze[0];var sn=et[0];for(t(ct!=null),t(Lt!=null),ct[0]=null,st[0]=null,Lt[0]=0;;){if(ze[0]=tt,et[0]=sn,8>sn){ze=7;break e}var Co=Ae(xt,tt+4);if(4294967286<Co){ze=3;break e}var en=8+Co+1&-2;if(Qt+=en,0<Ct&&Qt>Ct){ze=3;break e}if(!n(xt,tt,"VP8 ")||!n(xt,tt,"VP8L")){ze=0;break e}if(sn[0]<en){ze=7;break e}n(xt,tt,"ALPH")||(ct[0]=xt,st[0]=tt+8,Lt[0]=Co),tt+=en,sn-=en}}if(O=O[0],Ie.na=Ie.na[0],Ie.P=Ie.P[0],Ie.Sa=Ie.Sa[0],ze!=0)break}O=[O],Ie.Ja=[Ie.Ja],Ie.xa=[Ie.xa];e:if(Ct=h,ze=_,et=O,ct=Ie.gb[0],st=Ie.Ja,Lt=Ie.xa,xt=ze[0],tt=!n(Ct,xt,"VP8 "),Qt=!n(Ct,xt,"VP8L"),t(Ct!=null),t(et!=null),t(st!=null),t(Lt!=null),8>et[0])ze=7;else{if(tt||Qt){if(Ct=Ae(Ct,xt+4),12<=ct&&Ct>ct-12){ze=3;break e}if(we&&Ct>et[0]-8){ze=7;break e}st[0]=Ct,ze[0]+=8,et[0]-=8,Lt[0]=Qt}else Lt[0]=5<=et[0]&&Ct[xt+0]==47&&!(Ct[xt+4]>>5),st[0]=et[0];ze=0}if(O=O[0],Ie.Ja=Ie.Ja[0],Ie.xa=Ie.xa[0],_=_[0],ze!=0)break;if(4294967286<Ie.Ja)return 3;if(pe==null||Qe||(pe[0]=Ie.xa?2:1),ue=[ue],Fe=[Fe],Ie.xa){if(5>O){ze=7;break}pe=ue,we=Fe,Qe=re,h==null||5>O?h=0:5<=O&&h[_+0]==47&&!(h[_+4]>>5)?(et=[0],Ct=[0],ct=[0],xe(st=new he,h,_,O),xa(st,et,Ct,ct)?(pe!=null&&(pe[0]=et[0]),we!=null&&(we[0]=Ct[0]),Qe!=null&&(Qe[0]=ct[0]),h=1):h=0):h=0}else{if(10>O){ze=7;break}pe=Fe,h==null||10>O||!ka(h,_+3,O-3)?h=0:(we=h[_+0]|h[_+1]<<8|h[_+2]<<16,Qe=16383&(h[_+7]<<8|h[_+6]),h=16383&(h[_+9]<<8|h[_+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=Ie.Ja||!Qe||!h?h=0:(ue&&(ue[0]=Qe),pe&&(pe[0]=h),h=1))}if(!h||(ue=ue[0],Fe=Fe[0],Ve&&(ye[0]!=ue||Ne[0]!=Fe)))return 3;me!=null&&(me[0]=Ie,me.offset=_-me.w,t(4294967286>_-me.w),t(me.offset==me.ha-O));break}return ze==0||ze==7&&Ve&&me==null?(re!=null&&(re[0]|=Ie.na!=null&&0<Ie.na.length),q!=null&&(q[0]=ue),ie!=null&&(ie[0]=Fe),0):ze}function el(h,_,O){var q=_.width,ie=_.height,re=0,ue=0,pe=q,me=ie;if(_.Da=h!=null&&0<h.Da,_.Da&&(pe=h.cd,me=h.bd,re=h.v,ue=h.j,11>O||(re&=-2,ue&=-2),0>re||0>ue||0>=pe||0>=me||re+pe>q||ue+me>ie))return 0;if(_.v=re,_.j=ue,_.va=re+pe,_.o=ue+me,_.U=pe,_.T=me,_.da=h!=null&&0<h.da,_.da){if(!Ge(pe,me,O=[h.ib],re=[h.hb]))return 0;_.ib=O[0],_.hb=re[0]}return _.ob=h!=null&&h.ob,_.Kb=h==null||!h.Sd,_.da&&(_.ob=_.ib<3*q/4&&_.hb<3*ie/4,_.Kb=0),1}function Ma(h){if(h==null)return 2;if(11>h.S){var _=h.f.RGBA;_.fb+=(h.height-1)*_.A,_.A=-_.A}else _=h.f.kb,h=h.height,_.O+=(h-1)*_.fa,_.fa=-_.fa,_.N+=(h-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(h-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(h-1)*_.lb,_.lb=-_.lb);return 0}function Fa(h,_,O,q){if(q==null||0>=h||0>=_)return 2;if(O!=null){if(O.Da){var ie=O.cd,re=O.bd,ue=-2&O.v,pe=-2&O.j;if(0>ue||0>pe||0>=ie||0>=re||ue+ie>h||pe+re>_)return 2;h=ie,_=re}if(O.da){if(!Ge(h,_,ie=[O.ib],re=[O.hb]))return 2;h=ie[0],_=re[0]}}q.width=h,q.height=_;e:{var me=q.width,ye=q.height;if(h=q.S,0>=me||0>=ye||!(h>=Ml&&13>h))h=2;else{if(0>=q.Rd&&q.sd==null){ue=re=ie=_=0;var Ne=(pe=me*wh[h])*ye;if(11>h||(re=(ye+1)/2*(_=(me+1)/2),h==12&&(ue=(ie=me)*ye)),(ye=r(Ne+2*re+ue))==null){h=1;break e}q.sd=ye,11>h?((me=q.f.RGBA).eb=ye,me.fb=0,me.A=pe,me.size=Ne):((me=q.f.kb).y=ye,me.O=0,me.fa=pe,me.Fd=Ne,me.f=ye,me.N=0+Ne,me.Ab=_,me.Cd=re,me.ea=ye,me.W=0+Ne+re,me.Db=_,me.Ed=re,h==12&&(me.F=ye,me.J=0+Ne+2*re),me.Tc=ue,me.lb=ie)}if(_=1,ie=q.S,re=q.width,ue=q.height,ie>=Ml&&13>ie)if(11>ie)h=q.f.RGBA,_&=(pe=Math.abs(h.A))*(ue-1)+re<=h.size,_&=pe>=re*wh[ie],_&=h.eb!=null;else{h=q.f.kb,pe=(re+1)/2,Ne=(ue+1)/2,me=Math.abs(h.fa),ye=Math.abs(h.Ab);var Ve=Math.abs(h.Db),we=Math.abs(h.lb),Ie=we*(ue-1)+re;_&=me*(ue-1)+re<=h.Fd,_&=ye*(Ne-1)+pe<=h.Cd,_=(_&=Ve*(Ne-1)+pe<=h.Ed)&me>=re&ye>=pe&Ve>=pe,_&=h.y!=null,_&=h.f!=null,_&=h.ea!=null,ie==12&&(_&=we>=re,_&=Ie<=h.Tc,_&=h.F!=null)}else _=0;h=_?0:2}}return h!=0||O!=null&&O.fd&&(h=Ma(q)),h}var aa=64,ri=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],no=24,Ui=32,Ba=8,sa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];De("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(h){return h},R.Predictor2=function(h,_,O){return _[O+0]},R.Predictor3=function(h,_,O){return _[O+1]},R.Predictor4=function(h,_,O){return _[O-1]},R.Predictor5=function(h,_,O){return Ze(Ze(h,_[O+1]),_[O+0])},R.Predictor6=function(h,_,O){return Ze(h,_[O-1])},R.Predictor7=function(h,_,O){return Ze(h,_[O+0])},R.Predictor8=function(h,_,O){return Ze(_[O-1],_[O+0])},R.Predictor9=function(h,_,O){return Ze(_[O+0],_[O+1])},R.Predictor10=function(h,_,O){return Ze(Ze(h,_[O-1]),Ze(_[O+0],_[O+1]))},R.Predictor11=function(h,_,O){var q=_[O+0];return 0>=Ue(q>>24&255,h>>24&255,(_=_[O-1])>>24&255)+Ue(q>>16&255,h>>16&255,_>>16&255)+Ue(q>>8&255,h>>8&255,_>>8&255)+Ue(255&q,255&h,255&_)?q:h},R.Predictor12=function(h,_,O){var q=_[O+0];return(dt((h>>24&255)+(q>>24&255)-((_=_[O-1])>>24&255))<<24|dt((h>>16&255)+(q>>16&255)-(_>>16&255))<<16|dt((h>>8&255)+(q>>8&255)-(_>>8&255))<<8|dt((255&h)+(255&q)-(255&_)))>>>0},R.Predictor13=function(h,_,O){var q=_[O-1];return(Ce((h=Ze(h,_[O+0]))>>24&255,q>>24&255)<<24|Ce(h>>16&255,q>>16&255)<<16|Ce(h>>8&255,q>>8&255)<<8|Ce(255&h,255&q))>>>0};var tl=R.PredictorAdd0;R.PredictorAdd1=Je,De("Predictor2","PredictorAdd2"),De("Predictor3","PredictorAdd3"),De("Predictor4","PredictorAdd4"),De("Predictor5","PredictorAdd5"),De("Predictor6","PredictorAdd6"),De("Predictor7","PredictorAdd7"),De("Predictor8","PredictorAdd8"),De("Predictor9","PredictorAdd9"),De("Predictor10","PredictorAdd10"),De("Predictor11","PredictorAdd11"),De("Predictor12","PredictorAdd12"),De("Predictor13","PredictorAdd13");var Ho=R.PredictorAdd2;ft("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Yn,ja=R.ColorIndexInverseTransform,ra=R.MapARGB,xo=R.VP8LColorIndexInverseTransformAlpha,us=R.MapAlpha,fr=R.VP8LPredictorsAdd=[];fr.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var Ms,ds,la,Vi,li,ca,ua,fs,$i,ci,mn,Sn,Xn,oo,za,Go,Ua,Ol,nl,bu,wc,yu,pr,wu,da,xc,Ac,xu,fa=r(511),Sc=r(2041),kc=r(225),hr=r(767),Au=0,mr=Sc,ps=kc,Wo=hr,ui=fa,Ml=0,ol=1,Cc=2,il=3,al=4,Fl=5,Su=6,Bl=7,jl=8,zl=9,a=10,u=[2,3,7],g=[3,3,11],E=[280,256,256,256,40],G=[0,1,1,1,0],ce=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Se=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Be=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],qe=8,at=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_t=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],$t=null,tn=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ro=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],fo=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ti=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Zo=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],vr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],nf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hs=[],qi=[],pa=[],of=1,Ec=2,En=[],Oo=[];Da("UpsampleRgbLinePair",ia,3),Da("UpsampleBgrLinePair",uo,3),Da("UpsampleRgbaLinePair",Rn,4),Da("UpsampleBgraLinePair",Qr,4),Da("UpsampleArgbLinePair",ur,4),Da("UpsampleRgba4444LinePair",Os,2),Da("UpsampleRgb565LinePair",Rs,2);var af=R.UpsampleRgbLinePair,sf=R.UpsampleBgrLinePair,ku=R.UpsampleRgbaLinePair,Ul=R.UpsampleBgraLinePair,Lc=R.UpsampleArgbLinePair,Cu=R.UpsampleRgba4444LinePair,D0=R.UpsampleRgb565LinePair,Eu=16,Lu=1<<Eu-1,Nc=-227,rf=482,R0=6,bh=0,O0=r(256),M0=r(256),F0=r(256),B0=r(256),j0=r(rf-Nc),z0=r(rf-Nc);qo("YuvToRgbRow",ia,3),qo("YuvToBgrRow",uo,3),qo("YuvToRgbaRow",Rn,4),qo("YuvToBgraRow",Qr,4),qo("YuvToArgbRow",ur,4),qo("YuvToRgba4444Row",Os,2),qo("YuvToRgb565Row",Rs,2);var yh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Nu=[0,2,8],U0=[8,7,6,4,4,2,2,2,1,1,1,1],V0=1;this.WebPDecodeRGBA=function(h,_,O,q,ie){var re=ol,ue=new Ye,pe=new Yt;ue.ba=pe,pe.S=re,pe.width=[pe.width],pe.height=[pe.height];var me=pe.width,ye=pe.height,Ne=new Ot;if(Ne==null||h==null)var Ve=2;else t(Ne!=null),Ve=Pi(h,_,O,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(Ve!=0?me=0:(me!=null&&(me[0]=Ne.width[0]),ye!=null&&(ye[0]=Ne.height[0]),me=1),me){pe.width=pe.width[0],pe.height=pe.height[0],q!=null&&(q[0]=pe.width),ie!=null&&(ie[0]=pe.height);e:{if(q=new wn,(ie=new it).data=h,ie.w=_,ie.ha=O,ie.kd=1,_=[0],t(ie!=null),((h=Pi(ie.data,ie.w,ie.ha,null,null,null,_,null,ie))==0||h==7)&&_[0]&&(h=4),(_=h)==0){if(t(ue!=null),q.data=ie.data,q.w=ie.w+ie.offset,q.ha=ie.ha-ie.offset,q.put=Dt,q.ac=Qi,q.bc=wa,q.ma=ue,ie.xa){if((h=Ls())==null){ue=1;break e}if(function(we,Ie){var Fe=[0],Qe=[0],ze=[0];t:for(;;){if(we==null)return 0;if(Ie==null)return we.a=2,0;if(we.l=Ie,we.a=0,xe(we.m,Ie.data,Ie.w,Ie.ha),!xa(we.m,Fe,Qe,ze)){we.a=3;break t}if(we.xb=Ec,Ie.width=Fe[0],Ie.height=Qe[0],!ea(Fe[0],Qe[0],1,we,null))break t;return 1}return t(we.a!=0),0}(h,q)){if(q=(_=Fa(q.width,q.height,ue.Oa,ue.ba))==0){t:{q=h;n:for(;;){if(q==null){q=0;break t}if(t(q.s.yc!=null),t(q.s.Ya!=null),t(0<q.s.Wb),t((O=q.l)!=null),t((ie=O.ma)!=null),q.xb!=0){if(q.ca=ie.ba,q.tb=ie.tb,t(q.ca!=null),!el(ie.Oa,O,il)){q.a=2;break n}if(!Ns(q,O.width)||O.da)break n;if((O.da||Mt(q.ca.S))&&So(),11>q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),q.ca.f.kb.F!=null&&So()),q.Pb&&0<q.s.ua&&q.s.vb.X==null&&!ne(q.s.vb,q.s.Wa.Xa)){q.a=1;break n}q.xb=0}if(!Io(q,q.V,q.Ba,q.c,q.i,O.o,Aa))break n;ie.Dc=q.Ma,q=1;break t}t(q.a!=0),q=0}q=!q}q&&(_=h.a)}else _=h.a}else{if((h=new or)==null){ue=1;break e}if(h.Fa=ie.na,h.P=ie.P,h.qc=ie.Sa,ki(h,q)){if((_=Fa(q.width,q.height,ue.Oa,ue.ba))==0){if(h.Aa=0,O=ue.Oa,t((ie=h)!=null),O!=null){if(0<(me=0>(me=O.Md)?0:100<me?255:255*me/100)){for(ye=Ne=0;4>ye;++ye)12>(Ve=ie.pb[ye]).lc&&(Ve.ia=me*U0[0>Ve.lc?0:Ve.lc]>>3),Ne|=Ve.ia;Ne&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=O.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}(function(we,Ie){if(we==null)return 0;if(Ie==null)return Dn(we,2,"NULL VP8Io parameter in VP8Decode().");if(!we.cb&&!ki(we,Ie))return 0;if(t(we.cb),Ie.ac==null||Ie.ac(Ie)){Ie.ob&&(we.L=0);var Fe=Nu[we.L];if(we.L==2?(we.yb=0,we.zb=0):(we.yb=Ie.v-Fe>>4,we.zb=Ie.j-Fe>>4,0>we.yb&&(we.yb=0),0>we.zb&&(we.zb=0)),we.Va=Ie.o+15+Fe>>4,we.Hb=Ie.va+15+Fe>>4,we.Hb>we.za&&(we.Hb=we.za),we.Va>we.Ub&&(we.Va=we.Ub),0<we.L){var Qe=we.ed;for(Fe=0;4>Fe;++Fe){var ze;if(we.Qa.Cb){var et=we.Qa.Lb[Fe];we.Qa.Fb||(et+=Qe.Tb)}else et=Qe.Tb;for(ze=0;1>=ze;++ze){var tt=we.gd[Fe][ze],ct=et;if(Qe.Pc&&(ct+=Qe.vd[0],ze&&(ct+=Qe.od[0])),0<(ct=0>ct?0:63<ct?63:ct)){var st=ct;0<Qe.wb&&(st=4<Qe.wb?st>>2:st>>1)>9-Qe.wb&&(st=9-Qe.wb),1>st&&(st=1),tt.dd=st,tt.tc=2*ct+st,tt.ld=40<=ct?2:15<=ct?1:0}else tt.tc=0;tt.La=ze}}}Fe=0}else Dn(we,6,"Frame setup failed"),Fe=we.a;if(Fe=Fe==0){if(Fe){we.$c=0,0<we.Aa||(we.Ic=V0);t:{Fe=we.Ic,Qe=4*(st=we.za);var Lt=32*st,xt=st+1,Qt=0<we.L?st*(0<we.Aa?2:1):0,Ct=(we.Aa==2?2:1)*st;if((tt=Qe+832+(ze=3*(16*Fe+Nu[we.L])/2*Lt)+(et=we.Fa!=null&&0<we.Fa.length?we.Kc.c*we.Kc.i:0))!=tt)Fe=0;else{if(tt>we.Vb){if(we.Vb=0,we.Ec=r(tt),we.Fc=0,we.Ec==null){Fe=Dn(we,1,"no memory during frame initialization.");break t}we.Vb=tt}tt=we.Ec,ct=we.Fc,we.Ac=tt,we.Bc=ct,ct+=Qe,we.Gd=l(Lt,Hr),we.Hd=0,we.rb=l(xt+1,Vr),we.sb=1,we.wa=Qt?l(Qt,Si):null,we.Y=0,we.D.Nb=0,we.D.wa=we.wa,we.D.Y=we.Y,0<we.Aa&&(we.D.Y+=st),t(!0),we.oc=tt,we.pc=ct,ct+=832,we.ya=l(Ct,Sa),we.aa=0,we.D.ya=we.ya,we.D.aa=we.aa,we.Aa==2&&(we.D.aa+=st),we.R=16*st,we.B=8*st,st=(Lt=Nu[we.L])*we.R,Lt=Lt/2*we.B,we.sa=tt,we.ta=ct+st,we.qa=we.sa,we.ra=we.ta+16*Fe*we.R+Lt,we.Ha=we.qa,we.Ia=we.ra+8*Fe*we.B+Lt,we.$c=0,ct+=ze,we.mb=et?tt:null,we.nb=et?ct:null,t(ct+et<=we.Fc+we.Vb),Bn(we),s(we.Ac,we.Bc,0,Qe),Fe=1}}if(Fe){if(Ie.ka=0,Ie.y=we.sa,Ie.O=we.ta,Ie.f=we.qa,Ie.N=we.ra,Ie.ea=we.Ha,Ie.Vd=we.Ia,Ie.fa=we.R,Ie.Rc=we.B,Ie.F=null,Ie.J=0,!Au){for(Fe=-255;255>=Fe;++Fe)fa[255+Fe]=0>Fe?-Fe:Fe;for(Fe=-1020;1020>=Fe;++Fe)Sc[1020+Fe]=-128>Fe?-128:127<Fe?127:Fe;for(Fe=-112;112>=Fe;++Fe)kc[112+Fe]=-16>Fe?-16:15<Fe?15:Fe;for(Fe=-255;510>=Fe;++Fe)hr[255+Fe]=0>Fe?0:255<Fe?255:Fe;Au=1}ua=na,fs=Ca,ci=bn,mn=ta,Sn=as,$i=ir,Xn=Xr,oo=Is,za=oe,Go=be,Ua=Rl,Ol=C,nl=Ee,bu=Oe,wc=Ao,yu=Ta,pr=Yr,wu=Dl,qi[0]=Tl,qi[1]=$s,qi[2]=Ci,qi[3]=xn,qi[4]=Bi,qi[5]=Zr,qi[6]=ji,qi[7]=La,qi[8]=Na,qi[9]=ls,hs[0]=sr,hs[1]=Wr,hs[2]=ss,hs[3]=ar,hs[4]=rs,hs[5]=Ts,hs[6]=yc,pa[0]=Il,pa[1]=Gr,pa[2]=Un,pa[3]=Pa,pa[4]=rr,pa[5]=Kr,pa[6]=lr,Fe=1}else Fe=0}Fe&&(Fe=function(sn,Co){for(sn.M=0;sn.M<sn.Va;++sn.M){var en,Et=sn.Jc[sn.M&sn.Xb],vt=sn.m,po=sn;for(en=0;en<po.za;++en){var Zt=vt,ln=po,qn=ln.Ac,Mo=ln.Bc+4*en,di=ln.zc,io=ln.ya[ln.aa+en];if(ln.Qa.Bb?io.$b=ae(Zt,ln.Pa.jb[0])?2+ae(Zt,ln.Pa.jb[2]):ae(Zt,ln.Pa.jb[1]):io.$b=0,ln.kc&&(io.Ad=ae(Zt,ln.Bd)),io.Za=!ae(Zt,145)+0,io.Za){var Ko=io.Ob,fi=0;for(ln=0;4>ln;++ln){var Eo,fn=di[0+ln];for(Eo=0;4>Eo;++Eo){fn=Zo[qn[Mo+Eo]][fn];for(var Ln=fo[ae(Zt,fn[0])];0<Ln;)Ln=fo[2*Ln+ae(Zt,fn[Ln])];fn=-Ln,qn[Mo+Eo]=fn}i(Ko,fi,qn,Mo,4),fi+=4,di[0+ln]=fn}}else fn=ae(Zt,156)?ae(Zt,128)?1:3:ae(Zt,163)?2:0,io.Ob[0]=fn,s(qn,Mo,fn,4),s(di,0,fn,4);io.Dd=ae(Zt,142)?ae(Zt,114)?ae(Zt,183)?1:3:2:0}if(po.m.Ka)return Dn(sn,7,"Premature end-of-partition0 encountered.");for(;sn.ja<sn.za;++sn.ja){if(po=Et,Zt=(vt=sn).rb[vt.sb-1],qn=vt.rb[vt.sb+vt.ja],en=vt.ya[vt.aa+vt.ja],Mo=vt.kc?en.Ad:0)Zt.la=qn.la=0,en.Za||(Zt.Na=qn.Na=0),en.Hc=0,en.Gc=0,en.ia=0;else{var ao,Nn;if(Zt=qn,qn=po,Mo=vt.Pa.Xc,di=vt.ya[vt.aa+vt.ja],io=vt.pb[di.$b],ln=di.ad,Ko=0,fi=vt.rb[vt.sb-1],fn=Eo=0,s(ln,Ko,0,384),di.Za)var Fo=0,Va=Mo[3];else{Ln=r(16);var ho=Zt.Na+fi.Na;if(ho=$t(qn,Mo[1],ho,io.Eb,0,Ln,0),Zt.Na=fi.Na=(0<ho)+0,1<ho)ua(Ln,0,ln,Ko);else{var Ii=Ln[0]+3>>3;for(Ln=0;256>Ln;Ln+=16)ln[Ko+Ln]=Ii}Fo=1,Va=Mo[0]}var On=15&Zt.la,Lo=15&fi.la;for(Ln=0;4>Ln;++Ln){var Hi=1&Lo;for(Ii=Nn=0;4>Ii;++Ii)On=On>>1|(Hi=(ho=$t(qn,Va,ho=Hi+(1&On),io.Sc,Fo,ln,Ko))>Fo)<<7,Nn=Nn<<2|(3<ho?3:1<ho?2:ln[Ko+0]!=0),Ko+=16;On>>=4,Lo=Lo>>1|Hi<<7,Eo=(Eo<<8|Nn)>>>0}for(Va=On,Fo=Lo>>4,ao=0;4>ao;ao+=2){for(Nn=0,On=Zt.la>>4+ao,Lo=fi.la>>4+ao,Ln=0;2>Ln;++Ln){for(Hi=1&Lo,Ii=0;2>Ii;++Ii)ho=Hi+(1&On),On=On>>1|(Hi=0<(ho=$t(qn,Mo[2],ho,io.Qc,0,ln,Ko)))<<3,Nn=Nn<<2|(3<ho?3:1<ho?2:ln[Ko+0]!=0),Ko+=16;On>>=2,Lo=Lo>>1|Hi<<5}fn|=Nn<<4*ao,Va|=On<<4<<ao,Fo|=(240&Lo)<<ao}Zt.la=Va,fi.la=Fo,di.Hc=Eo,di.Gc=fn,di.ia=43690&fn?0:io.ia,Mo=!(Eo|fn)}if(0<vt.L&&(vt.wa[vt.Y+vt.ja]=vt.gd[en.$b][en.Za],vt.wa[vt.Y+vt.ja].La|=!Mo),po.Ka)return Dn(sn,7,"Premature end-of-file encountered.")}if(Bn(sn),vt=Co,po=1,en=(Et=sn).D,Zt=0<Et.L&&Et.M>=Et.zb&&Et.M<=Et.Va,Et.Aa==0)t:{if(en.M=Et.M,en.uc=Zt,Ni(Et,en),po=1,en=(Nn=Et.D).Nb,Zt=(fn=Nu[Et.L])*Et.R,qn=fn/2*Et.B,Ln=16*en*Et.R,Ii=8*en*Et.B,Mo=Et.sa,di=Et.ta-Zt+Ln,io=Et.qa,ln=Et.ra-qn+Ii,Ko=Et.Ha,fi=Et.Ia-qn+Ii,Lo=(On=Nn.M)==0,Eo=On>=Et.Va-1,Et.Aa==2&&Ni(Et,Nn),Nn.uc)for(Hi=(ho=Et).D.M,t(ho.D.uc),Nn=ho.yb;Nn<ho.Hb;++Nn){Fo=Nn,Va=Hi;var pi=(Gi=(Bo=ho).D).Nb;ao=Bo.R;var Gi=Gi.wa[Gi.Y+Fo],Wi=Bo.sa,Di=Bo.ta+16*pi*ao+16*Fo,Zi=Gi.dd,jn=Gi.tc;if(jn!=0)if(t(3<=jn),Bo.L==1)0<Fo&&yu(Wi,Di,ao,jn+4),Gi.La&&wu(Wi,Di,ao,jn),0<Va&&wc(Wi,Di,ao,jn+4),Gi.La&&pr(Wi,Di,ao,jn);else{var Ki=Bo.B,qa=Bo.qa,sl=Bo.ra+8*pi*Ki+8*Fo,Fs=Bo.Ha,Bo=Bo.Ia+8*pi*Ki+8*Fo;pi=Gi.ld,0<Fo&&(oo(Wi,Di,ao,jn+4,Zi,pi),Go(qa,sl,Fs,Bo,Ki,jn+4,Zi,pi)),Gi.La&&(Ol(Wi,Di,ao,jn,Zi,pi),bu(qa,sl,Fs,Bo,Ki,jn,Zi,pi)),0<Va&&(Xn(Wi,Di,ao,jn+4,Zi,pi),za(qa,sl,Fs,Bo,Ki,jn+4,Zi,pi)),Gi.La&&(Ua(Wi,Di,ao,jn,Zi,pi),nl(qa,sl,Fs,Bo,Ki,jn,Zi,pi))}}if(Et.ia&&alert("todo:DitherRow"),vt.put!=null){if(Nn=16*On,On=16*(On+1),Lo?(vt.y=Et.sa,vt.O=Et.ta+Ln,vt.f=Et.qa,vt.N=Et.ra+Ii,vt.ea=Et.Ha,vt.W=Et.Ia+Ii):(Nn-=fn,vt.y=Mo,vt.O=di,vt.f=io,vt.N=ln,vt.ea=Ko,vt.W=fi),Eo||(On-=fn),On>vt.o&&(On=vt.o),vt.F=null,vt.J=null,Et.Fa!=null&&0<Et.Fa.length&&Nn<On&&(vt.J=An(Et,vt,Nn,On-Nn),vt.F=Et.mb,vt.F==null&&vt.F.length==0)){po=Dn(Et,3,"Could not decode alpha data.");break t}Nn<vt.j&&(fn=vt.j-Nn,Nn=vt.j,t(!(1&fn)),vt.O+=Et.R*fn,vt.N+=Et.B*(fn>>1),vt.W+=Et.B*(fn>>1),vt.F!=null&&(vt.J+=vt.width*fn)),Nn<On&&(vt.O+=vt.v,vt.N+=vt.v>>1,vt.W+=vt.v>>1,vt.F!=null&&(vt.J+=vt.v),vt.ka=Nn-vt.j,vt.U=vt.va-vt.v,vt.T=On-Nn,po=vt.put(vt))}en+1!=Et.Ic||Eo||(i(Et.sa,Et.ta-Zt,Mo,di+16*Et.R,Zt),i(Et.qa,Et.ra-qn,io,ln+8*Et.B,qn),i(Et.Ha,Et.Ia-qn,Ko,fi+8*Et.B,qn))}if(!po)return Dn(sn,6,"Output aborted.")}return 1}(we,Ie)),Ie.bc!=null&&Ie.bc(Ie),Fe&=1}return Fe?(we.cb=0,Fe):0})(h,q)||(_=h.a)}}else _=h.a}_==0&&ue.Oa!=null&&ue.Oa.fd&&(_=Ma(ue.ba))}ue=_}re=ue!=0?null:11>re?pe.f.RGBA.eb:pe.f.kb.y}else re=null;return re};var wh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(R,z){for(var x="",$=0;$<4;$++)x+=String.fromCharCode(R[z++]);return x}function f(R,z){return R[z+0]|R[z+1]<<8}function v(R,z){return(R[z+0]|R[z+1]<<8|R[z+2]<<16)>>>0}function w(R,z){return(R[z+0]|R[z+1]<<8|R[z+2]<<16|R[z+3]<<24)>>>0}new d;var m=[0],y=[0],A=[],N=new d,k=e,T=function(R,z){var x={},$=0,Z=!1,b=0,S=0;if(x.frames=[],!function(X,he){for(var J=0;J<4;J++)if(X[he+J]!="RIFF".charCodeAt(J))return!0;return!1}(R,z)){for(w(R,z+=4),z+=8;z<R.length;){var Q=p(R,z),U=w(R,z+=4);z+=4;var le=U+(1&U);switch(Q){case"VP8 ":case"VP8L":x.frames[$]===void 0&&(x.frames[$]={}),(Le=x.frames[$]).src_off=Z?S:z-8,Le.src_size=b+U+8,$++,Z&&(Z=!1,b=0,S=0);break;case"VP8X":(Le=x.header={}).feature_flags=R[z];var xe=z+4;Le.canvas_width=1+v(R,xe),xe+=3,Le.canvas_height=1+v(R,xe),xe+=3;break;case"ALPH":Z=!0,b=le+8,S=z-8;break;case"ANIM":(Le=x.header).bgcolor=w(R,z),xe=z+4,Le.loop_count=f(R,xe),xe+=2;break;case"ANMF":var ke,Le;(Le=x.frames[$]={}).offset_x=2*v(R,z),z+=3,Le.offset_y=2*v(R,z),z+=3,Le.width=1+v(R,z),z+=3,Le.height=1+v(R,z),z+=3,Le.duration=v(R,z),z+=3,ke=R[z++],Le.dispose=1&ke,Le.blend=ke>>1&1}Q!="ANMF"&&(z+=le)}return x}}(k,0);T.response=k,T.rgbaoutput=!0,T.dataurl=!1;var I=T.header?T.header:null,j=T.frames?T.frames:null;if(I){I.loop_counter=I.loop_count,m=[I.canvas_height],y=[I.canvas_width];for(var K=0;K<j.length&&j[K].blend!=0;K++);}var W=j[0],H=N.WebPDecodeRGBA(k,W.src_off,W.src_size,y,m);W.rgba=H,W.imgwidth=y[0],W.imgheight=m[0];for(var F=0;F<y[0]*m[0]*4;F++)A[F]=H[F];return this.width=y,this.height=m,this.data=A,this}(function(e){var t,n,i,s,r,l,c,d,p,f=function(X){return X=X||{},this.isStrokeTransparent=X.isStrokeTransparent||!1,this.strokeOpacity=X.strokeOpacity||1,this.strokeStyle=X.strokeStyle||"#000000",this.fillStyle=X.fillStyle||"#000000",this.isFillTransparent=X.isFillTransparent||!1,this.fillOpacity=X.fillOpacity||1,this.font=X.font||"10px sans-serif",this.textBaseline=X.textBaseline||"alphabetic",this.textAlign=X.textAlign||"left",this.lineWidth=X.lineWidth||1,this.lineJoin=X.lineJoin||"miter",this.lineCap=X.lineCap||"butt",this.path=X.path||[],this.transform=X.transform!==void 0?X.transform.clone():new d,this.globalCompositeOperation=X.globalCompositeOperation||"normal",this.globalAlpha=X.globalAlpha||1,this.clip_path=X.clip_path||[],this.currentPoint=X.currentPoint||new l,this.miterLimit=X.miterLimit||10,this.lastPoint=X.lastPoint||new l,this.lineDashOffset=X.lineDashOffset||0,this.lineDash=X.lineDash||[],this.margin=X.margin||[0,0,0,0],this.prevPageLastElemOffset=X.prevPageLastElemOffset||0,this.ignoreClearRect=typeof X.ignoreClearRect!="boolean"||X.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new v(this),t=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,r=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,d=this.internal.Matrix,p=new f}]);var v=function(X){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var he=X;Object.defineProperty(this,"pdf",{get:function(){return he}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(ne){J=!!ne}});var B=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return B},set:function(ne){B=!!ne}});var V=0;Object.defineProperty(this,"posX",{get:function(){return V},set:function(ne){isNaN(ne)||(V=ne)}});var Y=0;Object.defineProperty(this,"posY",{get:function(){return Y},set:function(ne){isNaN(ne)||(Y=ne)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(ne){var ge;typeof ne=="number"?ge=[ne,ne,ne,ne]:((ge=new Array(4))[0]=ne[0],ge[1]=ne.length>=2?ne[1]:ge[0],ge[2]=ne.length>=3?ne[2]:ge[0],ge[3]=ne.length>=4?ne[3]:ge[1]),p.margin=ge}});var ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ee},set:function(ne){ee=ne}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(ne){fe=ne}});var ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ae},set:function(ne){ae=ne}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(ne){ne instanceof f&&(p=ne)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(ne){p.path=ne}});var te=[];Object.defineProperty(this,"ctxStack",{get:function(){return te},set:function(ne){te=ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ne){var ge;ge=w(ne),this.ctx.fillStyle=ge.style,this.ctx.isFillTransparent=ge.a===0,this.ctx.fillOpacity=ge.a,this.pdf.setFillColor(ge.r,ge.g,ge.b,{a:ge.a}),this.pdf.setTextColor(ge.r,ge.g,ge.b,{a:ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ne){var ge=w(ne);this.ctx.strokeStyle=ge.style,this.ctx.isStrokeTransparent=ge.a===0,this.ctx.strokeOpacity=ge.a,ge.a===0?this.pdf.setDrawColor(255,255,255):(ge.a,this.pdf.setDrawColor(ge.r,ge.g,ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ne){["butt","round","square"].indexOf(ne)!==-1&&(this.ctx.lineCap=ne,this.pdf.setLineCap(ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ne){isNaN(ne)||(this.ctx.lineWidth=ne,this.pdf.setLineWidth(ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ne){["bevel","round","miter"].indexOf(ne)!==-1&&(this.ctx.lineJoin=ne,this.pdf.setLineJoin(ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ne){isNaN(ne)||(this.ctx.miterLimit=ne,this.pdf.setMiterLimit(ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ne){this.ctx.textBaseline=ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ne){["right","end","center","left","start"].indexOf(ne)!==-1&&(this.ctx.textAlign=ne)}});var se=null,de=null,Ae=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ae},set:function(ne){se=null,de=null,Ae=ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ne){var ge;if(this.ctx.font=ne,(ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ne))!==null){var Me=ge[1];ge[2];var Ge=ge[3],Te=ge[4];ge[5];var Pe=ge[6],De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Te)[2];Te=Math.floor(De==="px"?parseFloat(Te)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(Te)*this.pdf.getFontSize():parseFloat(Te)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Te);var nt=function(ft){var rn,Kt,Ut=[],Pt=ft.trim();if(Pt==="")return ep;if(Pt in e1)return[e1[Pt]];for(;Pt!=="";){switch(Kt=null,rn=(Pt=n1(Pt)).charAt(0)){case'"':case"'":Kt=tS(Pt.substring(1),rn);break;default:Kt=nS(Pt)}if(Kt===null||(Ut.push(Kt[0]),(Pt=n1(Kt[1]))!==""&&Pt.charAt(0)!==","))return ep;Pt=Pt.replace(/^,/,"")}return Ut}(Pe);if(this.fontFaces){var Ze=function(ft,rn){var Kt=ft.getFontList(),Ut=JSON.stringify(Kt);if(se===null||de!==Ut){var Pt=function(on){var kt=[];return Object.keys(on).forEach(function(_n){on[_n].forEach(function(Mt){var Vt=null;switch(Mt){case"bold":Vt={family:_n,weight:"bold"};break;case"italic":Vt={family:_n,style:"italic"};break;case"bolditalic":Vt={family:_n,weight:"bold",style:"italic"};break;case"":case"normal":Vt={family:_n}}Vt!==null&&(Vt.ref={name:_n,style:Mt},kt.push(Vt))})}),kt}(Kt);se=function(on){for(var kt={},_n=0;_n<on.length;++_n){var Mt=Qf(on[_n]),Vt=Mt.family,In=Mt.stretch,Yt=Mt.style,Ot=Mt.weight;kt[Vt]=kt[Vt]||{},kt[Vt][In]=kt[Vt][In]||{},kt[Vt][In][Yt]=kt[Vt][In][Yt]||{},kt[Vt][In][Yt][Ot]=Mt}return kt}(Pt.concat(rn)),de=Ut}return se}(this.pdf,this.fontFaces),dt=nt.map(function(ft){return{family:ft,stretch:"normal",weight:Ge,style:Me}}),Ce=function(ft,rn,Kt){for(var Ut=(Kt=Kt||{}).defaultFontFamily||"times",Pt=Object.assign({},eS,Kt.genericFontFamilies||{}),on=null,kt=null,_n=0;_n<rn.length;++_n)if(Pt[(on=Qf(rn[_n])).family]&&(on.family=Pt[on.family]),ft.hasOwnProperty(on.family)){kt=ft[on.family];break}if(!(kt=kt||ft[Ut]))throw new Error("Could not find a font-family for the rule '"+t1(on)+"' and default family '"+Ut+"'.");if(kt=function(Mt,Vt){if(Vt[Mt])return Vt[Mt];var In=Mp[Mt],Yt=In<=Mp.normal?-1:1,Ot=Qv(Vt,A0,In,Yt);if(!Ot)throw new Error("Could not find a matching font-stretch value for "+Mt);return Ot}(on.stretch,kt),kt=function(Mt,Vt){if(Vt[Mt])return Vt[Mt];for(var In=x0[Mt],Yt=0;Yt<In.length;++Yt)if(Vt[In[Yt]])return Vt[In[Yt]];throw new Error("Could not find a matching font-style for "+Mt)}(on.style,kt),!(kt=function(Mt,Vt){if(Vt[Mt])return Vt[Mt];if(Mt===400&&Vt[500])return Vt[500];if(Mt===500&&Vt[400])return Vt[400];var In=QA[Mt],Yt=Qv(Vt,S0,In,Mt<400?-1:1);if(!Yt)throw new Error("Could not find a matching font-weight for value "+Mt);return Yt}(on.weight,kt)))throw new Error("Failed to resolve a font for the rule '"+t1(on)+"'.");return kt}(Ze,dt);this.pdf.setFont(Ce.ref.name,Ce.ref.style)}else{var Ue="";(Ge==="bold"||parseInt(Ge,10)>=700||Me==="bold")&&(Ue="bold"),Me==="italic"&&(Ue+="italic"),Ue.length===0&&(Ue="normal");for(var Je="",Re={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ut=0;ut<nt.length;ut++){if(this.pdf.internal.getFont(nt[ut],Ue,{noFallback:!0,disableWarning:!0})!==void 0){Je=nt[ut];break}if(Ue==="bolditalic"&&this.pdf.internal.getFont(nt[ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Je=nt[ut],Ue="bold";else if(this.pdf.internal.getFont(nt[ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Je=nt[ut],Ue="normal";break}}if(Je===""){for(var mt=0;mt<nt.length;mt++)if(Re[nt[mt]]){Je=Re[nt[mt]];break}}Je=Je===""?"Times":Je,this.pdf.setFont(Je,Ue)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ne){this.ctx.globalCompositeOperation=ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ne){this.ctx.globalAlpha=ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ne){this.ctx.lineDashOffset=ne,Le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ne){this.ctx.lineDash=ne,Le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ne){this.ctx.ignoreClearRect=!!ne}})};v.prototype.setLineDash=function(X){this.lineDash=X},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){j.call(this,"fill",!1)},v.prototype.stroke=function(){j.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(X,he){if(isNaN(X)||isNaN(he))throw Mn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new l(X,he));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new l(X,he)},v.prototype.closePath=function(){var X=new l(0,0),he=0;for(he=this.path.length-1;he!==-1;he--)if(this.path[he].type==="begin"&&$n(this.path[he+1])==="object"&&typeof this.path[he+1].x=="number"){X=new l(this.path[he+1].x,this.path[he+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(X.x,X.y)},v.prototype.lineTo=function(X,he){if(isNaN(X)||isNaN(he))throw Mn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new l(X,he));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new l(J.x,J.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},v.prototype.quadraticCurveTo=function(X,he,J,B){if(isNaN(J)||isNaN(B)||isNaN(X)||isNaN(he))throw Mn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var V=this.ctx.transform.applyToPoint(new l(J,B)),Y=this.ctx.transform.applyToPoint(new l(X,he));this.path.push({type:"qct",x1:Y.x,y1:Y.y,x:V.x,y:V.y}),this.ctx.lastPoint=new l(V.x,V.y)},v.prototype.bezierCurveTo=function(X,he,J,B,V,Y){if(isNaN(V)||isNaN(Y)||isNaN(X)||isNaN(he)||isNaN(J)||isNaN(B))throw Mn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ee=this.ctx.transform.applyToPoint(new l(V,Y)),fe=this.ctx.transform.applyToPoint(new l(X,he)),ae=this.ctx.transform.applyToPoint(new l(J,B));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:ae.x,y2:ae.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new l(ee.x,ee.y)},v.prototype.arc=function(X,he,J,B,V,Y){if(isNaN(X)||isNaN(he)||isNaN(J)||isNaN(B)||isNaN(V))throw Mn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Y=!!Y,!this.ctx.transform.isIdentity){var ee=this.ctx.transform.applyToPoint(new l(X,he));X=ee.x,he=ee.y;var fe=this.ctx.transform.applyToPoint(new l(0,J)),ae=this.ctx.transform.applyToPoint(new l(0,0));J=Math.sqrt(Math.pow(fe.x-ae.x,2)+Math.pow(fe.y-ae.y,2))}Math.abs(V-B)>=2*Math.PI&&(B=0,V=2*Math.PI),this.path.push({type:"arc",x:X,y:he,radius:J,startAngle:B,endAngle:V,counterclockwise:Y})},v.prototype.arcTo=function(X,he,J,B,V){throw new Error("arcTo not implemented.")},v.prototype.rect=function(X,he,J,B){if(isNaN(X)||isNaN(he)||isNaN(J)||isNaN(B))throw Mn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(X,he),this.lineTo(X+J,he),this.lineTo(X+J,he+B),this.lineTo(X,he+B),this.lineTo(X,he),this.lineTo(X+J,he),this.lineTo(X,he)},v.prototype.fillRect=function(X,he,J,B){if(isNaN(X)||isNaN(he)||isNaN(J)||isNaN(B))throw Mn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var V={};this.lineCap!=="butt"&&(V.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(V.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(X,he,J,B),this.fill(),V.hasOwnProperty("lineCap")&&(this.lineCap=V.lineCap),V.hasOwnProperty("lineJoin")&&(this.lineJoin=V.lineJoin)}},v.prototype.strokeRect=function(X,he,J,B){if(isNaN(X)||isNaN(he)||isNaN(J)||isNaN(B))throw Mn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(X,he,J,B),this.stroke())},v.prototype.clearRect=function(X,he,J,B){if(isNaN(X)||isNaN(he)||isNaN(J)||isNaN(B))throw Mn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(X,he,J,B))},v.prototype.save=function(X){X=typeof X!="boolean"||X;for(var he=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(he),X){this.ctx.fontSize=this.pdf.internal.getFontSize();var B=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=B}},v.prototype.restore=function(X){X=typeof X!="boolean"||X;for(var he=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(he),X&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(X){var he,J,B,V;if(X.isCanvasGradient===!0&&(X=X.getColor()),!X)return{r:0,g:0,b:0,a:0,style:X};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(X))he=0,J=0,B=0,V=0;else{var Y=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(X);if(Y!==null)he=parseInt(Y[1]),J=parseInt(Y[2]),B=parseInt(Y[3]),V=1;else if((Y=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(X))!==null)he=parseInt(Y[1]),J=parseInt(Y[2]),B=parseInt(Y[3]),V=parseFloat(Y[4]);else{if(V=1,typeof X=="string"&&X.charAt(0)!=="#"){var ee=new m0(X);X=ee.ok?ee.toHex():"#000000"}X.length===4?(he=X.substring(1,2),he+=he,J=X.substring(2,3),J+=J,B=X.substring(3,4),B+=B):(he=X.substring(1,3),J=X.substring(3,5),B=X.substring(5,7)),he=parseInt(he,16),J=parseInt(J,16),B=parseInt(B,16)}}return{r:he,g:J,b:B,a:V,style:X}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(X,he,J,B){if(isNaN(he)||isNaN(J)||typeof X!="string")throw Mn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(B=isNaN(B)?void 0:B,!m.call(this)){var V=le(this.ctx.transform.rotation),Y=this.ctx.transform.scaleX;$.call(this,{text:X,x:he,y:J,scale:Y,angle:V,align:this.textAlign,maxWidth:B})}},v.prototype.strokeText=function(X,he,J,B){if(isNaN(he)||isNaN(J)||typeof X!="string")throw Mn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){B=isNaN(B)?void 0:B;var V=le(this.ctx.transform.rotation),Y=this.ctx.transform.scaleX;$.call(this,{text:X,x:he,y:J,scale:Y,renderingMode:"stroke",angle:V,align:this.textAlign,maxWidth:B})}},v.prototype.measureText=function(X){if(typeof X!="string")throw Mn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var he=this.pdf,J=this.pdf.internal.scaleFactor,B=he.internal.getFontSize(),V=he.getStringUnitWidth(X)*B/he.internal.scaleFactor;return new function(Y){var ee=(Y=Y||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ee}}),this}({width:V*=Math.round(96*J/72*1e4)/1e4})},v.prototype.scale=function(X,he){if(isNaN(X)||isNaN(he))throw Mn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new d(X,0,0,he,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},v.prototype.rotate=function(X){if(isNaN(X))throw Mn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var he=new d(Math.cos(X),Math.sin(X),-Math.sin(X),Math.cos(X),0,0);this.ctx.transform=this.ctx.transform.multiply(he)},v.prototype.translate=function(X,he){if(isNaN(X)||isNaN(he))throw Mn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new d(1,0,0,1,X,he);this.ctx.transform=this.ctx.transform.multiply(J)},v.prototype.transform=function(X,he,J,B,V,Y){if(isNaN(X)||isNaN(he)||isNaN(J)||isNaN(B)||isNaN(V)||isNaN(Y))throw Mn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ee=new d(X,he,J,B,V,Y);this.ctx.transform=this.ctx.transform.multiply(ee)},v.prototype.setTransform=function(X,he,J,B,V,Y){X=isNaN(X)?1:X,he=isNaN(he)?0:he,J=isNaN(J)?0:J,B=isNaN(B)?1:B,V=isNaN(V)?0:V,Y=isNaN(Y)?0:Y,this.ctx.transform=new d(X,he,J,B,V,Y)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(X,he,J,B,V,Y,ee,fe,ae){var te=this.pdf.getImageProperties(X),se=1,de=1,Ae=1,ne=1;B!==void 0&&fe!==void 0&&(Ae=fe/B,ne=ae/V,se=te.width/B*fe/B,de=te.height/V*ae/V),Y===void 0&&(Y=he,ee=J,he=0,J=0),B!==void 0&&fe===void 0&&(fe=B,ae=V),B===void 0&&fe===void 0&&(fe=te.width,ae=te.height);var ge=this.ctx.transform.decompose(),Me=le(ge.rotate.shx),Ge=new d,Te=(Ge=(Ge=(Ge=Ge.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale)).applyToRectangle(new c(Y-he*Ae,ee-J*ne,B*se,V*de));if(this.autoPaging){for(var Pe,De=N.call(this,Te),nt=[],Ze=0;Ze<De.length;Ze+=1)nt.indexOf(De[Ze])===-1&&nt.push(De[Ze]);I(nt);for(var dt=nt[0],Ce=nt[nt.length-1],Ue=dt;Ue<Ce+1;Ue++){this.pdf.setPage(Ue);var Je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Re=Ue===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=Ue===1?0:ut+(Ue-2)*mt;if(this.ctx.clip_path.length!==0){var rn=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(Pe,this.posX+this.margin[3],-ft+Re+this.ctx.prevPageLastElemOffset),K.call(this,"fill",!0),this.path=rn}var Kt=JSON.parse(JSON.stringify(Te));Kt=T([Kt],this.posX+this.margin[3],-ft+Re+this.ctx.prevPageLastElemOffset)[0];var Ut=(Ue>dt||Ue<Ce)&&A.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,mt,null).clip().discardPath()),this.pdf.addImage(X,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,Me),Ut&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(X,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,Me)};var N=function(X,he,J){var B=[];he=he||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var V=this.posY+this.ctx.prevPageLastElemOffset;switch(X.type){default:case"mt":case"lt":B.push(Math.floor((X.y+V)/J)+1);break;case"arc":B.push(Math.floor((X.y+V-X.radius)/J)+1),B.push(Math.floor((X.y+V+X.radius)/J)+1);break;case"qct":var Y=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,X.x1,X.y1,X.x,X.y);B.push(Math.floor((Y.y+V)/J)+1),B.push(Math.floor((Y.y+Y.h+V)/J)+1);break;case"bct":var ee=ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,X.x1,X.y1,X.x2,X.y2,X.x,X.y);B.push(Math.floor((ee.y+V)/J)+1),B.push(Math.floor((ee.y+ee.h+V)/J)+1);break;case"rect":B.push(Math.floor((X.y+V)/J)+1),B.push(Math.floor((X.y+X.h+V)/J)+1)}for(var fe=0;fe<B.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<B[fe];)k.call(this);return B},k=function(){var X=this.fillStyle,he=this.strokeStyle,J=this.font,B=this.lineCap,V=this.lineWidth,Y=this.lineJoin;this.pdf.addPage(),this.fillStyle=X,this.strokeStyle=he,this.font=J,this.lineCap=B,this.lineWidth=V,this.lineJoin=Y},T=function(X,he,J){for(var B=0;B<X.length;B++)switch(X[B].type){case"bct":X[B].x2+=he,X[B].y2+=J;case"qct":X[B].x1+=he,X[B].y1+=J;default:X[B].x+=he,X[B].y+=J}return X},I=function(X){return X.sort(function(he,J){return he-J})},j=function(X,he){var J=this.fillStyle,B=this.strokeStyle,V=this.lineCap,Y=this.lineWidth,ee=Math.abs(Y*this.ctx.transform.scaleX),fe=this.lineJoin;if(this.autoPaging){for(var ae,te,se=JSON.parse(JSON.stringify(this.path)),de=JSON.parse(JSON.stringify(this.path)),Ae=[],ne=0;ne<de.length;ne++)if(de[ne].x!==void 0)for(var ge=N.call(this,de[ne]),Me=0;Me<ge.length;Me+=1)Ae.indexOf(ge[Me])===-1&&Ae.push(ge[Me]);for(var Ge=0;Ge<Ae.length;Ge++)for(;this.pdf.internal.getNumberOfPages()<Ae[Ge];)k.call(this);I(Ae);for(var Te=Ae[0],Pe=Ae[Ae.length-1],De=Te;De<Pe+1;De++){this.pdf.setPage(De),this.fillStyle=J,this.strokeStyle=B,this.lineCap=V,this.lineWidth=ee,this.lineJoin=fe;var nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=De===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=De===1?0:dt+(De-2)*Ce;if(this.ctx.clip_path.length!==0){var Je=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(ae,this.posX+this.margin[3],-Ue+Ze+this.ctx.prevPageLastElemOffset),K.call(this,X,!0),this.path=Je}if(te=JSON.parse(JSON.stringify(se)),this.path=T(te,this.posX+this.margin[3],-Ue+Ze+this.ctx.prevPageLastElemOffset),he===!1||De===0){var Re=(De>Te||De<Pe)&&A.call(this);Re&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,Ce,null).clip().discardPath()),K.call(this,X,he),Re&&this.pdf.restoreGraphicsState()}this.lineWidth=Y}this.path=se}else this.lineWidth=ee,K.call(this,X,he),this.lineWidth=Y},K=function(X,he){if((X!=="stroke"||he||!y.call(this))&&(X==="stroke"||he||!m.call(this))){for(var J,B,V=[],Y=this.path,ee=0;ee<Y.length;ee++){var fe=Y[ee];switch(fe.type){case"begin":V.push({begin:!0});break;case"close":V.push({close:!0});break;case"mt":V.push({start:fe,deltas:[],abs:[]});break;case"lt":var ae=V.length;if(Y[ee-1]&&!isNaN(Y[ee-1].x)&&(J=[fe.x-Y[ee-1].x,fe.y-Y[ee-1].y],ae>0)){for(;ae>=0;ae--)if(V[ae-1].close!==!0&&V[ae-1].begin!==!0){V[ae-1].deltas.push(J),V[ae-1].abs.push(fe);break}}break;case"bct":J=[fe.x1-Y[ee-1].x,fe.y1-Y[ee-1].y,fe.x2-Y[ee-1].x,fe.y2-Y[ee-1].y,fe.x-Y[ee-1].x,fe.y-Y[ee-1].y],V[V.length-1].deltas.push(J);break;case"qct":var te=Y[ee-1].x+2/3*(fe.x1-Y[ee-1].x),se=Y[ee-1].y+2/3*(fe.y1-Y[ee-1].y),de=fe.x+2/3*(fe.x1-fe.x),Ae=fe.y+2/3*(fe.y1-fe.y),ne=fe.x,ge=fe.y;J=[te-Y[ee-1].x,se-Y[ee-1].y,de-Y[ee-1].x,Ae-Y[ee-1].y,ne-Y[ee-1].x,ge-Y[ee-1].y],V[V.length-1].deltas.push(J);break;case"arc":V.push({deltas:[],abs:[],arc:!0}),Array.isArray(V[V.length-1].abs)&&V[V.length-1].abs.push(fe)}}B=he?null:X==="stroke"?"stroke":"fill";for(var Me=!1,Ge=0;Ge<V.length;Ge++)if(V[Ge].arc)for(var Te=V[Ge].abs,Pe=0;Pe<Te.length;Pe++){var De=Te[Pe];De.type==="arc"?F.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,he,!Me):Z.call(this,De.x,De.y),Me=!0}else if(V[Ge].close===!0)this.pdf.internal.out("h"),Me=!1;else if(V[Ge].begin!==!0){var nt=V[Ge].start.x,Ze=V[Ge].start.y;b.call(this,V[Ge].deltas,nt,Ze),Me=!0}B&&R.call(this,B),he&&z.call(this)}},W=function(X){var he=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=he*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return X-J;case"top":return X+he-J;case"hanging":return X+he-2*J;case"middle":return X+he/2-J;default:return X}},H=function(X){return X+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var X=function(){};return X.colorStops=[],X.addColorStop=function(he,J){this.colorStops.push([he,J])},X.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},X.isCanvasGradient=!0,X},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(X,he,J,B,V,Y,ee,fe,ae){for(var te=Q.call(this,J,B,V,Y),se=0;se<te.length;se++){var de=te[se];se===0&&(ae?x.call(this,de.x1+X,de.y1+he):Z.call(this,de.x1+X,de.y1+he)),S.call(this,X,he,de.x2,de.y2,de.x3,de.y3,de.x4,de.y4)}fe?z.call(this):R.call(this,ee)},R=function(X){switch(X){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},x=function(X,he){this.pdf.internal.out(n(X)+" "+i(he)+" m")},$=function(X){var he;switch(X.align){case"right":case"end":he="right";break;case"center":he="center";break;default:he="left"}var J,B,V,Y=this.pdf.getTextDimensions(X.text),ee=W.call(this,X.y),fe=H.call(this,ee)-Y.h,ae=this.ctx.transform.applyToPoint(new l(X.x,ee));if(this.autoPaging){var te=this.ctx.transform.decompose(),se=new d;se=(se=(se=se.multiply(te.translate)).multiply(te.skew)).multiply(te.scale);for(var de=this.ctx.transform.applyToRectangle(new c(X.x,ee,Y.w,Y.h)),Ae=se.applyToRectangle(new c(X.x,fe,Y.w,Y.h)),ne=N.call(this,Ae),ge=[],Me=0;Me<ne.length;Me+=1)ge.indexOf(ne[Me])===-1&&ge.push(ne[Me]);I(ge);for(var Ge=ge[0],Te=ge[ge.length-1],Pe=Ge;Pe<Te+1;Pe++){this.pdf.setPage(Pe);var De=Pe===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[2],dt=Ze-this.margin[0],Ce=this.pdf.internal.pageSize.width-this.margin[1],Ue=Ce-this.margin[3],Je=Pe===1?0:nt+(Pe-2)*dt;if(this.ctx.clip_path.length!==0){var Re=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(J,this.posX+this.margin[3],-1*Je+De),K.call(this,"fill",!0),this.path=Re}var ut=T([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-Je+De+this.ctx.prevPageLastElemOffset)[0];X.scale>=.01&&(B=this.pdf.internal.getFontSize(),this.pdf.setFontSize(B*X.scale),V=this.lineWidth,this.lineWidth=V*X.scale);var mt=this.autoPaging!=="text";if(mt||ut.y+ut.h<=Ze){if(mt||ut.y>=De&&ut.x<=Ce){var ft=mt?X.text:this.pdf.splitTextToSize(X.text,X.maxWidth||Ce-ut.x)[0],rn=T([JSON.parse(JSON.stringify(de))],this.posX+this.margin[3],-Je+De+this.ctx.prevPageLastElemOffset)[0],Kt=mt&&(Pe>Ge||Pe<Te)&&A.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,dt,null).clip().discardPath()),this.pdf.text(ft,rn.x,rn.y,{angle:X.angle,align:he,renderingMode:X.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else ut.y<Ze&&(this.ctx.prevPageLastElemOffset+=Ze-ut.y);X.scale>=.01&&(this.pdf.setFontSize(B),this.lineWidth=V)}}else X.scale>=.01&&(B=this.pdf.internal.getFontSize(),this.pdf.setFontSize(B*X.scale),V=this.lineWidth,this.lineWidth=V*X.scale),this.pdf.text(X.text,ae.x+this.posX,ae.y+this.posY,{angle:X.angle,align:he,renderingMode:X.renderingMode,maxWidth:X.maxWidth}),X.scale>=.01&&(this.pdf.setFontSize(B),this.lineWidth=V)},Z=function(X,he,J,B){J=J||0,B=B||0,this.pdf.internal.out(n(X+J)+" "+i(he+B)+" l")},b=function(X,he,J){return this.pdf.lines(X,he,J,null,null)},S=function(X,he,J,B,V,Y,ee,fe){this.pdf.internal.out([t(s(J+X)),t(r(B+he)),t(s(V+X)),t(r(Y+he)),t(s(ee+X)),t(r(fe+he)),"c"].join(" "))},Q=function(X,he,J,B){for(var V=2*Math.PI,Y=Math.PI/2;he>J;)he-=V;var ee=Math.abs(J-he);ee<V&&B&&(ee=V-ee);for(var fe=[],ae=B?-1:1,te=he;ee>1e-5;){var se=te+ae*Math.min(ee,Y);fe.push(U.call(this,X,te,se)),ee-=Math.abs(se-te),te=se}return fe},U=function(X,he,J){var B=(J-he)/2,V=X*Math.cos(B),Y=X*Math.sin(B),ee=V,fe=-Y,ae=ee*ee+fe*fe,te=ae+ee*V+fe*Y,se=4/3*(Math.sqrt(2*ae*te)-te)/(ee*Y-fe*V),de=ee-se*fe,Ae=fe+se*ee,ne=de,ge=-Ae,Me=B+he,Ge=Math.cos(Me),Te=Math.sin(Me);return{x1:X*Math.cos(he),y1:X*Math.sin(he),x2:de*Ge-Ae*Te,y2:de*Te+Ae*Ge,x3:ne*Ge-ge*Te,y3:ne*Te+ge*Ge,x4:X*Math.cos(J),y4:X*Math.sin(J)}},le=function(X){return 180*X/Math.PI},xe=function(X,he,J,B,V,Y){var ee=X+.5*(J-X),fe=he+.5*(B-he),ae=V+.5*(J-V),te=Y+.5*(B-Y),se=Math.min(X,V,ee,ae),de=Math.max(X,V,ee,ae),Ae=Math.min(he,Y,fe,te),ne=Math.max(he,Y,fe,te);return new c(se,Ae,de-se,ne-Ae)},ke=function(X,he,J,B,V,Y,ee,fe){var ae,te,se,de,Ae,ne,ge,Me,Ge,Te,Pe,De,nt,Ze,dt=J-X,Ce=B-he,Ue=V-J,Je=Y-B,Re=ee-V,ut=fe-Y;for(te=0;te<41;te++)Ge=(ge=(se=X+(ae=te/40)*dt)+ae*((Ae=J+ae*Ue)-se))+ae*(Ae+ae*(V+ae*Re-Ae)-ge),Te=(Me=(de=he+ae*Ce)+ae*((ne=B+ae*Je)-de))+ae*(ne+ae*(Y+ae*ut-ne)-Me),te==0?(Pe=Ge,De=Te,nt=Ge,Ze=Te):(Pe=Math.min(Pe,Ge),De=Math.min(De,Te),nt=Math.max(nt,Ge),Ze=Math.max(Ze,Te));return new c(Math.round(Pe),Math.round(De),Math.round(nt-Pe),Math.round(Ze-De))},Le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var X,he,J=(X=this.ctx.lineDash,he=this.ctx.lineDashOffset,JSON.stringify({lineDash:X,lineDashOffset:he}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Nt.API),function(e){var t=function(l){var c,d,p,f,v,w,m,y,A,N;for(d=[],p=0,f=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;f>p;p+=4)(v=(l.charCodeAt(p)<<24)+(l.charCodeAt(p+1)<<16)+(l.charCodeAt(p+2)<<8)+l.charCodeAt(p+3))!==0?(w=(v=((v=((v=((v=(v-(N=v%85))/85)-(A=v%85))/85)-(y=v%85))/85)-(m=v%85))/85)%85,d.push(w+33,m+33,y+33,A+33,N+33)):d.push(122);return function(k,T){for(var I=T;I>0;I--)k.pop()}(d,c.length),String.fromCharCode.apply(String,d)+"~>"},n=function(l){var c,d,p,f,v,w=String,m="length",y=255,A="charCodeAt",N="slice",k="replace";for(l[N](-2),l=l[N](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),p=[],f=0,v=(l+=c="uuuuu"[N](l[m]%5||5))[m];v>f;f+=5)d=52200625*(l[A](f)-33)+614125*(l[A](f+1)-33)+7225*(l[A](f+2)-33)+85*(l[A](f+3)-33)+(l[A](f+4)-33),p.push(y&d>>24,y&d>>16,y&d>>8,y&d);return function(T,I){for(var j=I;j>0;j--)T.pop()}(p,c[m]),w.fromCharCode.apply(w,p)},i=function(l){return l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var d="",p=0;p<l.length;p+=2)d+=String.fromCharCode("0x"+(l[p]+l[p+1]));return d},r=function(l){for(var c=new Uint8Array(l.length),d=l.length;d--;)c[d]=l.charCodeAt(d);return(c=Pp(c)).reduce(function(p,f){return p+String.fromCharCode(f)},"")};e.processDataByFilters=function(l,c){var d=0,p=l||"",f=[];for(typeof(c=c||[])=="string"&&(c=[c]),d=0;d<c.length;d+=1)switch(c[d]){case"ASCII85Decode":case"/ASCII85Decode":p=n(p),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=t(p),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=s(p),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=i(p),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=r(p),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[d]+'" is not implemented')}return{data:p,reverseChain:f.reverse().join(" ")}}}(Nt.API),function(e){e.loadFile=function(t,n,i){return function(s,r,l){r=r!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=function(d,p,f){var v=new XMLHttpRequest,w=0,m=function(y){var A=y.length,N=[],k=String.fromCharCode;for(w=0;w<A;w+=1)N.push(k(255&y.charCodeAt(w)));return N.join("")};if(v.open("GET",d,!p),v.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(v.onload=function(){v.status===200?f(m(this.responseText)):f(void 0)}),v.send(null),p&&v.status===200)return m(v.responseText)}(s,r,l)}catch{}return c}(t,n,i)},e.loadImageFile=e.loadFile}(Nt.API),function(e){function t(){return(zt.html2canvas?Promise.resolve(zt.html2canvas):Rf(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function n(){return(zt.DOMPurify?Promise.resolve(zt.DOMPurify):Rf(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var i=function(c){var d=$n(c);return d==="undefined"?"undefined":d==="string"||c instanceof String?"string":d==="number"||c instanceof Number?"number":d==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":d==="object"?"object":"unknown"},s=function(c,d){var p=document.createElement(c);for(var f in d.className&&(p.className=d.className),d.innerHTML&&d.dompurify&&(p.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)p.style[f]=d.style[f];return p},r=function c(d,p){for(var f=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),v=d.firstChild;v;v=v.nextSibling)p!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||f.appendChild(c(v,p));return d.nodeType===1&&(d.nodeName==="CANVAS"?(f.width=d.width,f.height=d.height,f.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(f.value=d.value),f.addEventListener("load",function(){f.scrollTop=d.scrollTop,f.scrollLeft=d.scrollLeft},!0)),f},l=function c(d){var p=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),f=c.convert(Promise.resolve(),p);return(f=f.setProgress(1,c,1,[c])).set(d)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,d){return c.__proto__=d||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,d){return this.then(function(){switch(d=d||function(p){switch(i(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(c),d){case"string":return this.then(n).then(function(p){return this.set({src:s("div",{innerHTML:c,dompurify:p})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=r(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(d){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,d(this.prop.container,p)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(d){var p=this.opt.jsPDF,f=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=f,f)for(var m=0;m<f.length;++m){var y=f[m],A=y.src.find(function(N){return N.format==="truetype"});A&&p.addFont(A.url,y.ref.name,y.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,p.context2d.save(!0),d(this.prop.container,w)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(c,d,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(c,d):this.outputPdf(c,d)},l.prototype.outputPdf=function(c,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,d)})},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(c){if(i(c)!=="object")return this;var d=Object.keys(c||{}).map(function(p){if(p in l.template.prop)return function(){this.prop[p]=c[p]};switch(p){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[p]=c[p]}}},this);return this.then(function(){return this.thenList(d)})},l.prototype.get=function(c,d){return this.then(function(){var p=c in l.template.prop?this.prop[c]:this.opt[c];return d?d(p):p})},l.prototype.setMargin=function(c){return this.then(function(){switch(i(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},l.prototype.setPageSize=function(c){function d(p,f){return Math.floor(p*f/72*96)}return this.then(function(){(c=c||Nt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:d(c.inner.width,c.k),height:d(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},l.prototype.setProgress=function(c,d,p,f){return c!=null&&(this.progress.val=c),d!=null&&(this.progress.state=d),p!=null&&(this.progress.n=p),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,d,p,f){return this.setProgress(c?this.progress.val+c:null,d||null,p?this.progress.n+p:null,f?this.progress.stack.concat(f):null)},l.prototype.then=function(c,d){var p=this;return this.thenCore(c,d,function(f,v){return p.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(w){return p.updateProgress(null,f),w}).then(f,v).then(function(w){return p.updateProgress(1),w})})},l.prototype.thenCore=function(c,d,p){p=p||Promise.prototype.then;var f=this;c&&(c=c.bind(f)),d&&(d=d.bind(f));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:l.convert(Object.assign({},f),Promise.prototype),w=p.call(v,c,d);return l.convert(w,f.__proto__)},l.prototype.thenExternal=function(c,d){return Promise.prototype.then.call(this,c,d)},l.prototype.thenList=function(c){var d=this;return c.forEach(function(p){d=d.thenCore(p)}),d},l.prototype.catch=function(c){c&&(c=c.bind(this));var d=Promise.prototype.catch.call(this,c);return l.convert(d,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then(function(){throw new Error(c)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Nt.getPageSize=function(c,d,p){if($n(c)==="object"){var f=c;c=f.orientation,d=f.unit||d,p=f.format||p}d=d||"mm",p=p||"a4",c=(""+(c||"P")).toLowerCase();var v,w=(""+p).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+d}var y,A=0,N=0;if(m.hasOwnProperty(w))A=m[w][1]/v,N=m[w][0]/v;else try{A=p[1],N=p[0]}catch{throw new Error("Invalid format: "+p)}if(c==="p"||c==="portrait")c="p",N>A&&(y=N,N=A,A=y);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",A>N&&(y=N,N=A,A=y)}return{width:N,height:A,unit:d,k:v,orientation:c}},e.html=function(c,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Qf):null;var p=new l(d);return d.worker?p:p.from(c).doCallback()}}(Nt.API),Nt.API.addJS=function(e){return i1=e,this.internal.events.subscribe("postPutResources",function(){Yu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Yu+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),o1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+i1+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Yu!==void 0&&o1!==void 0&&this.internal.out("/Names <</JavaScript "+Yu+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),r=0;r<s.length;r++){var l=s[r],c=i.exec(l);if(c!=null){var d=c[1];n.internal.newObjectDeferredBegin(d,!1)}n.internal.write(l)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,f=[];for(r=0;r<p;r++){var v=n.internal.newObject();f.push(v);var w=n.internal.getPageInfo(r+1);n.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),r=0;r<f.length;r++)n.internal.write("(page_"+(r+1)+")"+f[r]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,s,r){var l={title:s,options:r,children:[]};return i==null&&(i=this.root),i.children.push(l),l},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var s=0;s<i.children.length;s++)this.genIds_r(i.children[s])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<i.children.length;r++){var l=i.children[r];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(i)),r>0&&this.line("/Prev "+this.makeRef(i.children[r-1])),r<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[r+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var d=n.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var p=0;p<i.children.length;p++)this.renderItems(i.children[p])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,s){for(var r=0;r<s.children.length;r++)i.count++,this.count_r(i,s.children[r]);return i.count}}])}(Nt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,i,s,r,l,c){var d,p=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=l||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,d=function(v){for(var w,m=256*v.charCodeAt(4)+v.charCodeAt(5),y=v.length,A={width:0,height:0,numcomponents:1},N=4;N<y;N+=2){if(N+=m,t.indexOf(v.charCodeAt(N+1))!==-1){w=256*v.charCodeAt(N+5)+v.charCodeAt(N+6),A={width:256*v.charCodeAt(N+7)+v.charCodeAt(N+8),height:w,numcomponents:v.charCodeAt(N+9)};break}m=256*v.charCodeAt(N+2)+v.charCodeAt(N+3)}return A}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),d.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}f={data:n,width:d.width,height:d.height,colorSpace:c,bitsPerComponent:8,filter:p,index:i,alias:s}}return f}}(Nt.API),Nt.API.processPNG=function(e,t,n,i){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,r=BA(e,{checkCrc:!0}),l=r.width,c=r.height,d=r.channels,p=r.palette,f=r.depth;s=p&&d===1?function(F){for(var R=F.width,z=F.height,x=F.data,$=F.palette,Z=F.depth,b=!1,S=[],Q=[],U=void 0,le=!1,xe=0,ke=0;ke<$.length;ke++){var Le=lv($[ke],4),X=Le[0],he=Le[1],J=Le[2],B=Le[3];S.push(X,he,J),B!=null&&(B===0?(xe++,Q.length<1&&Q.push(ke)):B<255&&(le=!0))}if(le||xe>1){b=!0,Q=void 0;var V=R*z;U=new Uint8Array(V);for(var Y=new DataView(x.buffer),ee=0;ee<V;ee++){var fe=tp(Y,ee,Z),ae=lv($[fe],4)[3];U[ee]=ae}}else xe===0&&(Q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:b?8:void 0,colorBytes:x,alphaBytes:U,needSMask:b,palette:S,mask:Q}}(r):d===2||d===4?function(F){for(var R=F.data,z=F.width,x=F.height,$=F.channels,Z=F.depth,b=$===2?"DeviceGray":"DeviceRGB",S=$-1,Q=z*x,U=S,le=Q*U,xe=1*Q,ke=Math.ceil(le*Z/8),Le=Math.ceil(xe*Z/8),X=new Uint8Array(ke),he=new Uint8Array(Le),J=new DataView(R.buffer),B=new DataView(X.buffer),V=new DataView(he.buffer),Y=!1,ee=0;ee<Q;ee++){for(var fe=ee*$,ae=0;ae<U;ae++)p1(B,tp(J,fe+ae,Z),ee*U+ae,Z);var te=tp(J,fe+U,Z);te<(1<<Z)-1&&(Y=!0),p1(V,te,1*ee,Z)}return{colorSpace:b,colorsPerPixel:S,sMaskBitsPerComponent:Y?Z:void 0,colorBytes:X,alphaBytes:he,needSMask:Y}}(r):function(F){var R=F.data,z=F.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:z,colorsPerPixel:z==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?function(x){for(var $=x.length,Z=new Uint8Array(2*$),b=new DataView(Z.buffer,Z.byteOffset,Z.byteLength),S=0;S<$;S++)b.setUint16(2*S,x[S],!1);return Z}(R):R,needSMask:!1}}(r);var v,w,m,y=s,A=y.colorSpace,N=y.colorsPerPixel,k=y.sMaskBitsPerComponent,T=y.colorBytes,I=y.alphaBytes,j=y.needSMask,K=y.palette,W=y.mask,H=null;return i!==Nt.API.image_compression.NONE&&typeof Pp=="function"?(H=function(F){var R;switch(F){case Nt.API.image_compression.FAST:R=11;break;case Nt.API.image_compression.MEDIUM:R=13;break;case Nt.API.image_compression.SLOW:R=14;break;default:R=12}return R}(i),v=this.decode.FLATE_DECODE,w="/Predictor ".concat(H," /Colors ").concat(N," /BitsPerComponent ").concat(f," /Columns ").concat(l),e=l1(T,Math.ceil(l*N*f/8),N,f,i),j&&(m=l1(I,Math.ceil(l*k/8),1,k,i))):(v=void 0,w=void 0,e=T,j&&(m=I)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:n,data:e,index:t,filter:v,decodeParameters:w,transparency:W,palette:K,sMask:m,predictor:H,width:l,height:c,bitsPerComponent:f,sMaskBitsPerComponent:k,colorSpace:A}}},function(e){e.processGIF89A=function(t,n,i,s){var r=new sS(t),l=r.width,c=r.height,d=[];r.decodeAndBlitFrameRGBA(0,d);var p={data:d,width:l,height:c},f=new np(100).encode(p,100);return e.processJPEG.call(this,f,n,i,s)},e.processGIF87A=e.processGIF89A}(Nt.API),Ha.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:i,blue:n,quad:r}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ha.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Mn.log("bit decode error:"+n)}},Ha.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var r=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var d=this.palette[r>>7-c&1];this.data[l+4*c]=d.blue,this.data[l+4*c+1]=d.green,this.data[l+4*c+2]=d.red,this.data[l+4*c+3]=255}n!==0&&(this.pos+=4-n)}},Ha.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var r=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+2*s*4,c=r>>4,d=15&r,p=this.palette[c];if(this.data[l]=p.blue,this.data[l+1]=p.green,this.data[l+2]=p.red,this.data[l+3]=255,2*s+1>=this.width)break;p=this.palette[d],this.data[l+4]=p.blue,this.data[l+4+1]=p.green,this.data[l+4+2]=p.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},Ha.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint8(this.pos++,!0),r=n*this.width*4+4*i;if(s<this.palette.length){var l=this.palette[s];this.data[r]=l.red,this.data[r+1]=l.green,this.data[r+2]=l.blue,this.data[r+3]=255}else this.data[r]=255,this.data[r+1]=255,this.data[r+2]=255,this.data[r+3]=255}e!==0&&(this.pos+=4-e)}},Ha.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var r=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(r&t)/t*255|0,c=(r>>5&t)/t*255|0,d=(r>>10&t)/t*255|0,p=r>>15?255:0,f=i*this.width*4+4*s;this.data[f]=d,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=p}this.pos+=e}},Ha.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var s=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&t)/t*255|0,d=(l>>5&n)/n*255|0,p=(l>>11)/t*255|0,f=s*this.width*4+4*r;this.data[f]=p,this.data[f+1]=d,this.data[f+2]=c,this.data[f+3]=255}this.pos+=e}},Ha.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=r,this.data[l+1]=s,this.data[l+2]=i,this.data[l+3]=255}this.pos+=this.width%4}},Ha.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*n;this.data[c]=r,this.data[c+1]=s,this.data[c+2]=i,this.data[c+3]=l}},Ha.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,i,s){var r=new Ha(t,!1),l=r.width,c=r.height,d={data:r.getData(),width:l,height:c},p=new np(100).encode(d,100);return e.processJPEG.call(this,p,n,i,s)}}(Nt.API),m1.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,i,s){var r=new m1(t),l=r.width,c=r.height,d={data:r.getData(),width:l,height:c},p=new np(100).encode(d,100);return e.processJPEG.call(this,p,n,i,s)}}(Nt.API),Nt.API.processRGBA=function(e,t,n){for(var i=e.data,s=i.length,r=new Uint8Array(s/4*3),l=new Uint8Array(s/4),c=0,d=0,p=0;p<s;p+=4){var f=i[p],v=i[p+1],w=i[p+2],m=i[p+3];r[c++]=f,r[c++]=v,r[c++]=w,l[d++]=m}var y=this.__addimage__.arrayBufferToBinaryString(r);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:y,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Nt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Zl=Nt.API,Xu=Zl.getCharWidthsArray=function(e,t){var n,i,s=(t=t||{}).font||this.internal.getFont(),r=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:s.metadata.Unicode.widths,d=c.fof?c.fof:1,p=t.kerning?t.kerning:s.metadata.Unicode.kerning,f=p.fof?p.fof:1,v=t.doKerning!==!1,w=0,m=e.length,y=0,A=c[0]||d,N=[];for(n=0;n<m;n++)i=e.charCodeAt(n),typeof s.metadata.widthOfString=="function"?N.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(i))+l*(1e3/r)||0)/1e3):(w=v&&$n(p[i])==="object"&&!isNaN(parseInt(p[i][y],10))?p[i][y]/f:0,N.push((c[i]||A)/d+w)),y=i;return N},a1=Zl.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Zl.processArabic&&(e=Zl.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,n,s)/n:Xu.apply(this,arguments).reduce(function(r,l){return r+l},0)},s1=function(e,t,n,i){for(var s=[],r=0,l=e.length,c=0;r!==l&&c+t[r]<n;)c+=t[r],r++;s.push(e.slice(0,r));var d=r;for(c=0;r!==l;)c+t[r]>i&&(s.push(e.slice(d,r)),c=0,d=r),c+=t[r],r++;return d!==r&&s.push(e.slice(d,r)),s},r1=function(e,t,n){n||(n={});var i,s,r,l,c,d,p,f=[],v=[f],w=n.textIndent||0,m=0,y=0,A=e.split(" "),N=Xu.apply(this,[" ",n])[0];if(d=n.lineIndent===-1?A[0].length+2:n.lineIndent||0){var k=Array(d).join(" "),T=[];A.map(function(j){(j=j.split(/\s*\n/)).length>1?T=T.concat(j.map(function(K,W){return(W&&K.length?`
`:"")+K})):T.push(j[0])}),A=T,d=a1.apply(this,[k,n])}for(r=0,l=A.length;r<l;r++){var I=0;if(i=A[r],d&&i[0]==`
`&&(i=i.substr(1),I=1),w+m+(y=(s=Xu.apply(this,[i,n])).reduce(function(j,K){return j+K},0))>t||I){if(y>t){for(c=s1.apply(this,[i,s,t-(w+m),t]),f.push(c.shift()),f=[c.pop()];c.length;)v.push([c.shift()]);y=s.slice(i.length-(f[0]?f[0].length:0)).reduce(function(j,K){return j+K},0)}else f=[i];v.push(f),w=y+d,m=N}else f.push(i),w+=m+y,m=N}return p=d?function(j,K){return(K?k:"")+j.join(" ")}:function(j){return j.join(" ")},v.map(p)},Zl.splitTextToSize=function(e,t,n){var i,s=(n=n||{}).fontSize||this.internal.getFontSize(),r=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var v=this.internal.getFont(f.fontName,f.fontStyle),w="Unicode";return v.metadata[w]?{widths:v.metadata[w].widths||{0:1},kerning:v.metadata[w].kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/s;r.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,r.lineIndent=n.lineIndent;var c,d,p=[];for(c=0,d=i.length;c<d;c++)p=p.concat(r1.apply(this,[i[c],l,r]));return p},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",i={},s={},r=0;r<16;r++)i[n[r]]=t[r],s[t[r]]=n[r];var l=function(w){return"0x"+parseInt(w,10).toString(16)},c=e.__fontmetrics__.compress=function(w){var m,y,A,N,k=["{"];for(var T in w){if(m=w[T],isNaN(parseInt(T,10))?y="'"+T+"'":(T=parseInt(T,10),y=(y=l(T).slice(2)).slice(0,-1)+s[y.slice(-1)]),typeof m=="number")m<0?(A=l(m).slice(3),N="-"):(A=l(m).slice(2),N=""),A=N+A.slice(0,-1)+s[A.slice(-1)];else{if($n(m)!=="object")throw new Error("Don't know what to do with value type "+$n(m)+".");A=c(m)}k.push(y+A)}return k.push("}"),k.join("")},d=e.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,y,A,N,k={},T=1,I=k,j=[],K="",W="",H=w.length-1,F=1;F<H;F+=1)(N=w[F])=="'"?m?(A=m.join(""),m=void 0):m=[]:m?m.push(N):N=="{"?(j.push([I,A]),I={},A=void 0):N=="}"?((y=j.pop())[0][y[1]]=I,A=void 0,I=y[0]):N=="-"?T=-1:A===void 0?i.hasOwnProperty(N)?(K+=i[N],A=parseInt(K,16)*T,T=1,K=""):K+=N:i.hasOwnProperty(N)?(W+=i[N],I[A]=parseInt(W,16)*T,T=1,A=void 0,W=""):W+=N;return k},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},v={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(w){var m=w.font,y=v.Unicode[m.postScriptName];y&&(m.metadata.Unicode={},m.metadata.Unicode.widths=y.widths,m.metadata.Unicode.kerning=y.kerning);var A=f.Unicode[m.postScriptName];A&&(m.metadata.Unicode.encoding=A,m.encoding=A.codePages[0])}])}(Nt.API),function(e){var t=function(n){for(var i=n.length,s=new Uint8Array(i),r=0;r<i;r++)s[r]=n.charCodeAt(r);return s};e.API.events.push(["addFont",function(n){var i=void 0,s=n.font,r=n.instance;if(!s.isStandardFont){if(r===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(i=r.existsFileInVFS(s.postScriptName)===!1?r.loadFile(s.postScriptName):r.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(dd(c)),l.metadata=e.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(s,i)}}])}(Nt),Nt.API.addSvgAsImage=function(e,t,n,i,s,r,l,c){if(isNaN(t)||isNaN(n))throw Mn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw Mn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=s;var p=d.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,d.width,d.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return(zt.canvg?Promise.resolve(zt.canvg):Rf(()=>import("./index.es-C17ANqU6.js"),[])).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(p,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(f)}).then(function(){v.addImage(d.toDataURL("image/jpeg",1),t,n,i,s,l,c)})},Nt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var s=0;s<this.internal.pages[i].length;s++)this.internal.pages[i][s]=this.internal.pages[i][s].replace(t,n);return this},Nt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var i,s,r,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),d=[],p=0,f=0,v=0;function w(y,A){var N,k=!1;for(N=0;N<y.length;N+=1)y[N]===A&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=c.length;for(v=0;v<m;v+=1)n[c[v]].value=n[c[v]].defaultValue,n[c[v]].explicitSet=!1}if($n(e)==="object"){for(s in e)if(r=e[s],w(c,s)&&r!==void 0){if(n[s].type==="boolean"&&typeof r=="boolean")n[s].value=r;else if(n[s].type==="name"&&w(n[s].valueSet,r))n[s].value=r;else if(n[s].type==="integer"&&Number.isInteger(r))n[s].value=r;else if(n[s].type==="array"){for(p=0;p<r.length;p+=1)if(i=!0,r[p].length===1&&typeof r[p][0]=="number")d.push(String(r[p]-1));else if(r[p].length>1){for(f=0;f<r[p].length;f+=1)typeof r[p][f]!="number"&&(i=!1);i===!0&&d.push([r[p][0]-1,r[p][1]-1].join(" "))}n[s].value="["+d.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,A=[];for(y in n)n[y].explicitSet===!0&&(n[y].type==="name"?A.push("/"+y+" /"+n[y].value):A.push("/"+y+" "+n[y].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(i)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),p=r.length+l.length+c.length+s.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(s+r+l+c+d),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(i,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Nt.API),function(e){var t=e.API,n=t.pdfEscape16=function(r,l){for(var c,d=l.metadata.Unicode.widths,p=["","0","00","000","0000"],f=[""],v=0,w=r.length;v<w;++v){if(c=l.metadata.characterToGlyph(r.charCodeAt(v)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=r.charCodeAt(v),d.indexOf(c)==-1&&(d.push(c),d.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return f.join("");c=c.toString(16),f.push(p[4-c.length],c)}return f.join("")},i=function(r){var l,c,d,p,f,v,w;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],v=0,w=(c=Object.keys(r).sort(function(m,y){return m-y})).length;v<w;v++)l=c[v],d.length>=100&&(f+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),r[l]!==void 0&&r[l]!==null&&typeof r[l].toString=="function"&&(p=("0000"+r[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+p+">"));return d.length&&(f+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(r){(function(l){var c=l.font,d=l.out,p=l.newObject,f=l.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="Identity-H"){for(var v=c.metadata.Unicode.widths,w=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),m="",y=0;y<w.length;y++)m+=String.fromCharCode(w[y]);var A=p();f({data:m,addLength1:!0,objectId:A}),d("endobj");var N=p();f({data:i(c.metadata.toUnicode),addLength1:!0,objectId:N}),d("endobj");var k=p();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Xl(c.fontName)),d("/FontFile2 "+A+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),d("/Flags "+c.metadata.flags),d("/StemV "+c.metadata.stemV),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d(">>"),d("endobj");var T=p();d("<<"),d("/Type /Font"),d("/BaseFont /"+Xl(c.fontName)),d("/FontDescriptor "+k+" 0 R"),d("/W "+e.API.PDFObject.convert(v)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+c.encoding+")"),d(">>"),d(">>"),d("endobj"),c.objectNumber=p(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+N+" 0 R"),d("/BaseFont /"+Xl(c.fontName)),d("/Encoding /"+c.encoding),d("/DescendantFonts ["+T+" 0 R]"),d(">>"),d("endobj"),c.isAlreadyPutted=!0}})(r)}]),t.events.push(["putFont",function(r){(function(l){var c=l.font,d=l.out,p=l.newObject,f=l.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var v=c.metadata.rawData,w="",m=0;m<v.length;m++)w+=String.fromCharCode(v[m]);var y=p();f({data:w,addLength1:!0,objectId:y}),d("endobj");var A=p();f({data:i(c.metadata.toUnicode),addLength1:!0,objectId:A}),d("endobj");var N=p();d("<<"),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d("/StemV "+c.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+y+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),d("/FontName /"+Xl(c.fontName)),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d(">>"),d("endobj"),c.objectNumber=p();for(var k=0;k<c.metadata.hmtx.widths.length;k++)c.metadata.hmtx.widths[k]=parseInt(c.metadata.hmtx.widths[k]*(1e3/c.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+Xl(c.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),d("endobj"),c.isAlreadyPutted=!0}})(r)}]);var s=function(r){var l,c=r.text||"",d=r.x,p=r.y,f=r.options||{},v=r.mutex||{},w=v.pdfEscape,m=v.activeFontKey,y=v.fonts,A=m,N="",k=0,T="",I=y[A].encoding;if(y[A].encoding!=="Identity-H")return{text:c,x:d,y:p,options:f,mutex:v};for(T=c,A=m,Array.isArray(c)&&(T=c[0]),k=0;k<T.length;k+=1)y[A].metadata.hasOwnProperty("cmap")&&(l=y[A].metadata.cmap.unicode.codeMap[T[k].charCodeAt(0)]),l||T[k].charCodeAt(0)<256&&y[A].metadata.hasOwnProperty("Unicode")?N+=T[k]:N+="";var j="";return parseInt(A.slice(1))<14||I==="WinAnsiEncoding"?j=w(N,A).split("").map(function(K){return K.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(j=n(N,y[A])),v.isHex=!0,{text:j,x:d,y:p,options:f,mutex:v}};t.events.push(["postProcessText",function(r){var l=r.text||"",c=[],d={text:l,x:r.x,y:r.y,options:r.options,mutex:r.mutex};if(Array.isArray(l)){var p=0;for(p=0;p<l.length;p+=1)Array.isArray(l[p])&&l[p].length===3?c.push([s(Object.assign({},d,{text:l[p][0]})).text,l[p][1],l[p][2]]):c.push(s(Object.assign({},d,{text:l[p]})).text);r.text=c}else r.text=s(Object.assign({},d,{text:l})).text}])}(Nt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,i){return t.call(this),this.internal.vFS[n]=i,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Nt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var s,r,l,c,d,p,f,v=t,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),T=!1,I=0;this.__bidiEngine__={};var j=function(x){var $=x.charCodeAt(),Z=$>>8,b=A[Z];return b!==void 0?v[256*b+(255&$)]:Z===252||Z===253?"AL":k.test(Z)?"L":Z===8?"R":"N"},K=function(x){for(var $,Z=0;Z<x.length;Z++){if(($=j(x.charAt(Z)))==="L")return!1;if($==="R")return!0}return!1},W=function(x,$,Z,b){var S,Q,U,le,xe=$[b];switch(xe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":T=!1;break;case"N":case"AN":break;case"EN":T&&(xe="AN");break;case"AL":T=!0,xe="R";break;case"WS":case"BN":xe="N";break;case"CS":b<1||b+1>=$.length||(S=Z[b-1])!=="EN"&&S!=="AN"||(Q=$[b+1])!=="EN"&&Q!=="AN"?xe="N":T&&(Q="AN"),xe=Q===S?Q:"N";break;case"ES":xe=(S=b>0?Z[b-1]:"B")==="EN"&&b+1<$.length&&$[b+1]==="EN"?"EN":"N";break;case"ET":if(b>0&&Z[b-1]==="EN"){xe="EN";break}if(T){xe="N";break}for(U=b+1,le=$.length;U<le&&$[U]==="ET";)U++;xe=U<le&&$[U]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(le=$.length,U=b+1;U<le&&$[U]==="NSM";)U++;if(U<le){var ke=x[b],Le=ke>=1425&&ke<=2303||ke===64286;if(S=$[U],Le&&(S==="R"||S==="AL")){xe="R";break}}}xe=b<1||(S=$[b-1])==="B"?"N":Z[b-1];break;case"B":T=!1,s=!0,xe=I;break;case"S":r=!0,xe="N"}return xe},H=function(x,$,Z){var b=x.split("");return Z&&F(b,Z,{hiLevel:I}),b.reverse(),$&&$.reverse(),b.join("")},F=function(x,$,Z){var b,S,Q,U,le,xe=-1,ke=x.length,Le=0,X=[],he=I?m:w,J=[];for(T=!1,s=!1,r=!1,S=0;S<ke;S++)J[S]=j(x[S]);for(Q=0;Q<ke;Q++){if(le=Le,X[Q]=W(x,J,X,Q),b=240&(Le=he[le][y[X[Q]]]),Le&=15,$[Q]=U=he[Le][5],b>0)if(b===16){for(S=xe;S<Q;S++)$[S]=1;xe=-1}else xe=-1;if(he[Le][6])xe===-1&&(xe=Q);else if(xe>-1){for(S=xe;S<Q;S++)$[S]=U;xe=-1}J[Q]==="B"&&($[Q]=0),Z.hiLevel|=U}r&&function(B,V,Y){for(var ee=0;ee<Y;ee++)if(B[ee]==="S"){V[ee]=I;for(var fe=ee-1;fe>=0&&B[fe]==="WS";fe--)V[fe]=I}}(J,$,ke)},R=function(x,$,Z,b,S){if(!(S.hiLevel<x)){if(x===1&&I===1&&!s)return $.reverse(),void(Z&&Z.reverse());for(var Q,U,le,xe,ke=$.length,Le=0;Le<ke;){if(b[Le]>=x){for(le=Le+1;le<ke&&b[le]>=x;)le++;for(xe=Le,U=le-1;xe<U;xe++,U--)Q=$[xe],$[xe]=$[U],$[U]=Q,Z&&(Q=Z[xe],Z[xe]=Z[U],Z[U]=Q);Le=le}Le++}}},z=function(x,$,Z){var b=x.split(""),S={hiLevel:I};return Z||(Z=[]),F(b,Z,S),function(Q,U,le){if(le.hiLevel!==0&&f)for(var xe,ke=0;ke<Q.length;ke++)U[ke]===1&&(xe=N.indexOf(Q[ke]))>=0&&(Q[ke]=N[xe+1])}(b,Z,S),R(2,b,$,Z,S),R(1,b,$,Z,S),b.join("")};return this.__bidiEngine__.doBidiReorder=function(x,$,Z){if(function(S,Q){if(Q)for(var U=0;U<S.length;U++)Q[U]=U;c===void 0&&(c=K(S)),p===void 0&&(p=K(S))}(x,$),l||!d||p)if(l&&d&&c^p)I=c?1:0,x=H(x,$,Z);else if(!l&&d&&p)I=c?1:0,x=z(x,$,Z),x=H(x,$);else if(!l||c||d||p){if(l&&!d&&c^p)x=H(x,$),c?(I=0,x=z(x,$,Z)):(I=1,x=z(x,$,Z),x=H(x,$));else if(l&&c&&!d&&p)I=1,x=z(x,$,Z),x=H(x,$);else if(!l&&!d&&c^p){var b=f;c?(I=1,x=z(x,$,Z),I=0,f=!1,x=z(x,$,Z),f=b):(I=0,x=z(x,$,Z),x=H(x,$),I=1,f=!1,x=z(x,$,Z),f=b,x=H(x,$))}}else I=0,x=z(x,$,Z);else I=c?1:0,x=z(x,$,Z);return x},this.__bidiEngine__.setOptions=function(x){x&&(l=x.isInputVisual,d=x.isOutputVisual,c=x.isInputRtl,p=x.isOutputRtl,f=x.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var s=i.text;i.x,i.y;var r=i.options||{};i.mutex,r.lang;var l=[];if(r.isInputVisual=typeof r.isInputVisual!="boolean"||r.isInputVisual,n.setOptions(r),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(l=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?l.push([n.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):l.push([n.doBidiReorder(s[c])]);i.text=l}else i.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(Nt),Nt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Mr(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new wS(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new rS(this.contents),this.head=new cS(this),this.name=new hS(this),this.cmap=new C0(this),this.toUnicode={},this.hhea=new uS(this),this.maxp=new mS(this),this.hmtx=new vS(this),this.post=new fS(this),this.os2=new dS(this),this.loca=new yS(this),this.glyf=new gS(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,i,s,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,d,p;for(p=[],l=0,c=(d=this.bbox).length;l<c;l++)t=d[l],p.push(Math.round(t*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(i=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(r=this.familyClass)===1||r===2||r===3||r===4||r===5||r===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,i){var s,r,l,c;for(l=0,r=0,c=(t=""+t).length;0<=c?r<c:r>c;r=0<=c?++r:--r)s=t.charCodeAt(r),l+=this.widthOfGlyph(this.characterToGlyph(s))+i*(1e3/n)||0;return l*(n/1e3)},e.prototype.lineHeight=function(t,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},e}();var ns,Mr=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,i;for(i=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},e.prototype.writeString=function(t){var n,i,s;for(s=[],n=0,i=t.length;0<=i?n<i:n>i;n=0<=i?++n:--n)s.push(this.writeByte(t.charCodeAt(n)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,i,s,r,l,c,d;return t=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),r=this.readByte(),l=this.readByte(),c=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^s)+16777216*(255^r)+65536*(255^l)+256*(255^c)+(255^d)+1):72057594037927940*t+281474976710656*n+1099511627776*i+4294967296*s+16777216*r+65536*l+256*c+d},e.prototype.writeLongLong=function(t){var n,i;return n=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,i;for(n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push(this.readByte());return n},e.prototype.write=function(t){var n,i,s,r;for(r=[],i=0,s=t.length;i<s;i++)n=t[i],r.push(this.writeByte(n));return r},e}(),rS=function(){var e;function t(n){var i,s,r;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,r=this.tableCount;0<=r?s<r:s>r;s=0<=r?++s:--s)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(n){var i,s,r,l,c,d,p,f,v,w,m,y,A;for(A in m=Object.keys(n).length,d=Math.log(2),v=16*Math.floor(Math.log(m)/d),l=Math.floor(v/d),f=16*m-v,(s=new Mr).writeInt(this.scalarType),s.writeShort(m),s.writeShort(v),s.writeShort(l),s.writeShort(f),r=16*m,p=s.pos+r,c=null,y=[],n)for(w=n[A],s.writeString(A),s.writeInt(e(w)),s.writeInt(p),s.writeInt(w.length),y=y.concat(w),A==="head"&&(c=p),p+=w.length;p%4;)y.push(0),p++;return s.write(y),i=2981146554-e(s.data),s.pos=c+8,s.writeUInt32(i),s.data},e=function(n){var i,s,r,l;for(n=E0.call(n);n.length%4;)n.push(0);for(r=new Mr(n),s=0,i=0,l=n.length;i<l;i=i+=4)s+=r.readUInt32();return 4294967295&s},t}(),lS={}.hasOwnProperty,Cs=function(e,t){for(var n in t)lS.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};ns=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var cS=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cs(e,ns),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Mr).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),v1=function(){function e(t,n){var i,s,r,l,c,d,p,f,v,w,m,y,A,N,k,T,I;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),v=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(m=t.readUInt16(),w=m/2,t.pos+=6,r=function(){var j,K;for(K=[],d=j=0;0<=w?j<w:j>w;d=0<=w?++j:--j)K.push(t.readUInt16());return K}(),t.pos+=2,A=function(){var j,K;for(K=[],d=j=0;0<=w?j<w:j>w;d=0<=w?++j:--j)K.push(t.readUInt16());return K}(),p=function(){var j,K;for(K=[],d=j=0;0<=w?j<w:j>w;d=0<=w?++j:--j)K.push(t.readUInt16());return K}(),f=function(){var j,K;for(K=[],d=j=0;0<=w?j<w:j>w;d=0<=w?++j:--j)K.push(t.readUInt16());return K}(),s=(this.length-t.pos+this.offset)/2,c=function(){var j,K;for(K=[],d=j=0;0<=s?j<s:j>s;d=0<=s?++j:--j)K.push(t.readUInt16());return K}(),d=k=0,I=r.length;k<I;d=++k)for(N=r[d],i=T=y=A[d];y<=N?T<=N:T>=N;i=y<=N?++T:--T)f[d]===0?l=i+p[d]:(l=c[f[d]/2+(i-y)-(w-d)]||0)!==0&&(l+=p[d]),this.codeMap[i]=65535&l}t.pos=v}return e.encode=function(t,n){var i,s,r,l,c,d,p,f,v,w,m,y,A,N,k,T,I,j,K,W,H,F,R,z,x,$,Z,b,S,Q,U,le,xe,ke,Le,X,he,J,B,V,Y,ee,fe,ae,te,se;switch(b=new Mr,l=Object.keys(t).sort(function(de,Ae){return de-Ae}),n){case"macroman":for(A=0,N=function(){var de=[];for(y=0;y<256;++y)de.push(0);return de}(),T={0:0},r={},S=0,xe=l.length;S<xe;S++)T[fe=t[s=l[S]]]==null&&(T[fe]=++A),r[s]={old:t[s],new:T[t[s]]},N[s]=T[t[s]];return b.writeUInt16(1),b.writeUInt16(0),b.writeUInt32(12),b.writeUInt16(0),b.writeUInt16(262),b.writeUInt16(0),b.write(N),{charMap:r,subtable:b.data,maxGlyphID:A+1};case"unicode":for($=[],v=[],I=0,T={},i={},k=p=null,Q=0,ke=l.length;Q<ke;Q++)T[K=t[s=l[Q]]]==null&&(T[K]=++I),i[s]={old:K,new:T[K]},c=T[K]-s,k!=null&&c===p||(k&&v.push(k),$.push(s),p=c),k=s;for(k&&v.push(k),v.push(65535),$.push(65535),z=2*(R=$.length),F=2*Math.pow(Math.log(R)/Math.LN2,2),w=Math.log(F/2)/Math.LN2,H=2*R-F,d=[],W=[],m=[],y=U=0,Le=$.length;U<Le;y=++U){if(x=$[y],f=v[y],x===65535){d.push(0),W.push(0);break}if(x-(Z=i[x].new)>=32768)for(d.push(0),W.push(2*(m.length+R-y)),s=le=x;x<=f?le<=f:le>=f;s=x<=f?++le:--le)m.push(i[s].new);else d.push(Z-x),W.push(0)}for(b.writeUInt16(3),b.writeUInt16(1),b.writeUInt32(12),b.writeUInt16(4),b.writeUInt16(16+8*R+2*m.length),b.writeUInt16(0),b.writeUInt16(z),b.writeUInt16(F),b.writeUInt16(w),b.writeUInt16(H),Y=0,X=v.length;Y<X;Y++)s=v[Y],b.writeUInt16(s);for(b.writeUInt16(0),ee=0,he=$.length;ee<he;ee++)s=$[ee],b.writeUInt16(s);for(ae=0,J=d.length;ae<J;ae++)c=d[ae],b.writeUInt16(c);for(te=0,B=W.length;te<B;te++)j=W[te],b.writeUInt16(j);for(se=0,V=m.length;se<V;se++)A=m[se],b.writeUInt16(A);return{charMap:i,subtable:b.data,maxGlyphID:I+1}}},e}(),C0=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cs(e,ns),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new v1(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var i,s;return n==null&&(n="macroman"),i=v1.encode(t,n),(s=new Mr).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),uS=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cs(e,ns),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),dS=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cs(e,ns),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(t.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),fS=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cs(e,ns),e.prototype.tag="post",e.prototype.parse=function(t){var n,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var r;for(i=t.readUInt16(),this.glyphNameIndex=[],r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)n=t.readByte(),s.push(this.names.push(t.readString(n)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=(function(){var l,c,d;for(d=[],r=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;r=0<=c?++l:--l)d.push(t.readUInt32());return d}).call(this)}},e}(),pS=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},hS=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cs(e,ns),e.prototype.tag="name",e.prototype.parse=function(t){var n,i,s,r,l,c,d,p,f,v,w;for(t.pos=this.offset,t.readShort(),n=t.readShort(),c=t.readShort(),i=[],r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(d={},r=f=0,v=i.length;f<v;r=++f)s=i[r],t.pos=s.offset,p=t.readString(s.length),l=new pS(p,s),d[w=s.nameID]==null&&(d[w]=[]),d[s.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),mS=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cs(e,ns),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),vS=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cs(e,ns),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,i,s,r,l,c,d;for(t.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,f;for(f=[],n=p=0;0<=s?p<s:p>s;n=0<=s?++p:--p)f.push(t.readInt16());return f}(),this.widths=(function(){var p,f,v,w;for(w=[],p=0,f=(v=this.metrics).length;p<f;p++)r=v[p],w.push(r.advance);return w}).call(this),i=this.widths[this.widths.length-1],d=[],n=l=0;0<=s?l<s:l>s;n=0<=s?++l:--l)d.push(this.widths.push(i));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),E0=[].slice,gS=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cs(e,ns),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,i,s,r,l,c,d,p,f,v;return t in this.cache?this.cache[t]:(r=this.file.loca,n=this.file.contents,i=r.indexOf(t),(s=r.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+i,l=(c=new Mr(n.read(s))).readShort(),p=c.readShort(),v=c.readShort(),d=c.readShort(),f=c.readShort(),this.cache[t]=l===-1?new bS(c,p,v,d,f):new _S(c,l,p,v,d,f),this.cache[t]))},e.prototype.encode=function(t,n,i){var s,r,l,c,d;for(l=[],r=[],c=0,d=n.length;c<d;c++)s=t[n[c]],r.push(l.length),s&&(l=l.concat(s.encode(i)));return r.push(l.length),{table:l,offsets:r}},e}(),_S=function(){function e(t,n,i,s,r,l){this.raw=t,this.numberOfContours=n,this.xMin=i,this.yMin=s,this.xMax=r,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),bS=function(){function e(t,n,i,s,r){var l,c;for(this.raw=t,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=r,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return e.prototype.encode=function(){var t,n,i;for(n=new Mr(E0.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),yS=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cs(e,ns),e.prototype.tag="loca",e.prototype.parse=function(t){var n,i;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,r;for(r=[],i=0,s=this.length;i<s;i+=2)r.push(2*t.readUInt16());return r}).call(this):(function(){var s,r;for(r=[],i=0,s=this.length;i<s;i+=4)r.push(t.readUInt32());return r}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var i=new Uint32Array(this.offsets.length),s=0,r=0,l=0;l<i.length;++l)if(i[l]=s,r<n.length&&n[r]==l){++r,i[l]=s;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(s+=d)}for(var p=new Array(4*i.length),f=0;f<i.length;++f)p[4*f+3]=255&i[f],p[4*f+2]=(65280&i[f])>>8,p[4*f+1]=(16711680&i[f])>>16,p[4*f]=(4278190080&i[f])>>24;return p},e}(),wS=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,i,s,r;for(n in s=this.font.cmap.tables[0].codeMap,t={},r=this.subset)i=r[n],t[n]=s[i];return t},e.prototype.glyphsFor=function(t){var n,i,s,r,l,c,d;for(s={},l=0,c=t.length;l<c;l++)s[r=t[l]]=this.font.glyf.glyphFor(r);for(r in n=[],s)(i=s[r])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(r in d=this.glyphsFor(n))i=d[r],s[r]=i;return s},e.prototype.encode=function(t,n){var i,s,r,l,c,d,p,f,v,w,m,y,A,N,k;for(s in i=C0.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),m={0:0},k=i.charMap)m[(d=k[s]).old]=d.new;for(y in w=i.maxGlyphID,l)y in m||(m[y]=w++);return f=function(T){var I,j;for(I in j={},T)j[T[I]]=I;return j}(m),v=Object.keys(f).sort(function(T,I){return T-I}),A=function(){var T,I,j;for(j=[],T=0,I=v.length;T<I;T++)c=v[T],j.push(f[c]);return j}(),r=this.font.glyf.encode(l,A,m),p=this.font.loca.encode(r.offsets,A),N={cmap:this.font.cmap.raw(),glyf:r.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},e}();Nt.API.PDFObject=function(){var e;function t(){}return e=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},t.convert=function(n){var i,s,r,l;if(Array.isArray(n))return"["+function(){var c,d,p;for(p=[],c=0,d=n.length;c<d;c++)i=n[c],p.push(t.convert(i));return p}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in r=["<<"],n)l=n[s],r.push("/"+s+" "+t.convert(l));return r.push(">>"),r.join(`
`)}return""+n},t}();const xS="/assets/compass-mYESKx_n.png";var AS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function SS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fp={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,i){i(t)})(AS,function(n){var i="1.9.4";function s(a){var u,g,E,G;for(g=1,E=arguments.length;g<E;g++){G=arguments[g];for(u in G)a[u]=G[u]}return a}var r=Object.create||function(){function a(){}return function(u){return a.prototype=u,new a}}();function l(a,u){var g=Array.prototype.slice;if(a.bind)return a.bind.apply(a,g.call(arguments,1));var E=g.call(arguments,2);return function(){return a.apply(u,E.length?E.concat(g.call(arguments)):arguments)}}var c=0;function d(a){return"_leaflet_id"in a||(a._leaflet_id=++c),a._leaflet_id}function p(a,u,g){var E,G,ce,Se;return Se=function(){E=!1,G&&(ce.apply(g,G),G=!1)},ce=function(){E?G=arguments:(a.apply(g,arguments),setTimeout(Se,u),E=!0)},ce}function f(a,u,g){var E=u[1],G=u[0],ce=E-G;return a===E&&g?a:((a-G)%ce+ce)%ce+G}function v(){return!1}function w(a,u){if(u===!1)return a;var g=Math.pow(10,u===void 0?6:u);return Math.round(a*g)/g}function m(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function y(a){return m(a).split(/\s+/)}function A(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?r(a.options):{});for(var g in u)a.options[g]=u[g];return a.options}function N(a,u,g){var E=[];for(var G in a)E.push(encodeURIComponent(g?G.toUpperCase():G)+"="+encodeURIComponent(a[G]));return(!u||u.indexOf("?")===-1?"?":"&")+E.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function T(a,u){return a.replace(k,function(g,E){var G=u[E];if(G===void 0)throw new Error("No value provided for variable "+g);return typeof G=="function"&&(G=G(u)),G})}var I=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function j(a,u){for(var g=0;g<a.length;g++)if(a[g]===u)return g;return-1}var K="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function W(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var H=0;function F(a){var u=+new Date,g=Math.max(0,16-(u-H));return H=u+g,window.setTimeout(a,g)}var R=window.requestAnimationFrame||W("RequestAnimationFrame")||F,z=window.cancelAnimationFrame||W("CancelAnimationFrame")||W("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function x(a,u,g){if(g&&R===F)a.call(u);else return R.call(window,l(a,u))}function $(a){a&&z.call(window,a)}var Z={__proto__:null,extend:s,create:r,bind:l,get lastId(){return c},stamp:d,throttle:p,wrapNum:f,falseFn:v,formatNum:w,trim:m,splitWords:y,setOptions:A,getParamString:N,template:T,isArray:I,indexOf:j,emptyImageUrl:K,requestFn:R,cancelFn:z,requestAnimFrame:x,cancelAnimFrame:$};function b(){}b.extend=function(a){var u=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=u.__super__=this.prototype,E=r(g);E.constructor=u,u.prototype=E;for(var G in this)Object.prototype.hasOwnProperty.call(this,G)&&G!=="prototype"&&G!=="__super__"&&(u[G]=this[G]);return a.statics&&s(u,a.statics),a.includes&&(S(a.includes),s.apply(null,[E].concat(a.includes))),s(E,a),delete E.statics,delete E.includes,E.options&&(E.options=g.options?r(g.options):{},s(E.options,a.options)),E._initHooks=[],E.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var ce=0,Se=E._initHooks.length;ce<Se;ce++)E._initHooks[ce].call(this)}},u},b.include=function(a){var u=this.prototype.options;return s(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},b.mergeOptions=function(a){return s(this.prototype.options,a),this},b.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),g=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function S(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=I(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Q={on:function(a,u,g){if(typeof a=="object")for(var E in a)this._on(E,a[E],u);else{a=y(a);for(var G=0,ce=a.length;G<ce;G++)this._on(a[G],u,g)}return this},off:function(a,u,g){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var E in a)this._off(E,a[E],u);else{a=y(a);for(var G=arguments.length===1,ce=0,Se=a.length;ce<Se;ce++)G?this._off(a[ce]):this._off(a[ce],u,g)}return this},_on:function(a,u,g,E){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,g)===!1){g===this&&(g=void 0);var G={fn:u,ctx:g};E&&(G.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(G)}},_off:function(a,u,g){var E,G,ce;if(this._events&&(E=this._events[a],!!E)){if(arguments.length===1){if(this._firingCount)for(G=0,ce=E.length;G<ce;G++)E[G].fn=v;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var Se=this._listens(a,u,g);if(Se!==!1){var Be=E[Se];this._firingCount&&(Be.fn=v,this._events[a]=E=E.slice()),E.splice(Se,1)}}},fire:function(a,u,g){if(!this.listens(a,g))return this;var E=s({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var G=this._events[a];if(G){this._firingCount=this._firingCount+1||1;for(var ce=0,Se=G.length;ce<Se;ce++){var Be=G[ce],qe=Be.fn;Be.once&&this.off(a,qe,Be.ctx),qe.call(Be.ctx||this,E)}this._firingCount--}}return g&&this._propagateEvent(E),this},listens:function(a,u,g,E){typeof a!="string"&&console.warn('"string" type argument expected');var G=u;typeof u!="function"&&(E=!!u,G=void 0,g=void 0);var ce=this._events&&this._events[a];if(ce&&ce.length&&this._listens(a,G,g)!==!1)return!0;if(E){for(var Se in this._eventParents)if(this._eventParents[Se].listens(a,u,g,E))return!0}return!1},_listens:function(a,u,g){if(!this._events)return!1;var E=this._events[a]||[];if(!u)return!!E.length;g===this&&(g=void 0);for(var G=0,ce=E.length;G<ce;G++)if(E[G].fn===u&&E[G].ctx===g)return G;return!1},once:function(a,u,g){if(typeof a=="object")for(var E in a)this._on(E,a[E],u,!0);else{a=y(a);for(var G=0,ce=a.length;G<ce;G++)this._on(a[G],u,g,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[d(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[d(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,s({layer:a.target,propagatedFrom:a.target},a),!0)}};Q.addEventListener=Q.on,Q.removeEventListener=Q.clearAllEventListeners=Q.off,Q.addOneTimeEventListener=Q.once,Q.fireEvent=Q.fire,Q.hasEventListeners=Q.listens;var U=b.extend(Q);function le(a,u,g){this.x=g?Math.round(a):a,this.y=g?Math.round(u):u}var xe=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};le.prototype={clone:function(){return new le(this.x,this.y)},add:function(a){return this.clone()._add(ke(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(ke(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new le(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new le(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=xe(this.x),this.y=xe(this.y),this},distanceTo:function(a){a=ke(a);var u=a.x-this.x,g=a.y-this.y;return Math.sqrt(u*u+g*g)},equals:function(a){return a=ke(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=ke(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function ke(a,u,g){return a instanceof le?a:I(a)?new le(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new le(a.x,a.y):new le(a,u,g)}function Le(a,u){if(a)for(var g=u?[a,u]:a,E=0,G=g.length;E<G;E++)this.extend(g[E])}Le.prototype={extend:function(a){var u,g;if(!a)return this;if(a instanceof le||typeof a[0]=="number"||"x"in a)u=g=ke(a);else if(a=X(a),u=a.min,g=a.max,!u||!g)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=g.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(a){return ke((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return ke(this.min.x,this.max.y)},getTopRight:function(){return ke(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,g;return typeof a[0]=="number"||a instanceof le?a=ke(a):a=X(a),a instanceof Le?(u=a.min,g=a.max):u=g=a,u.x>=this.min.x&&g.x<=this.max.x&&u.y>=this.min.y&&g.y<=this.max.y},intersects:function(a){a=X(a);var u=this.min,g=this.max,E=a.min,G=a.max,ce=G.x>=u.x&&E.x<=g.x,Se=G.y>=u.y&&E.y<=g.y;return ce&&Se},overlaps:function(a){a=X(a);var u=this.min,g=this.max,E=a.min,G=a.max,ce=G.x>u.x&&E.x<g.x,Se=G.y>u.y&&E.y<g.y;return ce&&Se},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,g=this.max,E=Math.abs(u.x-g.x)*a,G=Math.abs(u.y-g.y)*a;return X(ke(u.x-E,u.y-G),ke(g.x+E,g.y+G))},equals:function(a){return a?(a=X(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function X(a,u){return!a||a instanceof Le?a:new Le(a,u)}function he(a,u){if(a)for(var g=u?[a,u]:a,E=0,G=g.length;E<G;E++)this.extend(g[E])}he.prototype={extend:function(a){var u=this._southWest,g=this._northEast,E,G;if(a instanceof B)E=a,G=a;else if(a instanceof he){if(E=a._southWest,G=a._northEast,!E||!G)return this}else return a?this.extend(V(a)||J(a)):this;return!u&&!g?(this._southWest=new B(E.lat,E.lng),this._northEast=new B(G.lat,G.lng)):(u.lat=Math.min(E.lat,u.lat),u.lng=Math.min(E.lng,u.lng),g.lat=Math.max(G.lat,g.lat),g.lng=Math.max(G.lng,g.lng)),this},pad:function(a){var u=this._southWest,g=this._northEast,E=Math.abs(u.lat-g.lat)*a,G=Math.abs(u.lng-g.lng)*a;return new he(new B(u.lat-E,u.lng-G),new B(g.lat+E,g.lng+G))},getCenter:function(){return new B((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new B(this.getNorth(),this.getWest())},getSouthEast:function(){return new B(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof B||"lat"in a?a=V(a):a=J(a);var u=this._southWest,g=this._northEast,E,G;return a instanceof he?(E=a.getSouthWest(),G=a.getNorthEast()):E=G=a,E.lat>=u.lat&&G.lat<=g.lat&&E.lng>=u.lng&&G.lng<=g.lng},intersects:function(a){a=J(a);var u=this._southWest,g=this._northEast,E=a.getSouthWest(),G=a.getNorthEast(),ce=G.lat>=u.lat&&E.lat<=g.lat,Se=G.lng>=u.lng&&E.lng<=g.lng;return ce&&Se},overlaps:function(a){a=J(a);var u=this._southWest,g=this._northEast,E=a.getSouthWest(),G=a.getNorthEast(),ce=G.lat>u.lat&&E.lat<g.lat,Se=G.lng>u.lng&&E.lng<g.lng;return ce&&Se},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=J(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function J(a,u){return a instanceof he?a:new he(a,u)}function B(a,u,g){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,g!==void 0&&(this.alt=+g)}B.prototype={equals:function(a,u){if(!a)return!1;a=V(a);var g=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return g<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+w(this.lat,a)+", "+w(this.lng,a)+")"},distanceTo:function(a){return ee.distance(this,V(a))},wrap:function(){return ee.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,g=u/Math.cos(Math.PI/180*this.lat);return J([this.lat-u,this.lng-g],[this.lat+u,this.lng+g])},clone:function(){return new B(this.lat,this.lng,this.alt)}};function V(a,u,g){return a instanceof B?a:I(a)&&typeof a[0]!="object"?a.length===3?new B(a[0],a[1],a[2]):a.length===2?new B(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new B(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new B(a,u,g)}var Y={latLngToPoint:function(a,u){var g=this.projection.project(a),E=this.scale(u);return this.transformation._transform(g,E)},pointToLatLng:function(a,u){var g=this.scale(u),E=this.transformation.untransform(a,g);return this.projection.unproject(E)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,g=this.scale(a),E=this.transformation.transform(u.min,g),G=this.transformation.transform(u.max,g);return new Le(E,G)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?f(a.lng,this.wrapLng,!0):a.lng,g=this.wrapLat?f(a.lat,this.wrapLat,!0):a.lat,E=a.alt;return new B(g,u,E)},wrapLatLngBounds:function(a){var u=a.getCenter(),g=this.wrapLatLng(u),E=u.lat-g.lat,G=u.lng-g.lng;if(E===0&&G===0)return a;var ce=a.getSouthWest(),Se=a.getNorthEast(),Be=new B(ce.lat-E,ce.lng-G),qe=new B(Se.lat-E,Se.lng-G);return new he(Be,qe)}},ee=s({},Y,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var g=Math.PI/180,E=a.lat*g,G=u.lat*g,ce=Math.sin((u.lat-a.lat)*g/2),Se=Math.sin((u.lng-a.lng)*g/2),Be=ce*ce+Math.cos(E)*Math.cos(G)*Se*Se,qe=2*Math.atan2(Math.sqrt(Be),Math.sqrt(1-Be));return this.R*qe}}),fe=6378137,ae={R:fe,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,g=this.MAX_LATITUDE,E=Math.max(Math.min(g,a.lat),-g),G=Math.sin(E*u);return new le(this.R*a.lng*u,this.R*Math.log((1+G)/(1-G))/2)},unproject:function(a){var u=180/Math.PI;return new B((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:function(){var a=fe*Math.PI;return new Le([-a,-a],[a,a])}()};function te(a,u,g,E){if(I(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=g,this._d=E}te.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new le((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function se(a,u,g,E){return new te(a,u,g,E)}var de=s({},ee,{code:"EPSG:3857",projection:ae,transformation:function(){var a=.5/(Math.PI*ae.R);return se(a,.5,-a,.5)}()}),Ae=s({},de,{code:"EPSG:900913"});function ne(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function ge(a,u){var g="",E,G,ce,Se,Be,qe;for(E=0,ce=a.length;E<ce;E++){for(Be=a[E],G=0,Se=Be.length;G<Se;G++)qe=Be[G],g+=(G?"L":"M")+qe.x+" "+qe.y;g+=u?gt.svg?"z":"x":""}return g||"M0 0"}var Me=document.documentElement.style,Ge="ActiveXObject"in window,Te=Ge&&!document.addEventListener,Pe="msLaunchUri"in navigator&&!("documentMode"in document),De=dn("webkit"),nt=dn("android"),Ze=dn("android 2")||dn("android 3"),dt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ce=nt&&dn("Google")&&dt<537&&!("AudioNode"in window),Ue=!!window.opera,Je=!Pe&&dn("chrome"),Re=dn("gecko")&&!De&&!Ue&&!Ge,ut=!Je&&dn("safari"),mt=dn("phantom"),ft="OTransition"in Me,rn=navigator.platform.indexOf("Win")===0,Kt=Ge&&"transition"in Me,Ut="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ze,Pt="MozPerspective"in Me,on=!window.L_DISABLE_3D&&(Kt||Ut||Pt)&&!ft&&!mt,kt=typeof orientation<"u"||dn("mobile"),_n=kt&&De,Mt=kt&&Ut,Vt=!window.PointerEvent&&window.MSPointerEvent,In=!!(window.PointerEvent||Vt),Yt="ontouchstart"in window||!!window.TouchEvent,Ot=!window.L_NO_TOUCH&&(Yt||In),hn=kt&&Ue,Es=kt&&Re,To=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ya=function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",v,u),window.removeEventListener("testPassiveEventSupport",v,u)}catch{}return a}(),Qi=function(){return!!document.createElement("canvas").getContext}(),Dt=!!(document.createElementNS&&ne("svg").createSVGRect),wa=!!Dt&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),xa=!Dt&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),bi=navigator.platform.indexOf("Mac")===0,yi=navigator.platform.indexOf("Linux")===0;function dn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var gt={ie:Ge,ielt9:Te,edge:Pe,webkit:De,android:nt,android23:Ze,androidStock:Ce,opera:Ue,chrome:Je,gecko:Re,safari:ut,phantom:mt,opera12:ft,win:rn,ie3d:Kt,webkit3d:Ut,gecko3d:Pt,any3d:on,mobile:kt,mobileWebkit:_n,mobileWebkit3d:Mt,msPointer:Vt,pointer:In,touch:Ot,touchNative:Yt,mobileOpera:hn,mobileGecko:Es,retina:To,passiveEvents:ya,canvas:Qi,svg:Dt,vml:xa,inlineSvg:wa,mac:bi,linux:yi},yo=gt.msPointer?"MSPointerDown":"pointerdown",os=gt.msPointer?"MSPointerMove":"pointermove",Aa=gt.msPointer?"MSPointerUp":"pointerup",wi=gt.msPointer?"MSPointerCancel":"pointercancel",xi={touchstart:yo,touchmove:os,touchend:Aa,touchcancel:wi},Ai={touchstart:Ur,touchmove:tr,touchend:tr,touchcancel:tr},Io={},ai=!1;function Ls(a,u,g){return u==="touchstart"&&er(),Ai[u]?(g=Ai[u].bind(this,g),a.addEventListener(xi[u],g,!1),g):(console.warn("wrong event specified:",u),v)}function ea(a,u,g){if(!xi[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(xi[u],g,!1)}function Ns(a){Io[a.pointerId]=a}function Qs(a){Io[a.pointerId]&&(Io[a.pointerId]=a)}function Ps(a){delete Io[a.pointerId]}function er(){ai||(document.addEventListener(yo,Ns,!0),document.addEventListener(os,Qs,!0),document.addEventListener(Aa,Ps,!0),document.addEventListener(wi,Ps,!0),ai=!0)}function tr(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var g in Io)u.touches.push(Io[g]);u.changedTouches=[u],a(u)}}function Ur(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Un(u),tr(a,u)}function Nl(a){var u={},g,E;for(E in a)g=a[E],u[E]=g&&g.bind?g.bind(a):g;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Pl=200;function Si(a,u){a.addEventListener("dblclick",u);var g=0,E;function G(ce){if(ce.detail!==1){E=ce.detail;return}if(!(ce.pointerType==="mouse"||ce.sourceCapabilities&&!ce.sourceCapabilities.firesTouchEvents)){var Se=oa(ce);if(!(Se.some(function(qe){return qe instanceof HTMLLabelElement&&qe.attributes.for})&&!Se.some(function(qe){return qe instanceof HTMLInputElement||qe instanceof HTMLSelectElement}))){var Be=Date.now();Be-g<=Pl?(E++,E===2&&u(Nl(ce))):E=1,g=Be}}}return a.addEventListener("click",G),{dblclick:u,simDblclick:G}}function Vr(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var nr=ir(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Sa=ir(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),qr=Sa==="webkitTransition"||Sa==="OTransition"?Sa+"End":"transitionend";function Hr(a){return typeof a=="string"?document.getElementById(a):a}function is(a,u){var g=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!g||g==="auto")&&document.defaultView){var E=document.defaultView.getComputedStyle(a,null);g=E?E[u]:null}return g==="auto"?null:g}function Wt(a,u,g){var E=document.createElement(a);return E.className=u||"",g&&g.appendChild(E),E}function wn(a){var u=a.parentNode;u&&u.removeChild(a)}function or(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Dn(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function ka(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function ki(a,u){if(a.classList!==void 0)return a.classList.contains(u);var g=Wn(a);return g.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(g)}function jt(a,u){if(a.classList!==void 0)for(var g=y(u),E=0,G=g.length;E<G;E++)a.classList.add(g[E]);else if(!ki(a,u)){var ce=Wn(a);Vo(a,(ce?ce+" ":"")+u)}}function Bn(a,u){a.classList!==void 0?a.classList.remove(u):Vo(a,m((" "+Wn(a)+" ").replace(" "+u+" "," ")))}function Vo(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function Wn(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function eo(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&$l(a,u)}function $l(a,u){var g=!1,E="DXImageTransform.Microsoft.Alpha";try{g=a.filters.item(E)}catch{if(u===1)return}u=Math.round(u*100),g?(g.Enabled=u!==100,g.Opacity=u):a.style.filter+=" progid:"+E+"(opacity="+u+")"}function ir(a){for(var u=document.documentElement.style,g=0;g<a.length;g++)if(a[g]in u)return a[g];return!1}function Ca(a,u,g){var E=u||new le(0,0);a.style[nr]=(gt.ie3d?"translate("+E.x+"px,"+E.y+"px)":"translate3d("+E.x+"px,"+E.y+"px,0)")+(g?" scale("+g+")":"")}function bn(a,u){a._leaflet_pos=u,gt.any3d?Ca(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function ta(a){return a._leaflet_pos||new le(0,0)}var as,na,Ea;if("onselectstart"in document)as=function(){pt(window,"selectstart",Un)},na=function(){xn(window,"selectstart",Un)};else{var $s=ir(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);as=function(){if($s){var a=document.documentElement.style;Ea=a[$s],a[$s]="none"}},na=function(){$s&&(document.documentElement.style[$s]=Ea,Ea=void 0)}}function Gr(){pt(window,"dragstart",Un)}function Wr(){xn(window,"dragstart",Un)}var ss,ar;function si(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(sr(),ss=a,ar=a.style.outlineStyle,a.style.outlineStyle="none",pt(window,"keydown",sr))}function sr(){ss&&(ss.style.outlineStyle=ar,ss=void 0,ar=void 0,xn(window,"keydown",sr))}function rs(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Ts(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var yc={__proto__:null,TRANSFORM:nr,TRANSITION:Sa,TRANSITION_END:qr,get:Hr,getStyle:is,create:Wt,remove:wn,empty:or,toFront:Dn,toBack:ka,hasClass:ki,addClass:jt,removeClass:Bn,setClass:Vo,getClass:Wn,setOpacity:eo,testProp:ir,setTransform:Ca,setPosition:bn,getPosition:ta,get disableTextSelection(){return as},get enableTextSelection(){return na},disableImageDrag:Gr,enableImageDrag:Wr,preventOutline:si,restoreOutline:sr,getSizedParentNode:rs,getScale:Ts};function pt(a,u,g,E){if(u&&typeof u=="object")for(var G in u)ji(a,G,u[G],g);else{u=y(u);for(var ce=0,Se=u.length;ce<Se;ce++)ji(a,u[ce],g,E)}return this}var Ci="_leaflet_events";function xn(a,u,g,E){if(arguments.length===1)Tl(a),delete a[Ci];else if(u&&typeof u=="object")for(var G in u)Zr(a,G,u[G],g);else if(u=y(u),arguments.length===2)Tl(a,function(Be){return j(u,Be)!==-1});else for(var ce=0,Se=u.length;ce<Se;ce++)Zr(a,u[ce],g,E);return this}function Tl(a,u){for(var g in a[Ci]){var E=g.split(/\d/)[0];(!u||u(E))&&Zr(a,E,null,null,g)}}var Bi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ji(a,u,g,E){var G=u+d(g)+(E?"_"+d(E):"");if(a[Ci]&&a[Ci][G])return this;var ce=function(Be){return g.call(E||a,Be||window.event)},Se=ce;!gt.touchNative&&gt.pointer&&u.indexOf("touch")===0?ce=Ls(a,u,ce):gt.touch&&u==="dblclick"?ce=Si(a,ce):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(Bi[u]||u,ce,gt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(ce=function(Be){Be=Be||window.event,lr(a,Be)&&Se(Be)},a.addEventListener(Bi[u],ce,!1)):a.addEventListener(u,Se,!1):a.attachEvent("on"+u,ce),a[Ci]=a[Ci]||{},a[Ci][G]=ce}function Zr(a,u,g,E,G){G=G||u+d(g)+(E?"_"+d(E):"");var ce=a[Ci]&&a[Ci][G];if(!ce)return this;!gt.touchNative&&gt.pointer&&u.indexOf("touch")===0?ea(a,u,ce):gt.touch&&u==="dblclick"?Vr(a,ce):"removeEventListener"in a?a.removeEventListener(Bi[u]||u,ce,!1):a.detachEvent("on"+u,ce),a[Ci][G]=null}function La(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function ls(a){return ji(a,"wheel",La),this}function Na(a){return pt(a,"mousedown touchstart dblclick contextmenu",La),a._leaflet_disable_click=!0,this}function Un(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Pa(a){return Un(a),La(a),this}function oa(a){if(a.composedPath)return a.composedPath();for(var u=[],g=a.target;g;)u.push(g),g=g.parentNode;return u}function Il(a,u){if(!u)return new le(a.clientX,a.clientY);var g=Ts(u),E=g.boundingClientRect;return new le((a.clientX-E.left)/g.x-u.clientLeft,(a.clientY-E.top)/g.y-u.clientTop)}var Kr=gt.linux&&gt.chrome?window.devicePixelRatio:gt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function rr(a){return gt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Kr:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function lr(a,u){var g=u.relatedTarget;if(!g)return!0;try{for(;g&&g!==a;)g=g.parentNode}catch{return!1}return g!==a}var $a={__proto__:null,on:pt,off:xn,stopPropagation:La,disableScrollPropagation:ls,disableClickPropagation:Na,preventDefault:Un,stop:Pa,getPropagationPath:oa,getMousePosition:Il,getWheelDelta:rr,isExternalTarget:lr,addListener:pt,removeListener:xn},cr=U.extend({run:function(a,u,g,E){this.stop(),this._el=a,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(E||.5,.2),this._startPos=ta(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=x(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,g=this._duration*1e3;u<g?this._runFrame(this._easeOut(u/g),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var g=this._startPos.add(this._offset.multiplyBy(a));u&&g._round(),bn(this._el,g),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Xt=U.extend({options:{crs:de,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=A(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(V(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Sa&&gt.any3d&&!gt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),pt(this._proxy,qr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,g){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(V(a),u,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=s({animate:g.animate},g.zoom),g.pan=s({animate:g.animate,duration:g.duration},g.pan));var E=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,g.zoom):this._tryAnimatedPan(a,g.pan);if(E)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,g.pan&&g.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,g){var E=this.getZoomScale(u),G=this.getSize().divideBy(2),ce=a instanceof le?a:this.latLngToContainerPoint(a),Se=ce.subtract(G).multiplyBy(1-1/E),Be=this.containerPointToLatLng(G.add(Se));return this.setView(Be,u,{zoom:g})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():J(a);var g=ke(u.paddingTopLeft||u.padding||[0,0]),E=ke(u.paddingBottomRight||u.padding||[0,0]),G=this.getBoundsZoom(a,!1,g.add(E));if(G=typeof u.maxZoom=="number"?Math.min(u.maxZoom,G):G,G===1/0)return{center:a.getCenter(),zoom:G};var ce=E.subtract(g).divideBy(2),Se=this.project(a.getSouthWest(),G),Be=this.project(a.getNorthEast(),G),qe=this.unproject(Se.add(Be).divideBy(2).add(ce),G);return{center:qe,zoom:G}},fitBounds:function(a,u){if(a=J(a),!a.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(a,u);return this.setView(g.center,g.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=ke(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new cr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){jt(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,g,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,g){if(g=g||{},g.animate===!1||!gt.any3d)return this.setView(a,u,g);this._stop();var E=this.project(this.getCenter()),G=this.project(a),ce=this.getSize(),Se=this._zoom;a=V(a),u=u===void 0?Se:u;var Be=Math.max(ce.x,ce.y),qe=Be*this.getZoomScale(Se,u),at=G.distanceTo(E)||1,_t=1.42,$t=_t*_t;function tn(En){var Oo=En?-1:1,af=En?qe:Be,sf=qe*qe-Be*Be+Oo*$t*$t*at*at,ku=2*af*$t*at,Ul=sf/ku,Lc=Math.sqrt(Ul*Ul+1)-Ul,Cu=Lc<1e-9?-18:Math.log(Lc);return Cu}function Ro(En){return(Math.exp(En)-Math.exp(-En))/2}function fo(En){return(Math.exp(En)+Math.exp(-En))/2}function Ti(En){return Ro(En)/fo(En)}var Zo=tn(0);function vr(En){return Be*(fo(Zo)/fo(Zo+_t*En))}function nf(En){return Be*(fo(Zo)*Ti(Zo+_t*En)-Ro(Zo))/$t}function hs(En){return 1-Math.pow(1-En,1.5)}var qi=Date.now(),pa=(tn(1)-Zo)/_t,of=g.duration?1e3*g.duration:1e3*pa*.8;function Ec(){var En=(Date.now()-qi)/of,Oo=hs(En)*pa;En<=1?(this._flyToFrame=x(Ec,this),this._move(this.unproject(E.add(G.subtract(E).multiplyBy(nf(Oo)/at)),Se),this.getScaleZoom(Be/vr(Oo),Se),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),Ec.call(this),this},flyToBounds:function(a,u){var g=this._getBoundsCenterZoom(a,u);return this.flyTo(g.center,g.zoom,u)},setMaxBounds:function(a){return a=J(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var g=this.getCenter(),E=this._limitCenter(g,this._zoom,J(a));return g.equals(E)||this.panTo(E,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var g=ke(u.paddingTopLeft||u.padding||[0,0]),E=ke(u.paddingBottomRight||u.padding||[0,0]),G=this.project(this.getCenter()),ce=this.project(a),Se=this.getPixelBounds(),Be=X([Se.min.add(g),Se.max.subtract(E)]),qe=Be.getSize();if(!Be.contains(ce)){this._enforcingBounds=!0;var at=ce.subtract(Be.getCenter()),_t=Be.extend(ce).getSize().subtract(qe);G.x+=at.x<0?-_t.x:_t.x,G.y+=at.y<0?-_t.y:_t.y,this.panTo(this.unproject(G),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=s({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),E=u.divideBy(2).round(),G=g.divideBy(2).round(),ce=E.subtract(G);return!ce.x&&!ce.y?this:(a.animate&&a.pan?this.panBy(ce):(a.pan&&this._rawPanBy(ce),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=s({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=l(this._handleGeolocationResponse,this),g=l(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,g,a):navigator.geolocation.getCurrentPosition(u,g,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,g=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,g=a.coords.longitude,E=new B(u,g),G=E.toBounds(a.coords.accuracy*2),ce=this._locateOptions;if(ce.setView){var Se=this.getBoundsZoom(G);this.setView(E,ce.maxZoom?Math.min(Se,ce.maxZoom):Se)}var Be={latlng:E,bounds:G,timestamp:a.timestamp};for(var qe in a.coords)typeof a.coords[qe]=="number"&&(Be[qe]=a.coords[qe]);this.fire("locationfound",Be)}},addHandler:function(a,u){if(!u)return this;var g=this[a]=new u(this);return this._handlers.push(g),this.options[a]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),wn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)wn(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var g="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),E=Wt("div",g,u||this._mapPane);return a&&(this._panes[a]=E),E},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),g=this.unproject(a.getTopRight());return new he(u,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,g){a=J(a),g=ke(g||[0,0]);var E=this.getZoom()||0,G=this.getMinZoom(),ce=this.getMaxZoom(),Se=a.getNorthWest(),Be=a.getSouthEast(),qe=this.getSize().subtract(g),at=X(this.project(Be,E),this.project(Se,E)).getSize(),_t=gt.any3d?this.options.zoomSnap:1,$t=qe.x/at.x,tn=qe.y/at.y,Ro=u?Math.max($t,tn):Math.min($t,tn);return E=this.getScaleZoom(Ro,E),_t&&(E=Math.round(E/(_t/100))*(_t/100),E=u?Math.ceil(E/_t)*_t:Math.floor(E/_t)*_t),Math.max(G,Math.min(ce,E))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new le(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var g=this._getTopLeftPoint(a,u);return new Le(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var g=this.options.crs;return u=u===void 0?this._zoom:u,g.scale(a)/g.scale(u)},getScaleZoom:function(a,u){var g=this.options.crs;u=u===void 0?this._zoom:u;var E=g.zoom(a*g.scale(u));return isNaN(E)?1/0:E},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(V(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(ke(a),u)},layerPointToLatLng:function(a){var u=ke(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(V(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(V(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(J(a))},distance:function(a,u){return this.options.crs.distance(V(a),V(u))},containerPointToLayerPoint:function(a){return ke(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return ke(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(ke(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(V(a)))},mouseEventToContainerPoint:function(a){return Il(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=Hr(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");pt(u,"scroll",this._onScroll,this),this._containerId=d(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&gt.any3d,jt(a,"leaflet-container"+(gt.touch?" leaflet-touch":"")+(gt.retina?" leaflet-retina":"")+(gt.ielt9?" leaflet-oldie":"")+(gt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=is(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),bn(this._mapPane,new le(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(jt(a.markerPane,"leaflet-zoom-hide"),jt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,g){bn(this._mapPane,new le(0,0));var E=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var G=this._zoom!==u;this._moveStart(G,g)._move(a,u)._moveEnd(G),this.fire("viewreset"),E&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,g,E){u===void 0&&(u=this._zoom);var G=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),E?g&&g.pinch&&this.fire("zoom",g):((G||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){bn(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[d(this._container)]=this;var u=a?xn:pt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),gt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=x(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var g=[],E,G=u==="mouseout"||u==="mouseover",ce=a.target||a.srcElement,Se=!1;ce;){if(E=this._targets[d(ce)],E&&(u==="click"||u==="preclick")&&this._draggableMoved(E)){Se=!0;break}if(E&&E.listens(u,!0)&&(G&&!lr(ce,a)||(g.push(E),G))||ce===this._container)break;ce=ce.parentNode}return!g.length&&!Se&&!G&&this.listens(u,!0)&&(g=[this]),g},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var g=a.type;g==="mousedown"&&si(u),this._fireDOMEvent(a,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,g){if(a.type==="click"){var E=s({},a);E.type="preclick",this._fireDOMEvent(E,E.type,g)}var G=this._findEventTargets(a,u);if(g){for(var ce=[],Se=0;Se<g.length;Se++)g[Se].listens(u,!0)&&ce.push(g[Se]);G=ce.concat(G)}if(G.length){u==="contextmenu"&&Un(a);var Be=G[0],qe={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var at=Be.getLatLng&&(!Be._radius||Be._radius<=10);qe.containerPoint=at?this.latLngToContainerPoint(Be.getLatLng()):this.mouseEventToContainerPoint(a),qe.layerPoint=this.containerPointToLayerPoint(qe.containerPoint),qe.latlng=at?Be.getLatLng():this.layerPointToLatLng(qe.layerPoint)}for(Se=0;Se<G.length;Se++)if(G[Se].fire(u,qe,!0),qe.originalEvent._stopped||G[Se].options.bubblingMouseEvents===!1&&j(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return ta(this._mapPane)||new le(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var g=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var g=this.getSize()._divideBy(2);return this.project(a,u)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,g){var E=this._getNewPixelOrigin(g,u);return this.project(a,u)._subtract(E)},_latLngBoundsToNewLayerBounds:function(a,u,g){var E=this._getNewPixelOrigin(g,u);return X([this.project(a.getSouthWest(),u)._subtract(E),this.project(a.getNorthWest(),u)._subtract(E),this.project(a.getSouthEast(),u)._subtract(E),this.project(a.getNorthEast(),u)._subtract(E)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,g){if(!g)return a;var E=this.project(a,u),G=this.getSize().divideBy(2),ce=new Le(E.subtract(G),E.add(G)),Se=this._getBoundsOffset(ce,g,u);return Math.abs(Se.x)<=1&&Math.abs(Se.y)<=1?a:this.unproject(E.add(Se),u)},_limitOffset:function(a,u){if(!u)return a;var g=this.getPixelBounds(),E=new Le(g.min.add(a),g.max.add(a));return a.add(this._getBoundsOffset(E,u))},_getBoundsOffset:function(a,u,g){var E=X(this.project(u.getNorthEast(),g),this.project(u.getSouthWest(),g)),G=E.min.subtract(a.min),ce=E.max.subtract(a.max),Se=this._rebound(G.x,-ce.x),Be=this._rebound(G.y,-ce.y);return new le(Se,Be)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),g=this.getMaxZoom(),E=gt.any3d?this.options.zoomSnap:1;return E&&(a=Math.round(a/E)*E),Math.max(u,Math.min(g,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Bn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var g=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,u),!0)},_createAnimProxy:function(){var a=this._proxy=Wt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var g=nr,E=this._proxy.style[g];Ca(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),E===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){wn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();Ca(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var E=this.getZoomScale(u),G=this._getCenterOffset(a)._divideBy(1-1/E);return g.animate!==!0&&!this.getSize().contains(G)?!1:(x(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,g,E){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,jt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:E}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Bn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Jr(a,u){return new Xt(a,u)}var Ao=b.extend({options:{position:"topright"},initialize:function(a){A(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),g=this.getPosition(),E=a._controlCorners[g];return jt(u,"leaflet-control"),g.indexOf("bottom")!==-1?E.insertBefore(u,E.firstChild):E.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(wn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Ta=function(a){return new Ao(a)};Xt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",g=this._controlContainer=Wt("div",u+"control-container",this._container);function E(G,ce){var Se=u+G+" "+u+ce;a[G+ce]=Wt("div",Se,g)}E("top","left"),E("top","right"),E("bottom","left"),E("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)wn(this._controlCorners[a]);wn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Yr=Ao.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,g,E){return g<E?-1:E<g?1:0}},initialize:function(a,u,g){A(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var E in a)this._addLayer(a[E],E);for(E in u)this._addLayer(u[E],E,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Ao.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(d(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){jt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(jt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Bn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Bn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=Wt("div",a),g=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Na(u),ls(u);var E=this._section=Wt("section",a+"-list");g&&(this._map.on("click",this.collapse,this),pt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var G=this._layersLink=Wt("a",a+"-toggle",u);G.href="#",G.title="Layers",G.setAttribute("role","button"),pt(G,{keydown:function(ce){ce.keyCode===13&&this._expandSafely()},click:function(ce){Un(ce),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=Wt("div",a+"-base",E),this._separator=Wt("div",a+"-separator",E),this._overlaysList=Wt("div",a+"-overlays",E),u.appendChild(E)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&d(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,g){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:g}),this.options.sortLayers&&this._layers.sort(l(function(E,G){return this.options.sortFunction(E.layer,G.layer,E.name,G.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;or(this._baseLayersList),or(this._overlaysList),this._layerControlInputs=[];var a,u,g,E,G=0;for(g=0;g<this._layers.length;g++)E=this._layers[g],this._addItem(E),u=u||E.overlay,a=a||!E.overlay,G+=E.overlay?0:1;return this.options.hideSingleBase&&(a=a&&G>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(d(a.target)),g=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;g&&this._map.fire(g,u)},_createRadioElement:function(a,u){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",E=document.createElement("div");return E.innerHTML=g,E.firstChild},_addItem:function(a){var u=document.createElement("label"),g=this._map.hasLayer(a.layer),E;a.overlay?(E=document.createElement("input"),E.type="checkbox",E.className="leaflet-control-layers-selector",E.defaultChecked=g):E=this._createRadioElement("leaflet-base-layers_"+d(this),g),this._layerControlInputs.push(E),E.layerId=d(a.layer),pt(E,"click",this._onInputClick,this);var G=document.createElement("span");G.innerHTML=" "+a.name;var ce=document.createElement("span");u.appendChild(ce),ce.appendChild(E),ce.appendChild(G);var Se=a.overlay?this._overlaysList:this._baseLayersList;return Se.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,g,E=[],G=[];this._handlingClick=!0;for(var ce=a.length-1;ce>=0;ce--)u=a[ce],g=this._getLayer(u.layerId).layer,u.checked?E.push(g):u.checked||G.push(g);for(ce=0;ce<G.length;ce++)this._map.hasLayer(G[ce])&&this._map.removeLayer(G[ce]);for(ce=0;ce<E.length;ce++)this._map.hasLayer(E[ce])||this._map.addLayer(E[ce]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,g,E=this._map.getZoom(),G=a.length-1;G>=0;G--)u=a[G],g=this._getLayer(u.layerId).layer,u.disabled=g.options.minZoom!==void 0&&E<g.options.minZoom||g.options.maxZoom!==void 0&&E>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,pt(a,"click",Un),this.expand();var u=this;setTimeout(function(){xn(a,"click",Un),u._preventClick=!1})}}),Dl=function(a,u,g){return new Yr(a,u,g)},zi=Ao.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",g=Wt("div",u+" leaflet-bar"),E=this.options;return this._zoomInButton=this._createButton(E.zoomInText,E.zoomInTitle,u+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(E.zoomOutText,E.zoomOutTitle,u+"-out",g,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,g,E,G){var ce=Wt("a",g,E);return ce.innerHTML=a,ce.href="#",ce.title=u,ce.setAttribute("role","button"),ce.setAttribute("aria-label",u),Na(ce),pt(ce,"click",Pa),pt(ce,"click",G,this),pt(ce,"click",this._refocusOnMap,this),ce},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";Bn(this._zoomInButton,u),Bn(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(jt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(jt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xt.mergeOptions({zoomControl:!0}),Xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new zi,this.addControl(this.zoomControl))});var Ia=function(a){return new zi(a)},Xr=Ao.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",g=Wt("div",u),E=this.options;return this._addScales(E,u+"-line",g),a.on(E.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),g},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,g){a.metric&&(this._mScale=Wt("div",u,g)),a.imperial&&(this._iScale=Wt("div",u,g))},_update:function(){var a=this._map,u=a.getSize().y/2,g=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(g)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),g=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,g,u/a)},_updateImperial:function(a){var u=a*3.2808399,g,E,G;u>5280?(g=u/5280,E=this._getRoundNum(g),this._updateScale(this._iScale,E+" mi",E/g)):(G=this._getRoundNum(u),this._updateScale(this._iScale,G+" ft",G/u))},_updateScale:function(a,u,g){a.style.width=Math.round(this.options.maxWidth*g)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),g=a/u;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,u*g}}),Is=function(a){return new Xr(a)},Rl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',C=Ao.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(gt.inlineSvg?Rl+" ":"")+"Leaflet</a>"},initialize:function(a){A(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Wt("div","leaflet-control-attribution"),Na(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var g=[];this.options.prefix&&g.push(this.options.prefix),a.length&&g.push(a.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});Xt.mergeOptions({attributionControl:!0}),Xt.addInitHook(function(){this.options.attributionControl&&new C().addTo(this)});var oe=function(a){return new C(a)};Ao.Layers=Yr,Ao.Zoom=zi,Ao.Scale=Xr,Ao.Attribution=C,Ta.layers=Dl,Ta.zoom=Ia,Ta.scale=Is,Ta.attribution=oe;var be=b.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});be.addTo=function(a,u){return a.addHandler(u,this),this};var Ee={Events:Q},Oe=gt.touch?"touchstart mousedown":"mousedown",Ye=U.extend({options:{clickTolerance:3},initialize:function(a,u,g,E){A(this,E),this._element=a,this._dragStartTarget=u||a,this._preventOutline=g},enable:function(){this._enabled||(pt(this._dragStartTarget,Oe,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ye._dragging===this&&this.finishDrag(!0),xn(this._dragStartTarget,Oe,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!ki(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ye._dragging===this&&this.finishDrag();return}if(!(Ye._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ye._dragging=this,this._preventOutline&&si(this._element),Gr(),as(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,g=rs(this._element);this._startPoint=new le(u.clientX,u.clientY),this._startPos=ta(this._element),this._parentScale=Ts(g);var E=a.type==="mousedown";pt(document,E?"mousemove":"touchmove",this._onMove,this),pt(document,E?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,g=new le(u.clientX,u.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,Un(a),this._moved||(this.fire("dragstart"),this._moved=!0,jt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),jt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),bn(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Bn(document.body,"leaflet-dragging"),this._lastTarget&&(Bn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xn(document,"mousemove touchmove",this._onMove,this),xn(document,"mouseup touchend touchcancel",this._onUp,this),Wr(),na();var u=this._moved&&this._moving;this._moving=!1,Ye._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function it(a,u,g){var E,G=[1,4,2,8],ce,Se,Be,qe,at,_t,$t,tn;for(ce=0,_t=a.length;ce<_t;ce++)a[ce]._code=So(a[ce],u);for(Be=0;Be<4;Be++){for($t=G[Be],E=[],ce=0,_t=a.length,Se=_t-1;ce<_t;Se=ce++)qe=a[ce],at=a[Se],qe._code&$t?at._code&$t||(tn=Ei(at,qe,$t,u,g),tn._code=So(tn,u),E.push(tn)):(at._code&$t&&(tn=Ei(at,qe,$t,u,g),tn._code=So(tn,u),E.push(tn)),E.push(qe));a=E}return a}function wt(a,u){var g,E,G,ce,Se,Be,qe,at,_t;if(!a||a.length===0)throw new Error("latlngs not passed");ko(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var $t=V([0,0]),tn=J(a),Ro=tn.getNorthWest().distanceTo(tn.getSouthWest())*tn.getNorthEast().distanceTo(tn.getNorthWest());Ro<1700&&($t=St(a));var fo=a.length,Ti=[];for(g=0;g<fo;g++){var Zo=V(a[g]);Ti.push(u.project(V([Zo.lat-$t.lat,Zo.lng-$t.lng])))}for(Be=qe=at=0,g=0,E=fo-1;g<fo;E=g++)G=Ti[g],ce=Ti[E],Se=G.y*ce.x-ce.y*G.x,qe+=(G.x+ce.x)*Se,at+=(G.y+ce.y)*Se,Be+=Se*3;Be===0?_t=Ti[0]:_t=[qe/Be,at/Be];var vr=u.unproject(ke(_t));return V([vr.lat+$t.lat,vr.lng+$t.lng])}function St(a){for(var u=0,g=0,E=0,G=0;G<a.length;G++){var ce=V(a[G]);u+=ce.lat,g+=ce.lng,E++}return V([u/E,g/E])}var Ft={__proto__:null,clipPolygon:it,polygonCenter:wt,centroid:St};function qt(a,u){if(!u||!a.length)return a.slice();var g=u*u;return a=co(a,g),a=to(a,g),a}function an(a,u,g){return Math.sqrt(Ra(a,u,g,!0))}function Vn(a,u,g){return Ra(a,u,g)}function to(a,u){var g=a.length,E=typeof Uint8Array<"u"?Uint8Array:Array,G=new E(g);G[0]=G[g-1]=1,An(a,G,u,0,g-1);var ce,Se=[];for(ce=0;ce<g;ce++)G[ce]&&Se.push(a[ce]);return Se}function An(a,u,g,E,G){var ce=0,Se,Be,qe;for(Be=E+1;Be<=G-1;Be++)qe=Ra(a[Be],a[E],a[G],!0),qe>ce&&(Se=Be,ce=qe);ce>g&&(u[Se]=1,An(a,u,g,E,Se),An(a,u,g,Se,G))}function co(a,u){for(var g=[a[0]],E=1,G=0,ce=a.length;E<ce;E++)Da(a[E],a[G])>u&&(g.push(a[E]),G=E);return G<ce-1&&g.push(a[ce-1]),g}var Jn;function wo(a,u,g,E,G){var ce=E?Jn:So(a,g),Se=So(u,g),Be,qe,at;for(Jn=Se;;){if(!(ce|Se))return[a,u];if(ce&Se)return!1;Be=ce||Se,qe=Ei(a,u,Be,g,G),at=So(qe,g),Be===ce?(a=qe,ce=at):(u=qe,Se=at)}}function Ei(a,u,g,E,G){var ce=u.x-a.x,Se=u.y-a.y,Be=E.min,qe=E.max,at,_t;return g&8?(at=a.x+ce*(qe.y-a.y)/Se,_t=qe.y):g&4?(at=a.x+ce*(Be.y-a.y)/Se,_t=Be.y):g&2?(at=qe.x,_t=a.y+Se*(qe.x-a.x)/ce):g&1&&(at=Be.x,_t=a.y+Se*(Be.x-a.x)/ce),new le(at,_t,G)}function So(a,u){var g=0;return a.x<u.min.x?g|=1:a.x>u.max.x&&(g|=2),a.y<u.min.y?g|=4:a.y>u.max.y&&(g|=8),g}function Da(a,u){var g=u.x-a.x,E=u.y-a.y;return g*g+E*E}function Ra(a,u,g,E){var G=u.x,ce=u.y,Se=g.x-G,Be=g.y-ce,qe=Se*Se+Be*Be,at;return qe>0&&(at=((a.x-G)*Se+(a.y-ce)*Be)/qe,at>1?(G=g.x,ce=g.y):at>0&&(G+=Se*at,ce+=Be*at)),Se=a.x-G,Be=a.y-ce,E?Se*Se+Be*Be:new le(G,ce)}function ko(a){return!I(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function Oa(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ko(a)}function cs(a,u){var g,E,G,ce,Se,Be,qe,at;if(!a||a.length===0)throw new Error("latlngs not passed");ko(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var _t=V([0,0]),$t=J(a),tn=$t.getNorthWest().distanceTo($t.getSouthWest())*$t.getNorthEast().distanceTo($t.getNorthWest());tn<1700&&(_t=St(a));var Ro=a.length,fo=[];for(g=0;g<Ro;g++){var Ti=V(a[g]);fo.push(u.project(V([Ti.lat-_t.lat,Ti.lng-_t.lng])))}for(g=0,E=0;g<Ro-1;g++)E+=fo[g].distanceTo(fo[g+1])/2;if(E===0)at=fo[0];else for(g=0,ce=0;g<Ro-1;g++)if(Se=fo[g],Be=fo[g+1],G=Se.distanceTo(Be),ce+=G,ce>E){qe=(ce-E)/G,at=[Be.x-qe*(Be.x-Se.x),Be.y-qe*(Be.y-Se.y)];break}var Zo=u.unproject(ke(at));return V([Zo.lat+_t.lat,Zo.lng+_t.lng])}var Ds={__proto__:null,simplify:qt,pointToSegmentDistance:an,closestPointOnSegment:Vn,clipSegment:wo,_getEdgeIntersection:Ei,_getBitCode:So,_sqClosestPointOnSegment:Ra,isFlat:ko,_flat:Oa,polylineCenter:cs},ia={project:function(a){return new le(a.lng,a.lat)},unproject:function(a){return new B(a.y,a.x)},bounds:new Le([-180,-90],[180,90])},uo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Le([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,g=this.R,E=a.lat*u,G=this.R_MINOR/g,ce=Math.sqrt(1-G*G),Se=ce*Math.sin(E),Be=Math.tan(Math.PI/4-E/2)/Math.pow((1-Se)/(1+Se),ce/2);return E=-g*Math.log(Math.max(Be,1e-10)),new le(a.lng*u*g,E)},unproject:function(a){for(var u=180/Math.PI,g=this.R,E=this.R_MINOR/g,G=Math.sqrt(1-E*E),ce=Math.exp(-a.y/g),Se=Math.PI/2-2*Math.atan(ce),Be=0,qe=.1,at;Be<15&&Math.abs(qe)>1e-7;Be++)at=G*Math.sin(Se),at=Math.pow((1-at)/(1+at),G/2),qe=Math.PI/2-2*Math.atan(ce*at)-Se,Se+=qe;return new B(Se*u,a.x*u/g)}},Rs={__proto__:null,LonLat:ia,Mercator:uo,SphericalMercator:ae},Os=s({},ee,{code:"EPSG:3395",projection:uo,transformation:function(){var a=.5/(Math.PI*uo.R);return se(a,.5,-a,.5)}()}),ur=s({},ee,{code:"EPSG:4326",projection:ia,transformation:se(1/180,1,-1/180,.5)}),Qr=s({},Y,{projection:ia,transformation:se(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var g=u.lng-a.lng,E=u.lat-a.lat;return Math.sqrt(g*g+E*E)},infinite:!0});Y.Earth=ee,Y.EPSG3395=Os,Y.EPSG3857=de,Y.EPSG900913=Ae,Y.EPSG4326=ur,Y.Simple=Qr;var Rn=U.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[d(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[d(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var g=this.getEvents();u.on(g,this),this.once("remove",function(){u.off(g,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Xt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=d(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=d(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return d(a)in this._layers},eachLayer:function(a,u){for(var g in this._layers)a.call(u,this._layers[g]);return this},_addLayers:function(a){a=a?I(a)?a:[a]:[];for(var u=0,g=a.length;u<g;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[d(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=d(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,g=this._getZoomSpan();for(var E in this._zoomBoundLayers){var G=this._zoomBoundLayers[E].options;a=G.minZoom===void 0?a:Math.min(a,G.minZoom),u=G.maxZoom===void 0?u:Math.max(u,G.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var qo=Rn.extend({initialize:function(a,u){A(this,u),this._layers={};var g,E;if(a)for(g=0,E=a.length;g<E;g++)this.addLayer(a[g])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),g,E;for(g in this._layers)E=this._layers[g],E[a]&&E[a].apply(E,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var g in this._layers)a.call(u,this._layers[g]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return d(a)}}),dr=function(a,u){return new qo(a,u)},Li=qo.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),qo.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),qo.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new he;for(var u in this._layers){var g=this._layers[u];a.extend(g.getBounds?g.getBounds():g.getLatLng())}return a}}),Ni=function(a,u){return new Li(a,u)},Pi=b.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){A(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var g=this._getIconUrl(a);if(!g){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var E=this._createImg(g,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(E,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),E},_setIconStyles:function(a,u){var g=this.options,E=g[u+"Size"];typeof E=="number"&&(E=[E,E]);var G=ke(E),ce=ke(u==="shadow"&&g.shadowAnchor||g.iconAnchor||G&&G.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(g.className||""),ce&&(a.style.marginLeft=-ce.x+"px",a.style.marginTop=-ce.y+"px"),G&&(a.style.width=G.x+"px",a.style.height=G.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return gt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function el(a){return new Pi(a)}var Ma=Pi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Ma.imagePath!="string"&&(Ma.imagePath=this._detectIconPath()),(this.options.imagePath||Ma.imagePath)+Pi.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(g,E,G){var ce=E.exec(g);return ce&&ce[G]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Wt("div","leaflet-default-icon-path",document.body),u=is(a,"background-image")||is(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),Fa=be.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ye(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),jt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Bn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,g=u._map,E=this._marker.options.autoPanSpeed,G=this._marker.options.autoPanPadding,ce=ta(u._icon),Se=g.getPixelBounds(),Be=g.getPixelOrigin(),qe=X(Se.min._subtract(Be).add(G),Se.max._subtract(Be).subtract(G));if(!qe.contains(ce)){var at=ke((Math.max(qe.max.x,ce.x)-qe.max.x)/(Se.max.x-qe.max.x)-(Math.min(qe.min.x,ce.x)-qe.min.x)/(Se.min.x-qe.min.x),(Math.max(qe.max.y,ce.y)-qe.max.y)/(Se.max.y-qe.max.y)-(Math.min(qe.min.y,ce.y)-qe.min.y)/(Se.min.y-qe.min.y)).multiplyBy(E);g.panBy(at,{animate:!1}),this._draggable._newPos._add(at),this._draggable._startPos._add(at),bn(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=x(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=x(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,g=u._shadow,E=ta(u._icon),G=u._map.layerPointToLatLng(E);g&&bn(g,E),u._latlng=G,a.latlng=G,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),aa=Rn.extend({options:{icon:new Ma,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){A(this,u),this._latlng=V(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=V(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=a.icon.createIcon(this._icon),E=!1;g!==this._icon&&(this._icon&&this._removeIcon(),E=!0,a.title&&(g.title=a.title),g.tagName==="IMG"&&(g.alt=a.alt||"")),jt(g,u),a.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pt(g,"focus",this._panOnFocus,this);var G=a.icon.createShadow(this._shadow),ce=!1;G!==this._shadow&&(this._removeShadow(),ce=!0),G&&(jt(G,u),G.alt=""),this._shadow=G,a.opacity<1&&this._updateOpacity(),E&&this.getPane().appendChild(this._icon),this._initInteraction(),G&&ce&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xn(this._icon,"focus",this._panOnFocus,this),wn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&wn(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&bn(this._icon,a),this._shadow&&bn(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(jt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Fa)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Fa(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&eo(this._icon,a),this._shadow&&eo(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,g=u.iconSize?ke(u.iconSize):ke(0,0),E=u.iconAnchor?ke(u.iconAnchor):ke(0,0);a.panInside(this._latlng,{paddingTopLeft:E,paddingBottomRight:g.subtract(E)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ri(a,u){return new aa(a,u)}var no=Rn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return A(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ui=no.extend({options:{fill:!0,radius:10},initialize:function(a,u){A(this,u),this._latlng=V(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=V(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return no.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,g=this._clickTolerance(),E=[a+g,u+g];this._pxBounds=new Le(this._point.subtract(E),this._point.add(E))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ba(a,u){return new Ui(a,u)}var sa=Ui.extend({initialize:function(a,u,g){if(typeof u=="number"&&(u=s({},g,{radius:u})),A(this,u),this._latlng=V(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new he(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:no.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,g=this._map,E=g.options.crs;if(E.distance===ee.distance){var G=Math.PI/180,ce=this._mRadius/ee.R/G,Se=g.project([u+ce,a]),Be=g.project([u-ce,a]),qe=Se.add(Be).divideBy(2),at=g.unproject(qe).lat,_t=Math.acos((Math.cos(ce*G)-Math.sin(u*G)*Math.sin(at*G))/(Math.cos(u*G)*Math.cos(at*G)))/G;(isNaN(_t)||_t===0)&&(_t=ce/Math.cos(Math.PI/180*u)),this._point=qe.subtract(g.getPixelOrigin()),this._radius=isNaN(_t)?0:qe.x-g.project([at,a-_t]).x,this._radiusY=qe.y-Se.y}else{var $t=E.unproject(E.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint($t).x}this._updateBounds()}});function tl(a,u,g){return new sa(a,u,g)}var Ho=no.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){A(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,g=null,E=Ra,G,ce,Se=0,Be=this._parts.length;Se<Be;Se++)for(var qe=this._parts[Se],at=1,_t=qe.length;at<_t;at++){G=qe[at-1],ce=qe[at];var $t=E(a,G,ce,!0);$t<u&&(u=$t,g=E(a,G,ce))}return g&&(g.distance=Math.sqrt(u)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=V(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new he,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return ko(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],g=ko(a),E=0,G=a.length;E<G;E++)g?(u[E]=V(a[E]),this._bounds.extend(u[E])):u[E]=this._convertLatLngs(a[E]);return u},_project:function(){var a=new Le;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new le(a,a);this._rawPxBounds&&(this._pxBounds=new Le([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,g){var E=a[0]instanceof B,G=a.length,ce,Se;if(E){for(Se=[],ce=0;ce<G;ce++)Se[ce]=this._map.latLngToLayerPoint(a[ce]),g.extend(Se[ce]);u.push(Se)}else for(ce=0;ce<G;ce++)this._projectLatlngs(a[ce],u,g)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,g,E,G,ce,Se,Be,qe;for(g=0,G=0,ce=this._rings.length;g<ce;g++)for(qe=this._rings[g],E=0,Se=qe.length;E<Se-1;E++)Be=wo(qe[E],qe[E+1],a,E,!0),Be&&(u[G]=u[G]||[],u[G].push(Be[0]),(Be[1]!==qe[E+1]||E===Se-2)&&(u[G].push(Be[1]),G++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,g=0,E=a.length;g<E;g++)a[g]=qt(a[g],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var g,E,G,ce,Se,Be,qe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(g=0,ce=this._parts.length;g<ce;g++)for(Be=this._parts[g],E=0,Se=Be.length,G=Se-1;E<Se;G=E++)if(!(!u&&E===0)&&an(a,Be[G],Be[E])<=qe)return!0;return!1}});function Yn(a,u){return new Ho(a,u)}Ho._flat=Oa;var ja=Ho.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wt(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=Ho.prototype._convertLatLngs.call(this,a),g=u.length;return g>=2&&u[0]instanceof B&&u[0].equals(u[g-1])&&u.pop(),u},_setLatLngs:function(a){Ho.prototype._setLatLngs.call(this,a),ko(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ko(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,g=new le(u,u);if(a=new Le(a.min.subtract(g),a.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var E=0,G=this._rings.length,ce;E<G;E++)ce=it(this._rings[E],a,!0),ce.length&&this._parts.push(ce)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,g,E,G,ce,Se,Be,qe,at;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(ce=0,qe=this._parts.length;ce<qe;ce++)for(g=this._parts[ce],Se=0,at=g.length,Be=at-1;Se<at;Be=Se++)E=g[Se],G=g[Be],E.y>a.y!=G.y>a.y&&a.x<(G.x-E.x)*(a.y-E.y)/(G.y-E.y)+E.x&&(u=!u);return u||Ho.prototype._containsPoint.call(this,a,!0)}});function ra(a,u){return new ja(a,u)}var xo=Li.extend({initialize:function(a,u){A(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=I(a)?a:a.features,g,E,G;if(u){for(g=0,E=u.length;g<E;g++)G=u[g],(G.geometries||G.geometry||G.features||G.coordinates)&&this.addData(G);return this}var ce=this.options;if(ce.filter&&!ce.filter(a))return this;var Se=us(a,ce);return Se?(Se.feature=ca(a),Se.defaultOptions=Se.options,this.resetStyle(Se),ce.onEachFeature&&ce.onEachFeature(a,Se),this.addLayer(Se)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=s({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function us(a,u){var g=a.type==="Feature"?a.geometry:a,E=g?g.coordinates:null,G=[],ce=u&&u.pointToLayer,Se=u&&u.coordsToLatLng||Ms,Be,qe,at,_t;if(!E&&!g)return null;switch(g.type){case"Point":return Be=Se(E),fr(ce,a,Be,u);case"MultiPoint":for(at=0,_t=E.length;at<_t;at++)Be=Se(E[at]),G.push(fr(ce,a,Be,u));return new Li(G);case"LineString":case"MultiLineString":return qe=ds(E,g.type==="LineString"?0:1,Se),new Ho(qe,u);case"Polygon":case"MultiPolygon":return qe=ds(E,g.type==="Polygon"?1:2,Se),new ja(qe,u);case"GeometryCollection":for(at=0,_t=g.geometries.length;at<_t;at++){var $t=us({geometry:g.geometries[at],type:"Feature",properties:a.properties},u);$t&&G.push($t)}return new Li(G);case"FeatureCollection":for(at=0,_t=g.features.length;at<_t;at++){var tn=us(g.features[at],u);tn&&G.push(tn)}return new Li(G);default:throw new Error("Invalid GeoJSON object.")}}function fr(a,u,g,E){return a?a(u,g):new aa(g,E&&E.markersInheritOptions&&E)}function Ms(a){return new B(a[1],a[0],a[2])}function ds(a,u,g){for(var E=[],G=0,ce=a.length,Se;G<ce;G++)Se=u?ds(a[G],u-1,g):(g||Ms)(a[G]),E.push(Se);return E}function la(a,u){return a=V(a),a.alt!==void 0?[w(a.lng,u),w(a.lat,u),w(a.alt,u)]:[w(a.lng,u),w(a.lat,u)]}function Vi(a,u,g,E){for(var G=[],ce=0,Se=a.length;ce<Se;ce++)G.push(u?Vi(a[ce],ko(a[ce])?0:u-1,g,E):la(a[ce],E));return!u&&g&&G.length>0&&G.push(G[0].slice()),G}function li(a,u){return a.feature?s({},a.feature,{geometry:u}):ca(u)}function ca(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var ua={toGeoJSON:function(a){return li(this,{type:"Point",coordinates:la(this.getLatLng(),a)})}};aa.include(ua),sa.include(ua),Ui.include(ua),Ho.include({toGeoJSON:function(a){var u=!ko(this._latlngs),g=Vi(this._latlngs,u?1:0,!1,a);return li(this,{type:(u?"Multi":"")+"LineString",coordinates:g})}}),ja.include({toGeoJSON:function(a){var u=!ko(this._latlngs),g=u&&!ko(this._latlngs[0]),E=Vi(this._latlngs,g?2:u?1:0,!0,a);return u||(E=[E]),li(this,{type:(g?"Multi":"")+"Polygon",coordinates:E})}}),qo.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(g){u.push(g.toGeoJSON(a).geometry.coordinates)}),li(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var g=u==="GeometryCollection",E=[];return this.eachLayer(function(G){if(G.toGeoJSON){var ce=G.toGeoJSON(a);if(g)E.push(ce.geometry);else{var Se=ca(ce);Se.type==="FeatureCollection"?E.push.apply(E,Se.features):E.push(Se)}}}),g?li(this,{geometries:E,type:"GeometryCollection"}):{type:"FeatureCollection",features:E}}});function fs(a,u){return new xo(a,u)}var $i=fs,ci=Rn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,g){this._url=a,this._bounds=J(u),A(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(jt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){wn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Dn(this._image),this},bringToBack:function(){return this._map&&ka(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=J(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:Wt("img");if(jt(u,"leaflet-image-layer"),this._zoomAnimated&&jt(u,"leaflet-zoom-animated"),this.options.className&&jt(u,this.options.className),u.onselectstart=v,u.onmousemove=v,u.onload=l(this.fire,this,"load"),u.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Ca(this._image,g,u)},_reset:function(){var a=this._image,u=new Le(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=u.getSize();bn(a,u.min),a.style.width=g.x+"px",a.style.height=g.y+"px"},_updateOpacity:function(){eo(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),mn=function(a,u,g){return new ci(a,u,g)},Sn=ci.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:Wt("video");if(jt(u,"leaflet-image-layer"),this._zoomAnimated&&jt(u,"leaflet-zoom-animated"),this.options.className&&jt(u,this.options.className),u.onselectstart=v,u.onmousemove=v,u.onloadeddata=l(this.fire,this,"load"),a){for(var g=u.getElementsByTagName("source"),E=[],G=0;G<g.length;G++)E.push(g[G].src);this._url=g.length>0?E:[u.src];return}I(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var ce=0;ce<this._url.length;ce++){var Se=Wt("source");Se.src=this._url[ce],u.appendChild(Se)}}});function Xn(a,u,g){return new Sn(a,u,g)}var oo=ci.extend({_initImage:function(){var a=this._image=this._url;jt(a,"leaflet-image-layer"),this._zoomAnimated&&jt(a,"leaflet-zoom-animated"),this.options.className&&jt(a,this.options.className),a.onselectstart=v,a.onmousemove=v}});function za(a,u,g){return new oo(a,u,g)}var Go=Rn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof B||I(a))?(this._latlng=V(a),A(this,u)):(A(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&eo(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&eo(this._container,1),this.bringToFront(),this.options.interactive&&(jt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(eo(this._container,0),this._removeTimeout=setTimeout(l(wn,void 0,this._container),200)):wn(this._container),this.options.interactive&&(Bn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=V(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Dn(this._container),this},bringToBack:function(){return this._map&&ka(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof Li){u=null;var g=this._source._layers;for(var E in g)if(g[E]._map){u=g[E];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=ke(this.options.offset),g=this._getAnchor();this._zoomAnimated?bn(this._container,a.add(g)):u=u.add(a).add(g);var E=this._containerBottom=-u.y,G=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=E+"px",this._container.style.left=G+"px"}},_getAnchor:function(){return[0,0]}});Xt.include({_initOverlay:function(a,u,g,E){var G=u;return G instanceof a||(G=new a(E).setContent(u)),g&&G.setLatLng(g),G}}),Rn.include({_initOverlay:function(a,u,g,E){var G=g;return G instanceof a?(A(G,E),G._source=this):(G=u&&!E?u:new a(E,this),G.setContent(g)),G}});var Ua=Go.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Go.prototype.openOn.call(this,a)},onAdd:function(a){Go.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof no||this._source.on("preclick",La))},onRemove:function(a){Go.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof no||this._source.off("preclick",La))},getEvents:function(){var a=Go.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=Wt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=Wt("div",a+"-content-wrapper",u);if(this._contentNode=Wt("div",a+"-content",g),Na(u),ls(this._contentNode),pt(u,"contextmenu",La),this._tipContainer=Wt("div",a+"-tip-container",u),this._tip=Wt("div",a+"-tip",this._tipContainer),this.options.closeButton){var E=this._closeButton=Wt("a",a+"-close-button",u);E.setAttribute("role","button"),E.setAttribute("aria-label","Close popup"),E.href="#close",E.innerHTML='<span aria-hidden="true">&#215;</span>',pt(E,"click",function(G){Un(G),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var g=a.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),u.width=g+1+"px",u.whiteSpace="",u.height="";var E=a.offsetHeight,G=this.options.maxHeight,ce="leaflet-popup-scrolled";G&&E>G?(u.height=G+"px",jt(a,ce)):Bn(a,ce),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),g=this._getAnchor();bn(this._container,u.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(is(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+u,E=this._containerWidth,G=new le(this._containerLeft,-g-this._containerBottom);G._add(ta(this._container));var ce=a.layerPointToContainerPoint(G),Se=ke(this.options.autoPanPadding),Be=ke(this.options.autoPanPaddingTopLeft||Se),qe=ke(this.options.autoPanPaddingBottomRight||Se),at=a.getSize(),_t=0,$t=0;ce.x+E+qe.x>at.x&&(_t=ce.x+E-at.x+qe.x),ce.x-_t-Be.x<0&&(_t=ce.x-Be.x),ce.y+g+qe.y>at.y&&($t=ce.y+g-at.y+qe.y),ce.y-$t-Be.y<0&&($t=ce.y-Be.y),(_t||$t)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([_t,$t]))}},_getAnchor:function(){return ke(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ol=function(a,u){return new Ua(a,u)};Xt.mergeOptions({closePopupOnClick:!0}),Xt.include({openPopup:function(a,u,g){return this._initOverlay(Ua,a,u,g).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Rn.include({bindPopup:function(a,u){return this._popup=this._initOverlay(Ua,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Li||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Pa(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof no)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var nl=Go.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Go.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Go.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Go.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Wt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,g,E=this._map,G=this._container,ce=E.latLngToContainerPoint(E.getCenter()),Se=E.layerPointToContainerPoint(a),Be=this.options.direction,qe=G.offsetWidth,at=G.offsetHeight,_t=ke(this.options.offset),$t=this._getAnchor();Be==="top"?(u=qe/2,g=at):Be==="bottom"?(u=qe/2,g=0):Be==="center"?(u=qe/2,g=at/2):Be==="right"?(u=0,g=at/2):Be==="left"?(u=qe,g=at/2):Se.x<ce.x?(Be="right",u=0,g=at/2):(Be="left",u=qe+(_t.x+$t.x)*2,g=at/2),a=a.subtract(ke(u,g,!0)).add(_t).add($t),Bn(G,"leaflet-tooltip-right"),Bn(G,"leaflet-tooltip-left"),Bn(G,"leaflet-tooltip-top"),Bn(G,"leaflet-tooltip-bottom"),jt(G,"leaflet-tooltip-"+Be),bn(G,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&eo(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return ke(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),bu=function(a,u){return new nl(a,u)};Xt.include({openTooltip:function(a,u,g){return this._initOverlay(nl,a,u,g).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Rn.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(nl,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[u](g),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Li||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(pt(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),pt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,g,E;this._tooltip.options.sticky&&a.originalEvent&&(g=this._map.mouseEventToContainerPoint(a.originalEvent),E=this._map.containerPointToLayerPoint(g),u=this._map.layerPointToLatLng(E)),this._tooltip.setLatLng(u)}});var wc=Pi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),g=this.options;if(g.html instanceof Element?(or(u),u.appendChild(g.html)):u.innerHTML=g.html!==!1?g.html:"",g.bgPos){var E=ke(g.bgPos);u.style.backgroundPosition=-E.x+"px "+-E.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function yu(a){return new wc(a)}Pi.Default=Ma;var pr=Rn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:gt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){A(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),wn(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Dn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ka(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof le?a:new le(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,g=-a(-1/0,1/0),E=0,G=u.length,ce;E<G;E++)ce=u[E].style.zIndex,u[E]!==this._container&&ce&&(g=a(g,+ce));isFinite(g)&&(this.options.zIndex=g+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!gt.ielt9){eo(this._container,this.options.opacity);var a=+new Date,u=!1,g=!1;for(var E in this._tiles){var G=this._tiles[E];if(!(!G.current||!G.loaded)){var ce=Math.min(1,(a-G.loaded)/200);eo(G.el,ce),ce<1?u=!0:(G.active?g=!0:this._onOpaqueTile(G),G.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),u&&($(this._fadeFrame),this._fadeFrame=x(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=Wt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===a?(this._levels[g].el.style.zIndex=u-Math.abs(a-g),this._onUpdateLevel(g)):(wn(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var E=this._levels[a],G=this._map;return E||(E=this._levels[a]={},E.el=Wt("div","leaflet-tile-container leaflet-zoom-animated",this._container),E.el.style.zIndex=u,E.origin=G.project(G.unproject(G.getPixelOrigin()),a).round(),E.zoom=a,this._setZoomTransform(E,G.getCenter(),G.getZoom()),v(E.el.offsetWidth),this._onCreateLevel(E)),this._level=E,E}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var a,u,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var E=u.coords;this._retainParent(E.x,E.y,E.z,E.z-5)||this._retainChildren(E.x,E.y,E.z,E.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)wn(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,g,E){var G=Math.floor(a/2),ce=Math.floor(u/2),Se=g-1,Be=new le(+G,+ce);Be.z=+Se;var qe=this._tileCoordsToKey(Be),at=this._tiles[qe];return at&&at.active?(at.retain=!0,!0):(at&&at.loaded&&(at.retain=!0),Se>E?this._retainParent(G,ce,Se,E):!1)},_retainChildren:function(a,u,g,E){for(var G=2*a;G<2*a+2;G++)for(var ce=2*u;ce<2*u+2;ce++){var Se=new le(G,ce);Se.z=g+1;var Be=this._tileCoordsToKey(Se),qe=this._tiles[Be];if(qe&&qe.active){qe.retain=!0;continue}else qe&&qe.loaded&&(qe.retain=!0);g+1<E&&this._retainChildren(G,ce,g+1,E)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,g,E){var G=Math.round(u);this.options.maxZoom!==void 0&&G>this.options.maxZoom||this.options.minZoom!==void 0&&G<this.options.minZoom?G=void 0:G=this._clampZoom(G);var ce=this.options.updateWhenZooming&&G!==this._tileZoom;(!E||ce)&&(this._tileZoom=G,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),G!==void 0&&this._update(a),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var g in this._levels)this._setZoomTransform(this._levels[g],a,u)},_setZoomTransform:function(a,u,g){var E=this._map.getZoomScale(g,a.zoom),G=a.origin.multiplyBy(E).subtract(this._map._getNewPixelOrigin(u,g)).round();gt.any3d?Ca(a.el,G,E):bn(a.el,G)},_resetGrid:function(){var a=this._map,u=a.options.crs,g=this._tileSize=this.getTileSize(),E=this._tileZoom,G=this._map.getPixelWorldBounds(this._tileZoom);G&&(this._globalTileRange=this._pxBoundsToTileRange(G)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],E).x/g.x),Math.ceil(a.project([0,u.wrapLng[1]],E).x/g.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],E).y/g.x),Math.ceil(a.project([u.wrapLat[1],0],E).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,g=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),E=u.getZoomScale(g,this._tileZoom),G=u.project(a,this._tileZoom).floor(),ce=u.getSize().divideBy(E*2);return new Le(G.subtract(ce),G.add(ce))},_update:function(a){var u=this._map;if(u){var g=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var E=this._getTiledPixelBounds(a),G=this._pxBoundsToTileRange(E),ce=G.getCenter(),Se=[],Be=this.options.keepBuffer,qe=new Le(G.getBottomLeft().subtract([Be,-Be]),G.getTopRight().add([Be,-Be]));if(!(isFinite(G.min.x)&&isFinite(G.min.y)&&isFinite(G.max.x)&&isFinite(G.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var at in this._tiles){var _t=this._tiles[at].coords;(_t.z!==this._tileZoom||!qe.contains(new le(_t.x,_t.y)))&&(this._tiles[at].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(a,g);return}for(var $t=G.min.y;$t<=G.max.y;$t++)for(var tn=G.min.x;tn<=G.max.x;tn++){var Ro=new le(tn,$t);if(Ro.z=this._tileZoom,!!this._isValidTile(Ro)){var fo=this._tiles[this._tileCoordsToKey(Ro)];fo?fo.current=!0:Se.push(Ro)}}if(Se.sort(function(Zo,vr){return Zo.distanceTo(ce)-vr.distanceTo(ce)}),Se.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ti=document.createDocumentFragment();for(tn=0;tn<Se.length;tn++)this._addTile(Se[tn],Ti);this._level.el.appendChild(Ti)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var g=this._globalTileRange;if(!u.wrapLng&&(a.x<g.min.x||a.x>g.max.x)||!u.wrapLat&&(a.y<g.min.y||a.y>g.max.y))return!1}if(!this.options.bounds)return!0;var E=this._tileCoordsToBounds(a);return J(this.options.bounds).overlaps(E)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,g=this.getTileSize(),E=a.scaleBy(g),G=E.add(g),ce=u.unproject(E,a.z),Se=u.unproject(G,a.z);return[ce,Se]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),g=new he(u[0],u[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),g=new le(+u[0],+u[1]);return g.z=+u[2],g},_removeTile:function(a){var u=this._tiles[a];u&&(wn(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){jt(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=v,a.onmousemove=v,gt.ielt9&&this.options.opacity<1&&eo(a,this.options.opacity)},_addTile:function(a,u){var g=this._getTilePos(a),E=this._tileCoordsToKey(a),G=this.createTile(this._wrapCoords(a),l(this._tileReady,this,a));this._initTile(G),this.createTile.length<2&&x(l(this._tileReady,this,a,null,G)),bn(G,g),this._tiles[E]={el:G,coords:a,current:!0},u.appendChild(G),this.fire("tileloadstart",{tile:G,coords:a})},_tileReady:function(a,u,g){u&&this.fire("tileerror",{error:u,tile:g,coords:a});var E=this._tileCoordsToKey(a);g=this._tiles[E],g&&(g.loaded=+new Date,this._map._fadeAnimated?(eo(g.el,0),$(this._fadeFrame),this._fadeFrame=x(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),u||(jt(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),gt.ielt9||!this._map._fadeAnimated?x(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new le(this._wrapX?f(a.x,this._wrapX):a.x,this._wrapY?f(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new Le(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function wu(a){return new pr(a)}var da=pr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=A(this,u),u.detectRetina&&gt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var g=document.createElement("img");return pt(g,"load",l(this._tileOnLoad,this,u,g)),pt(g,"error",l(this._tileOnError,this,u,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(a),g},getTileUrl:function(a){var u={r:gt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=g),u["-y"]=g}return T(this._url,s(u,this.options))},_tileOnLoad:function(a,u){gt.ielt9?setTimeout(l(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,g){var E=this.options.errorTileUrl;E&&u.getAttribute("src")!==E&&(u.src=E),a(g,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,g=this.options.zoomReverse,E=this.options.zoomOffset;return g&&(a=u-a),a+E},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=v,u.onerror=v,!u.complete)){u.src=K;var g=this._tiles[a].coords;wn(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:g})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",K),pr.prototype._removeTile.call(this,a)},_tileReady:function(a,u,g){if(!(!this._map||g&&g.getAttribute("src")===K))return pr.prototype._tileReady.call(this,a,u,g)}});function xc(a,u){return new da(a,u)}var Ac=da.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var g=s({},this.defaultWmsParams);for(var E in u)E in this.options||(g[E]=u[E]);u=A(this,u);var G=u.detectRetina&&gt.retina?2:1,ce=this.getTileSize();g.width=ce.x*G,g.height=ce.y*G,this.wmsParams=g},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,da.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),g=this._crs,E=X(g.project(u[0]),g.project(u[1])),G=E.min,ce=E.max,Se=(this._wmsVersion>=1.3&&this._crs===ur?[G.y,G.x,ce.y,ce.x]:[G.x,G.y,ce.x,ce.y]).join(","),Be=da.prototype.getTileUrl.call(this,a);return Be+N(this.wmsParams,Be,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Se},setParams:function(a,u){return s(this.wmsParams,a),u||this.redraw(),this}});function xu(a,u){return new Ac(a,u)}da.WMS=Ac,xc.wms=xu;var fa=Rn.extend({options:{padding:.1},initialize:function(a){A(this,a),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),jt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var g=this._map.getZoomScale(u,this._zoom),E=this._map.getSize().multiplyBy(.5+this.options.padding),G=this._map.project(this._center,u),ce=E.multiplyBy(-g).add(G).subtract(this._map._getNewPixelOrigin(a,u));gt.any3d?Ca(this._container,ce,g):bn(this._container,ce)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),g=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new Le(g,g.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Sc=fa.extend({options:{tolerance:0},getEvents:function(){var a=fa.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){fa.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");pt(a,"mousemove",this._onMouseMove,this),pt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),pt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,wn(this._container),xn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fa.prototype._update.call(this);var a=this._bounds,u=this._container,g=a.getSize(),E=gt.retina?2:1;bn(u,a.min),u.width=E*g.x,u.height=E*g.y,u.style.width=g.x+"px",u.style.height=g.y+"px",gt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){fa.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[d(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,g=u.next,E=u.prev;g?g.prev=E:this._drawLast=E,E?E.next=g:this._drawFirst=g,delete a._order,delete this._layers[d(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),g=[],E,G;for(G=0;G<u.length;G++){if(E=Number(u[G]),isNaN(E))return;g.push(E)}a.options._dashArray=g}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||x(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Le,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var g=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var E=this._drawFirst;E;E=E.next)a=E.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var g,E,G,ce,Se=a._parts,Be=Se.length,qe=this._ctx;if(Be){for(qe.beginPath(),g=0;g<Be;g++){for(E=0,G=Se[g].length;E<G;E++)ce=Se[g][E],qe[E?"lineTo":"moveTo"](ce.x,ce.y);u&&qe.closePath()}this._fillStroke(qe,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,g=this._ctx,E=Math.max(Math.round(a._radius),1),G=(Math.max(Math.round(a._radiusY),1)||E)/E;G!==1&&(g.save(),g.scale(1,G)),g.beginPath(),g.arc(u.x,u.y/G,E,0,Math.PI*2,!1),G!==1&&g.restore(),this._fillStroke(g,a)}},_fillStroke:function(a,u){var g=u.options;g.fill&&(a.globalAlpha=g.fillOpacity,a.fillStyle=g.fillColor||g.color,a.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=g.opacity,a.lineWidth=g.weight,a.strokeStyle=g.color,a.lineCap=g.lineCap,a.lineJoin=g.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),g,E,G=this._drawFirst;G;G=G.next)g=G.layer,g.options.interactive&&g._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(g))&&(E=g);this._fireEvent(E?[E]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(Bn(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var g,E,G=this._drawFirst;G;G=G.next)g=G.layer,g.options.interactive&&g._containsPoint(u)&&(E=g);E!==this._hoveredLayer&&(this._handleMouseOut(a),E&&(jt(this._container,"leaflet-interactive"),this._fireEvent([E],a,"mouseover"),this._hoveredLayer=E)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,g){this._map._fireDOMEvent(u,g||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var g=u.next,E=u.prev;if(g)g.prev=E;else return;E?E.next=g:g&&(this._drawFirst=g),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var g=u.next,E=u.prev;if(E)E.next=g;else return;g?g.prev=E:E&&(this._drawLast=E),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function kc(a){return gt.canvas?new Sc(a):null}var hr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Au={_initContainer:function(){this._container=Wt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(fa.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=hr("shape");jt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=hr("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;wn(u),a.removeInteractiveTarget(u),delete this._layers[d(a)]},_updateStyle:function(a){var u=a._stroke,g=a._fill,E=a.options,G=a._container;G.stroked=!!E.stroke,G.filled=!!E.fill,E.stroke?(u||(u=a._stroke=hr("stroke")),G.appendChild(u),u.weight=E.weight+"px",u.color=E.color,u.opacity=E.opacity,E.dashArray?u.dashStyle=I(E.dashArray)?E.dashArray.join(" "):E.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=E.lineCap.replace("butt","flat"),u.joinstyle=E.lineJoin):u&&(G.removeChild(u),a._stroke=null),E.fill?(g||(g=a._fill=hr("fill")),G.appendChild(g),g.color=E.fillColor||E.color,g.opacity=E.fillOpacity):g&&(G.removeChild(g),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),g=Math.round(a._radius),E=Math.round(a._radiusY||g);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+g+","+E+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){Dn(a._container)},_bringToBack:function(a){ka(a._container)}},mr=gt.vml?hr:ne,ps=fa.extend({_initContainer:function(){this._container=mr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=mr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){wn(this._container),xn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fa.prototype._update.call(this);var a=this._bounds,u=a.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,g.setAttribute("width",u.x),g.setAttribute("height",u.y)),bn(g,a.min),g.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=mr("path");a.options.className&&jt(u,a.options.className),a.options.interactive&&jt(u,"leaflet-interactive"),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){wn(a._path),a.removeInteractiveTarget(a._path),delete this._layers[d(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,g=a.options;u&&(g.stroke?(u.setAttribute("stroke",g.color),u.setAttribute("stroke-opacity",g.opacity),u.setAttribute("stroke-width",g.weight),u.setAttribute("stroke-linecap",g.lineCap),u.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?u.setAttribute("stroke-dasharray",g.dashArray):u.removeAttribute("stroke-dasharray"),g.dashOffset?u.setAttribute("stroke-dashoffset",g.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),g.fill?(u.setAttribute("fill",g.fillColor||g.color),u.setAttribute("fill-opacity",g.fillOpacity),u.setAttribute("fill-rule",g.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,ge(a._parts,u))},_updateCircle:function(a){var u=a._point,g=Math.max(Math.round(a._radius),1),E=Math.max(Math.round(a._radiusY),1)||g,G="a"+g+","+E+" 0 1,0 ",ce=a._empty()?"M0 0":"M"+(u.x-g)+","+u.y+G+g*2+",0 "+G+-g*2+",0 ";this._setPath(a,ce)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){Dn(a._path)},_bringToBack:function(a){ka(a._path)}});gt.vml&&ps.include(Au);function Wo(a){return gt.svg||gt.vml?new ps(a):null}Xt.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&kc(a)||Wo(a)}});var ui=ja.extend({initialize:function(a,u){ja.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=J(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Ml(a,u){return new ui(a,u)}ps.create=mr,ps.pointsToPath=ge,xo.geometryToLayer=us,xo.coordsToLatLng=Ms,xo.coordsToLatLngs=ds,xo.latLngToCoords=la,xo.latLngsToCoords=Vi,xo.getFeature=li,xo.asFeature=ca,Xt.mergeOptions({boxZoom:!0});var ol=be.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){pt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){xn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){wn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),as(),Gr(),this._startPoint=this._map.mouseEventToContainerPoint(a),pt(document,{contextmenu:Pa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Wt("div","leaflet-zoom-box",this._container),jt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new Le(this._point,this._startPoint),g=u.getSize();bn(this._box,u.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(wn(this._box),Bn(this._container,"leaflet-crosshair")),na(),Wr(),xn(document,{contextmenu:Pa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var u=new he(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xt.addInitHook("addHandler","boxZoom",ol),Xt.mergeOptions({doubleClickZoom:!0});var Cc=be.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,g=u.getZoom(),E=u.options.zoomDelta,G=a.originalEvent.shiftKey?g-E:g+E;u.options.doubleClickZoom==="center"?u.setZoom(G):u.setZoomAround(a.containerPoint,G)}});Xt.addInitHook("addHandler","doubleClickZoom",Cc),Xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var il=be.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ye(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}jt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Bn(this._map._container,"leaflet-grab"),Bn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=J(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),g=this._initialWorldOffset,E=this._draggable._newPos.x,G=(E-u+g)%a+u-g,ce=(E+u+g)%a-u-g,Se=Math.abs(G+g)<Math.abs(ce+g)?G:ce;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Se},_onDragEnd:function(a){var u=this._map,g=u.options,E=!g.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),E)u.fire("moveend");else{this._prunePositions(+new Date);var G=this._lastPos.subtract(this._positions[0]),ce=(this._lastTime-this._times[0])/1e3,Se=g.easeLinearity,Be=G.multiplyBy(Se/ce),qe=Be.distanceTo([0,0]),at=Math.min(g.inertiaMaxSpeed,qe),_t=Be.multiplyBy(at/qe),$t=at/(g.inertiaDeceleration*Se),tn=_t.multiplyBy(-$t/2).round();!tn.x&&!tn.y?u.fire("moveend"):(tn=u._limitOffset(tn,u.options.maxBounds),x(function(){u.panBy(tn,{duration:$t,easeLinearity:Se,noMoveStart:!0,animate:!0})}))}}});Xt.addInitHook("addHandler","dragging",il),Xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var al=be.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),pt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),xn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,g=a.scrollTop||u.scrollTop,E=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(E,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},g=this.keyCodes,E,G;for(E=0,G=g.left.length;E<G;E++)u[g.left[E]]=[-1*a,0];for(E=0,G=g.right.length;E<G;E++)u[g.right[E]]=[a,0];for(E=0,G=g.down.length;E<G;E++)u[g.down[E]]=[0,a];for(E=0,G=g.up.length;E<G;E++)u[g.up[E]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},g=this.keyCodes,E,G;for(E=0,G=g.zoomIn.length;E<G;E++)u[g.zoomIn[E]]=a;for(E=0,G=g.zoomOut.length;E<G;E++)u[g.zoomOut[E]]=-a},_addHooks:function(){pt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){xn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,g=this._map,E;if(u in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(E=this._panKeys[u],a.shiftKey&&(E=ke(E).multiplyBy(3)),g.options.maxBounds&&(E=g._limitOffset(ke(E),g.options.maxBounds)),g.options.worldCopyJump){var G=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(E)));g.panTo(G)}else g.panBy(E)}else if(u in this._zoomKeys)g.setZoom(g.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;Pa(a)}}});Xt.addInitHook("addHandler","keyboard",al),Xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Fl=be.extend({addHooks:function(){pt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){xn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=rr(a),g=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var E=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),E),Pa(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),g=this._map.options.zoomSnap||0;a._stop();var E=this._delta/(this._map.options.wheelPxPerZoomLevel*4),G=4*Math.log(2/(1+Math.exp(-Math.abs(E))))/Math.LN2,ce=g?Math.ceil(G/g)*g:G,Se=a._limitZoom(u+(this._delta>0?ce:-ce))-u;this._delta=0,this._startTime=null,Se&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+Se):a.setZoomAround(this._lastMousePos,u+Se))}});Xt.addInitHook("addHandler","scrollWheelZoom",Fl);var Su=600;Xt.mergeOptions({tapHold:gt.touchNative&&gt.safari&&gt.mobile,tapTolerance:15});var Bl=be.extend({addHooks:function(){pt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){xn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new le(u.clientX,u.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(pt(document,"touchend",Un),pt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Su),pt(document,"touchend touchcancel contextmenu",this._cancel,this),pt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){xn(document,"touchend",Un),xn(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),xn(document,"touchend touchcancel contextmenu",this._cancel,this),xn(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new le(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var g=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});g._simulated=!0,u.target.dispatchEvent(g)}});Xt.addInitHook("addHandler","tapHold",Bl),Xt.mergeOptions({touchZoom:gt.touch,bounceAtZoomLimits:!0});var jl=be.extend({addHooks:function(){jt(this._map._container,"leaflet-touch-zoom"),pt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Bn(this._map._container,"leaflet-touch-zoom"),xn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var g=u.mouseEventToContainerPoint(a.touches[0]),E=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(g.add(E)._divideBy(2))),this._startDist=g.distanceTo(E),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),pt(document,"touchmove",this._onTouchMove,this),pt(document,"touchend touchcancel",this._onTouchEnd,this),Un(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,g=u.mouseEventToContainerPoint(a.touches[0]),E=u.mouseEventToContainerPoint(a.touches[1]),G=g.distanceTo(E)/this._startDist;if(this._zoom=u.getScaleZoom(G,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&G<1||this._zoom>u.getMaxZoom()&&G>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,G===1)return}else{var ce=g._add(E)._divideBy(2)._subtract(this._centerPoint);if(G===1&&ce.x===0&&ce.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(ce),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var Se=l(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=x(Se,this,!0),Un(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),xn(document,"touchmove",this._onTouchMove,this),xn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xt.addInitHook("addHandler","touchZoom",jl),Xt.BoxZoom=ol,Xt.DoubleClickZoom=Cc,Xt.Drag=il,Xt.Keyboard=al,Xt.ScrollWheelZoom=Fl,Xt.TapHold=Bl,Xt.TouchZoom=jl,n.Bounds=Le,n.Browser=gt,n.CRS=Y,n.Canvas=Sc,n.Circle=sa,n.CircleMarker=Ui,n.Class=b,n.Control=Ao,n.DivIcon=wc,n.DivOverlay=Go,n.DomEvent=$a,n.DomUtil=yc,n.Draggable=Ye,n.Evented=U,n.FeatureGroup=Li,n.GeoJSON=xo,n.GridLayer=pr,n.Handler=be,n.Icon=Pi,n.ImageOverlay=ci,n.LatLng=B,n.LatLngBounds=he,n.Layer=Rn,n.LayerGroup=qo,n.LineUtil=Ds,n.Map=Xt,n.Marker=aa,n.Mixin=Ee,n.Path=no,n.Point=le,n.PolyUtil=Ft,n.Polygon=ja,n.Polyline=Ho,n.Popup=Ua,n.PosAnimation=cr,n.Projection=Rs,n.Rectangle=ui,n.Renderer=fa,n.SVG=ps,n.SVGOverlay=oo,n.TileLayer=da,n.Tooltip=nl,n.Transformation=te,n.Util=Z,n.VideoOverlay=Sn,n.bind=l,n.bounds=X,n.canvas=kc,n.circle=tl,n.circleMarker=Ba,n.control=Ta,n.divIcon=yu,n.extend=s,n.featureGroup=Ni,n.geoJSON=fs,n.geoJson=$i,n.gridLayer=wu,n.icon=el,n.imageOverlay=mn,n.latLng=V,n.latLngBounds=J,n.layerGroup=dr,n.map=Jr,n.marker=ri,n.point=ke,n.polygon=ra,n.polyline=Yn,n.popup=Ol,n.rectangle=Ml,n.setOptions=A,n.stamp=d,n.svg=Wo,n.svgOverlay=za,n.tileLayer=xc,n.tooltip=bu,n.transformation=se,n.version=i,n.videoOverlay=Xn;var zl=window.L;n.noConflict=function(){return window.L=zl,this},window.L=n})})(Fp,Fp.exports);var kS=Fp.exports;const Ri=SS(kS),CS={class:"map-selector"},ES={__name:"MapSelector",props:{modelValue:{type:Object,default:null},initialCenter:{type:Object,default:()=>({lat:3.4516,lng:-76.5319})},zoom:{type:Number,default:15}},emits:["update:modelValue","address-found"],setup(e,{expose:t,emit:n}){const i=e,s=n,r=ve(null);let l=null,c=null;const d=ve(i.modelValue),p=ve(!1);Kn(()=>i.modelValue,y=>{d.value=y,y&&l&&(c?c.setLatLng(y):c=Ri.marker(y).addTo(l),l.setView(y))},{immediate:!0});async function f(y,A){try{const N=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${y}&lon=${A}&zoom=18&addressdetails=1`,{headers:{"Accept-Language":"es"}});if(!N.ok)throw new Error("Error en geocodificacin");const k=await N.json();if(k&&k.display_name){const T=k.address||{};let I=[];if(T.road){let W=T.road;T.house_number&&(W+=" #"+T.house_number),I.push(W)}T.neighbourhood?I.push(T.neighbourhood):T.suburb&&I.push(T.suburb),T.city_district&&I.push(T.city_district);const j=T.city||T.town||T.village||T.municipality;if(j&&I.push(j),I.length>0)return I.join(", ");let K=k.display_name;return K=K.replace(/,\s*\d{6}/,""),K=K.replace(/,\s*Colombia$/,""),K}return null}catch(N){return console.error("Error en geocodificacin inversa:",N),null}}function v(y,A=!1){d.value=y,s("update:modelValue",y),c?c.setLatLng(y):c=Ri.marker(y).addTo(l),A||f(y.lat,y.lng).then(N=>{N&&s("address-found",N)})}async function w(y){if(!y||y.trim().length<5)return null;try{let A=y.trim();A.toLowerCase().includes("cali")||(A=`${A}, Cali`),A.toLowerCase().includes("colombia")||(A=`${A}, Colombia`);const k=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(A)}&limit=5&addressdetails=1&viewbox=-76.62,3.52,-76.45,3.35&bounded=0`,{headers:{"Accept-Language":"es"}});if(!k.ok)throw new Error("Error en geocodificacin");const T=await k.json();if(T&&T.length>0){let I=T[0];for(const K of T){const W=(K.display_name||"").toLowerCase();if(W.includes("cali")&&W.includes("valle del cauca")){I=K;break}}const j={lat:parseFloat(I.lat),lng:parseFloat(I.lon)};return l&&l.setView(j,17),v(j,!0),j}return null}catch(A){return console.error("Error en geocodificacin directa:",A),null}}t({searchAddress:w});function m(){if(!p.value){window.$toast?window.$toast.warning("Geolocalizacion","Tu navegador no soporta geolocalizacion."):alert("Tu navegador no soporta geolocalizacin.");return}const y=document.querySelector(".gps-button");y&&(y.disabled=!0,y.style.opacity="0.5"),navigator.geolocation.getCurrentPosition(A=>{const N={lat:A.coords.latitude,lng:A.coords.longitude};l&&l.setView(N,i.zoom),v(N),y&&(y.disabled=!1,y.style.opacity="1")},A=>{let N="No fue posible obtener tu ubicacin.";A.code===1?N=`Permiso denegado. Por favor:
1. Verifica los permisos de ubicacin del navegador
2. Recarga la pgina
3. Intenta nuevamente`:A.code===2?N="Ubicacin no disponible en tu dispositivo. Intenta en otro lugar o dispositivo.":A.code===3&&(N="La solicitud tard demasiado (>10s). Verifica tu conexin de internet."),window.$toast?window.$toast.error("Error de ubicacion",N,8e3):alert(N),y&&(y.disabled=!1,y.style.opacity="1")},{enableHighAccuracy:!0,timeout:200,maximumAge:0})}return yn(()=>{if(!r.value)return;typeof navigator<"u"&&"geolocation"in navigator&&(p.value=!0);const y="https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",A="https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",N="https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png";Ri.Marker.prototype.options.icon=Ri.icon({iconRetinaUrl:y,iconUrl:A,shadowUrl:N,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});let k=i.initialCenter;d.value&&(k=d.value),l=Ri.map(r.value).setView(k,i.zoom),d.value&&(c=Ri.marker(d.value).addTo(l)),Ri.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap contributors"}).addTo(l),l.on("click",T=>{v(T.latlng)})}),vc(()=>{l&&(l.off(),l.remove(),l=null)}),(y,A)=>(D(),M("div",CS,[o("div",{ref_key:"mapEl",ref:r,class:"map"},null,512),p.value?(D(),M("button",{key:0,class:"gps-button",onClick:m,title:"Usar mi ubicacin actual"},[...A[0]||(A[0]=[o("img",{src:xS,alt:"GPS",class:"gps-icon"},null,-1)])])):_e("",!0)]))}},L0=It(ES,[["__scopeId","data-v-646c0337"]]),LS=["for"],NS={key:0,class:"ui-required"},PS=["id","type","value","placeholder","disabled","step","min","max"],$S={key:0,class:"ui-help"},TS={__name:"InputGovCo",props:{modelValue:{type:[String,Number],default:""},id:{type:String,required:!0},label:{type:String,required:!0},type:{type:String,default:"text"},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},step:{type:[String,Number],default:void 0},min:{type:[String,Number],default:void 0},max:{type:[String,Number],default:void 0},width:{type:String,default:"100%"},helpText:{type:String,default:""},alertText:{type:String,default:""},error:{type:Boolean,default:!1}},emits:["update:modelValue","blur","focus"],setup(e,{emit:t}){const n=e,i=t;function s(r){let l=r.target.value;n.type==="number"&&l!==""&&(l=Number(l)),i("update:modelValue",l)}return(r,l)=>(D(),M("div",{class:"ui-field",style:Wa({width:e.width})},[o("label",{for:e.id,class:"ui-label"},[je(P(e.label),1),e.required?(D(),M("span",NS,"*")):_e("",!0)],8,LS),o("div",{class:ot(["ui-control",{"has-error":e.error}])},[o("input",{class:"ui-input",id:e.id,type:e.type,value:e.modelValue,placeholder:e.placeholder,disabled:e.disabled,step:e.step,min:e.min,max:e.max,onInput:s,onBlur:l[0]||(l[0]=c=>r.$emit("blur",c)),onFocus:l[1]||(l[1]=c=>r.$emit("focus",c))},null,40,PS)],2),e.helpText?(D(),M("p",$S,P(e.helpText),1)):_e("",!0),e.alertText?(D(),M("p",{key:1,class:ot(["ui-alert",{"is-error":e.error}])},P(e.alertText),3)):_e("",!0)],4))}},Hn=It(TS,[["__scopeId","data-v-f5b2723c"]]),IS=["for"],DS={key:0,class:"ui-required"},RS=["id","value","placeholder","disabled"],OS=["disabled"],MS={key:0,class:"ui-popover",role:"dialog","aria-label":"Calendario"},FS={class:"ui-popover__header"},BS={class:"title"},jS={class:"ui-popover__grid"},zS=["disabled","onClick"],US={class:"ui-popover__footer"},VS=["disabled"],qS=["disabled"],HS={key:0,class:"ui-help"},GS={__name:"CalendarioGovco",props:{id:{type:String,required:!0},inputId:{type:String,required:!0},modelValue:{type:String,default:""},label:{type:String,required:!0},placeholder:{type:String,default:"Seleccione una fecha"},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},min:{type:String,default:""},max:{type:String,default:""},width:{type:String,default:"100%"},helpText:{type:String,default:""},alertText:{type:String,default:""},error:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e,i=t,s=ve(!1),r=ve(null);function l(W){n.disabled||(s.value=typeof W=="boolean"?W:!s.value)}function c(){s.value=!1}function d(W){s.value&&r.value&&(r.value.contains(W.target)||c())}yn(()=>document.addEventListener("mousedown",d)),vc(()=>document.removeEventListener("mousedown",d));function p(W){if(!W)return null;const[H,F,R]=W.split("-").map(Number);return!H||!F||!R?null:new Date(H,F-1,R)}function f(W){const H=W.getFullYear(),F=String(W.getMonth()+1).padStart(2,"0"),R=String(W.getDate()).padStart(2,"0");return`${H}-${F}-${R}`}function v(W){const H=p(W);if(!H)return"";const F=String(H.getDate()).padStart(2,"0"),R=String(H.getMonth()+1).padStart(2,"0"),z=H.getFullYear();return`${F}/${R}/${z}`}const w=We(()=>v(n.modelValue)),m=ve(p(n.modelValue)||new Date);Kn(()=>n.modelValue,W=>{const H=p(W);H&&(m.value=H)});const y=["L","M","M","J","V","S","D"],A=We(()=>m.value.toLocaleDateString("es-CO",{month:"long",year:"numeric"}));function N(){const W=new Date(m.value);W.setMonth(W.getMonth()-1),m.value=W}function k(){const W=new Date(m.value);W.setMonth(W.getMonth()+1),m.value=W}const T=We(()=>{const W=m.value,H=W.getFullYear(),F=W.getMonth(),R=new Date(H,F,1),z=new Date(H,F+1,0),x=(R.getDay()||7)-1,$=Array.from({length:x},(le,xe)=>({key:`b-${xe}`,blank:!0,label:""})),Z=p(n.min),b=p(n.max),S=f(new Date),Q=n.modelValue,U=Array.from({length:z.getDate()},(le,xe)=>{const ke=new Date(H,F,xe+1),Le=f(ke),X=Z&&ke<Z||b&&ke>b;return{key:Le,blank:!1,label:String(xe+1),date:ke,isToday:Le===S,isSelected:Le===Q,isDisabled:X}});return[...$,...U]});function I(W){const H=f(W);i("update:modelValue",H),i("change",H),c()}function j(){const W=f(new Date);i("update:modelValue",W),i("change",W),c()}function K(){i("update:modelValue",""),i("change",""),c()}return(W,H)=>(D(),M("div",{class:"ui-field",style:Wa({width:e.width})},[o("label",{for:e.inputId,class:"ui-label"},[je(P(e.label),1),e.required?(D(),M("span",DS,"*")):_e("",!0)],8,IS),o("div",{class:ot(["ui-control ui-date",{"has-error":e.error,"is-disabled":e.disabled}]),ref_key:"root",ref:r},[o("input",{class:"ui-input",id:e.inputId,type:"text",value:w.value,placeholder:e.placeholder,disabled:e.disabled,readonly:"",onClick:H[0]||(H[0]=F=>l(!0)),onKeydown:H[1]||(H[1]=Cl(Tt(F=>l(),["prevent"]),["enter"]))},null,40,RS),o("button",{class:"ui-date__icon",type:"button","aria-label":"Abrir calendario",disabled:e.disabled,onClick:H[2]||(H[2]=F=>l())},[...H[3]||(H[3]=[o("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true"},[o("path",{d:"M7 3v3M17 3v3M4 8h16M6 6h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",stroke:"#004884","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])],8,OS),s.value?(D(),M("div",MS,[o("div",FS,[o("button",{type:"button",class:"nav",onClick:N,"aria-label":"Mes anterior"},""),o("div",BS,P(A.value),1),o("button",{type:"button",class:"nav",onClick:k,"aria-label":"Mes siguiente"},"")]),o("div",jS,[(D(),M(rt,null,ht(y,F=>o("div",{class:"dow",key:F},P(F),1)),64)),(D(!0),M(rt,null,ht(T.value,F=>(D(),M("button",{key:F.key,type:"button",class:ot(["day",{"is-blank":F.blank,"is-today":F.isToday,"is-selected":F.isSelected,"is-disabled":F.isDisabled}]),disabled:F.blank||F.isDisabled,onClick:R=>I(F.date)},P(F.label),11,zS))),128))]),o("div",US,[o("button",{type:"button",class:"link",onClick:j,disabled:e.disabled},"Hoy",8,VS),o("button",{type:"button",class:"link danger",onClick:K,disabled:e.disabled},"Limpiar",8,qS)])])):_e("",!0)],2),e.helpText?(D(),M("p",HS,P(e.helpText),1)):_e("",!0),e.alertText?(D(),M("p",{key:1,class:ot(["ui-alert",{"is-error":e.error}])},P(e.alertText),3)):_e("",!0)],4))}},ks=It(GS,[["__scopeId","data-v-2d02d30e"]]),WS=["for"],ZS={key:0,class:"ui-required"},KS=["id","disabled","value"],JS={disabled:"",value:""},YS=["value"],XS={key:0,class:"ui-help"},QS={__name:"DesplegableGovco",props:{id:{type:String,required:!0},modelValue:{type:[String,Number],default:""},label:{type:String,required:!0},placeholder:{type:String,default:"Seleccione una opcin"},options:{type:Array,default:()=>[]},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},width:{type:String,default:"100%"},helpText:{type:String,default:""},alertText:{type:String,default:""},error:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=t;function i(s){const r=s.target.value;n("update:modelValue",r),n("change",r)}return(s,r)=>(D(),M("div",{class:"ui-field",style:Wa({width:e.width})},[o("label",{for:e.id,class:"ui-label"},[je(P(e.label),1),e.required?(D(),M("span",ZS,"*")):_e("",!0)],8,WS),o("div",{class:ot(["ui-control ui-select",{"has-error":e.error,"is-disabled":e.disabled}])},[o("select",{class:"ui-select__native",id:e.id,disabled:e.disabled,value:e.modelValue,onChange:i},[o("option",JS,P(e.placeholder),1),(D(!0),M(rt,null,ht(e.options,l=>(D(),M("option",{key:l.value,value:l.value},P(l.text),9,YS))),128))],40,KS),r[0]||(r[0]=o("span",{class:"ui-select__chevron","aria-hidden":"true"},[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[o("path",{d:"M7 10l5 5 5-5",stroke:"#004884","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))],2),e.helpText?(D(),M("p",XS,P(e.helpText),1)):_e("",!0),e.alertText?(D(),M("p",{key:1,class:ot(["ui-alert",{"is-error":e.error}])},P(e.alertText),3)):_e("",!0)],4))}},pn=It(QS,[["__scopeId","data-v-76704ac7"]]),ek=["type","disabled"],tk={key:0,class:"spinner","aria-hidden":"true"},nk={key:0,class:"ui-help"},ok={__name:"ButtonGovCo",props:{label:{type:String,default:""},type:{type:String,default:"button"},variant:{type:String,default:"primary"},size:{type:String,default:"md"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},block:{type:Boolean,default:!1},width:{type:String,default:"auto"},helpText:{type:String,default:""},alertText:{type:String,default:""},error:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const n=e,i=t,s=`ui-btn--${n.variant}`,r=`ui-btn--${n.size}`;function l(c){n.disabled||n.loading||i("click",c)}return(c,d)=>(D(),M(rt,null,[o("button",{type:e.type,class:ot(["ui-btn",[Ka(s),Ka(r),{"is-block":e.block}]]),style:Wa({width:e.block?"100%":e.width}),disabled:e.disabled||e.loading,onClick:l},[e.loading?(D(),M("span",tk)):_e("",!0),sb(c.$slots,"default",{},()=>[je(P(e.label),1)])],14,ek),e.helpText?(D(),M("p",nk,P(e.helpText),1)):_e("",!0),e.alertText?(D(),M("p",{key:1,class:ot(["ui-alert",{"is-error":e.error}])},P(e.alertText),3)):_e("",!0)],64))}},xs=It(ok,[["__scopeId","data-v-1c60a2ff"]]),ik={class:"file-uploader"},ak=["for"],sk={key:0,class:"required-asterisk"},rk={class:"file-input-wrapper"},lk=["id","accept","multiple"],ck={key:0,class:"no-file-text"},uk={key:0,class:"help-text"},dk={key:1,class:"file-list"},fk={class:"file-info"},pk={class:"file-name"},hk={class:"file-size"},mk=["onClick"],vk={key:2,class:"error-message"},gk={__name:"FileUploader",props:{modelValue:{type:Array,default:()=>[]},accept:{type:String,default:""},maxFiles:{type:Number,default:1},maxSizeMB:{type:Number,default:5},label:{type:String,default:"Adjuntar archivos"},helpText:{type:String,default:""},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=t,s=ve(null),r=ve([...n.modelValue]),l=ve(""),c=We(()=>`file-uploader-${Math.random().toString(36).slice(2)}`);Kn(()=>n.modelValue,w=>{Array.isArray(w)&&(r.value=[...w])});function d(){var w;l.value="",(w=s.value)==null||w.click()}function p(w){l.value="";const m=Array.from(w.target.files||[]);if(!m.length)return;const y=n.maxSizeMB*1024*1024;for(const N of m)if(N.size>y){l.value=`El archivo "${N.name}" supera el tamao mximo de ${n.maxSizeMB}MB.`,s.value&&(s.value.value="");return}let A;if(n.multiple?A=[...r.value,...m]:A=[m[0]],A.length>n.maxFiles){l.value=`Solo puede adjuntar mximo ${n.maxFiles} archivo(s).`,s.value&&(s.value.value="");return}r.value=A,i("update:modelValue",r.value),s.value&&(s.value.value="")}function f(w){l.value="",r.value.splice(w,1),i("update:modelValue",r.value)}function v(w){return w<1024?`${w} B`:w<1024*1024?`${Math.round(w/1024)} KB`:`${(w/(1024*1024)).toFixed(1)} MB`}return(w,m)=>(D(),M("div",ik,[o("label",{for:c.value,class:"file-uploader-label"},[je(P(e.label)+" ",1),e.required?(D(),M("span",sk,"*")):_e("",!0)],8,ak),o("div",rk,[o("input",{id:c.value,ref_key:"fileInput",ref:s,type:"file",accept:e.accept,multiple:e.multiple,onChange:p,class:"hidden-input"},null,40,lk),o("button",{type:"button",class:"select-file-btn",onClick:d}," Seleccionar archivo"+P(e.multiple?"s":""),1),r.value.length===0?(D(),M("span",ck," Sin archivo seleccionado ")):_e("",!0)]),e.helpText?(D(),M("p",uk,P(e.helpText),1)):_e("",!0),r.value.length>0?(D(),M("ul",dk,[(D(!0),M(rt,null,ht(r.value,(y,A)=>(D(),M("li",{key:A,class:"file-item"},[o("span",fk,[o("span",pk,P(y.name),1),o("span",hk,P(v(y.size)),1)]),o("button",{type:"button",class:"remove-btn",onClick:N=>f(A),title:"Quitar archivo"},"  ",8,mk)]))),128))])):_e("",!0),l.value?(D(),M("span",vk,P(l.value),1)):_e("",!0)]))}},tf=It(gk,[["__scopeId","data-v-6bfc7691"]]),_k={class:"animal-form"},bk={class:"form-section"},yk={class:"form-grid"},wk={class:"form-section"},xk={class:"form-grid"},Ak={class:"full-width"},Sk={class:"map-container"},kk={class:"map-placeholder"},Ck={key:0},Ek={key:1},Lk={key:0,class:"alert-desplegable-govco"},Nk={class:"form-section"},Pk={class:"form-grid"},$k={class:"form-section"},Tk={class:"form-grid"},Ik={class:"full-width"},Dk={key:0,class:"alert-desplegable-govco"},Rk={class:"form-actions"},Ok={key:0,class:"result-card"},Mk={class:"result-content"},Fk={class:"result-info"},Bk={class:"result-actions"},jk={class:"result-qr"},zk=["src"],Uk={__name:"AnimalForm",setup(e){const t=ve(null),n=ve(!1),i=ve(null),s=ve(""),r=ve(""),l=[{value:"canino",text:"Canino"},{value:"felino",text:"Felino"},{value:"equino",text:"Equino"},{value:"otro",text:"Otro"}],c=[{value:"macho",text:"Macho"},{value:"hembra",text:"Hembra"}],d=[{value:"pequenio",text:"Pequeo"},{value:"mediano",text:"Mediano"},{value:"grande",text:"Grande"}],p=[{value:"en_calle",text:"En calle"},{value:"en_refugio",text:"En refugio"},{value:"en_adopcion",text:"En adopcin"},{value:"adoptado",text:"Adoptado"},{value:"en_tratamiento",text:"En tratamiento"},{value:"fallecido",text:"Fallecido"}],f=[{value:"excelente",text:"Excelente"},{value:"bueno",text:"Bueno"},{value:"estable",text:"Estable"},{value:"grave",text:"Grave"},{value:"critico",text:"Crtico"}],v=[{value:1,text:"S"},{value:0,text:"No"}],w=[{value:"rescate",text:"Rescate"},{value:"entrega_voluntaria",text:"Entrega voluntaria"},{value:"otra",text:"Otra"}],m=un({name:"",species:"",breed:"",color:"",sex:"",size:"",estimatedAge:"",status:"",condition:"",sterilizacion:null,entry_date:"",origin:"",coordinates:null,description:"",notes:"",photos:[]}),y=un({name:"",species:"",breed:"",color:"",sex:"",size:"",estimatedAge:"",status:"",condition:"",sterilizacion:"",entry_date:"",origin:"",coordinates:"",description:"",notes:"",photos:""});function A(){Object.keys(y).forEach(x=>y[x]="")}function N(){return A(),m.species||(y.species="La especie es obligatoria"),m.breed||(y.breed="La raza es obligatoria"),m.color||(y.color="El color es obligatorio"),m.sex||(y.sex="El sexo es obligatorio"),m.size||(y.size="El tamao es obligatorio"),m.estimatedAge||(y.estimatedAge="La edad estimada es obligatoria"),m.status||(y.status="El estado es obligatorio"),m.condition||(y.condition="La condicin es obligatoria"),(m.sterilizacion===null||m.sterilizacion===""||m.sterilizacion===void 0)&&(y.sterilizacion="La esterilizacin es obligatoria"),m.entry_date||(y.entry_date="La fecha de ingreso es obligatoria"),m.origin||(y.origin="La procedencia es obligatoria"),m.coordinates||(y.coordinates="Debe seleccionar una ubicacin en el mapa"),!Object.values(y).some(Boolean)}function k(x){if(x==null)return null;const $=String(x).trim().toLowerCase();if(!$)return null;if(/^\d+$/.test($))return Number($);const Z=$.match(/(\d+)\s*a\s*?o/),b=$.match(/(\d+)\s*mes/),S=Z?Number(Z[1]):0,Q=b?Number(b[1]):0,U=S*12+Q;return Number.isFinite(U)?U:null}function T(){var $,Z;const x=[];return m.origin&&x.push(String(m.origin)),($=m.coordinates)!=null&&$.lat&&((Z=m.coordinates)!=null&&Z.lng)&&x.push(`(${m.coordinates.lat}, ${m.coordinates.lng})`),x.join(" ")}function I(x){x&&(i.value=x,s.value=`${window.location.origin}/api/v1/animals/${x.id}`,r.value=`https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=${encodeURIComponent(s.value)}`)}function j(x){return new Promise(($,Z)=>{const b=new Image;b.crossOrigin="Anonymous",b.onload=()=>{const S=document.createElement("canvas");S.width=b.width,S.height=b.height,S.getContext("2d").drawImage(b,0,0);try{const U=S.toDataURL("image/png");$(U)}catch(U){Z(U)}},b.onerror=()=>Z(new Error("No se pudo cargar la imagen")),b.src=x})}async function K(){if(!i.value)return;const x=i.value,$=new Nt,Z=$.internal.pageSize.getWidth(),b=[51,102,204],S=[0,72,132],Q=[100,100,100];let U=20;$.setFillColor(...b),$.rect(0,0,Z,35,"F"),$.setTextColor(255,255,255),$.setFontSize(20),$.setFont("helvetica","bold"),$.text("FICHA DE REGISTRO ANIMAL",Z/2,15,{align:"center"}),$.setFontSize(12),$.setFont("helvetica","normal"),$.text("Sistema de Bienestar Animal",Z/2,24,{align:"center"}),$.setFontSize(10),$.text(`Fecha de generacin: ${new Date().toLocaleDateString("es-CO")}`,Z/2,31,{align:"center"}),U=45,$.setFillColor(232,240,254),$.rect(15,U,Z-30,12,"F"),$.setTextColor(...S),$.setFontSize(14),$.setFont("helvetica","bold"),$.text(`Cdigo: ${x.codigo_unico||x.id||"N/A"}`,Z/2,U+8,{align:"center"}),U+=20;function le(V,Y){return $.setFillColor(...b),$.rect(15,Y,Z-30,8,"F"),$.setTextColor(255,255,255),$.setFontSize(11),$.setFont("helvetica","bold"),$.text(V,20,Y+6),Y+12}function xe(V,Y,ee,fe){return $.setTextColor(...Q),$.setFontSize(9),$.setFont("helvetica","normal"),$.text(V,ee,fe),$.setTextColor(0,0,0),$.setFontSize(10),$.setFont("helvetica","bold"),$.text(String(Y||"No especificado"),ee,fe+5),fe+14}U=le("IDENTIFICACIN Y CARACTERSTICAS",U);const ke=20,Le=110;if(xe("Nombre",x.nombre||"Sin nombre",ke,U),xe("Especie",W(x.especie),Le,U),U+=14,xe("Raza",x.raza,ke,U),xe("Color",x.color,Le,U),U+=14,xe("Sexo",W(x.sexo),ke,U),xe("Tamao",W(x.tamanio),Le,U),U+=14,xe("Edad aproximada",H(x.edad_aproximada),ke,U),xe("Esterilizado",x.esterilizacion?"S":"No",Le,U),U+=18,U=le("ESTADO Y CONDICIN",U),xe("Estado actual",W(x.estado),ke,U),xe("Condicin de salud",W(x.estado_salud),Le,U),U+=18,U=le("INFORMACIN DE RESCATE",U),xe("Fecha de ingreso",F(x.fecha_rescate),ke,U),xe("Ubicacin",x.ubicacion_rescate||"No especificada",Le,U),U+=18,x.observaciones){U=le("OBSERVACIONES",U),$.setTextColor(0,0,0),$.setFontSize(10),$.setFont("helvetica","normal");const V=$.splitTextToSize(x.observaciones,Z-40);$.text(V,20,U+4),U+=V.length*5+10}const X=30,he=(Z-X)/2;if(U+=5,$.setTextColor(...Q),$.setFontSize(9),$.text("Escanea el cdigo QR para ver detalles en lnea:",Z/2,U,{align:"center"}),r.value)try{const V=await j(r.value);V&&($.addImage(V,"PNG",he,U+3,X,X),U+=X+8)}catch(V){console.warn("No se pudo cargar el QR en el PDF:",V),U+=10}const J=$.internal.pageSize.getHeight()-15;$.setDrawColor(...b),$.setLineWidth(.5),$.line(15,J-5,Z-15,J-5),$.setTextColor(...Q),$.setFontSize(8),$.setFont("helvetica","normal"),$.text("Sistema de Bienestar Animal - Documento generado automticamente",Z/2,J,{align:"center"}),$.text(`ID: ${x.id||"N/A"} | Cdigo: ${x.codigo_unico||"N/A"}`,Z/2,J+4,{align:"center"});const B=`ficha_animal_${x.codigo_unico||x.id||"registro"}.pdf`;$.save(B)}function W(x){return x?{canino:"Canino",felino:"Felino",equino:"Equino",otro:"Otro",macho:"Macho",hembra:"Hembra",pequenio:"Pequeo",mediano:"Mediano",grande:"Grande",en_calle:"En calle",en_refugio:"En refugio",en_adopcion:"En adopcin",adoptado:"Adoptado",en_tratamiento:"En tratamiento",fallecido:"Fallecido",excelente:"Excelente",bueno:"Bueno",estable:"Estable",grave:"Grave",critico:"Crtico"}[x]||x:"No especificado"}function H(x){if(!x&&x!==0)return"No especificada";if(x<12)return`${x} ${x===1?"mes":"meses"}`;const $=Math.floor(x/12),Z=x%12;return Z===0?`${$} ${$===1?"ao":"aos"}`:`${$} ${$===1?"ao":"aos"} y ${Z} ${Z===1?"mes":"meses"}`}function F(x){if(!x)return"No especificada";try{return new Date(x).toLocaleDateString("es-CO",{day:"2-digit",month:"long",year:"numeric"})}catch{return x}}async function R(){var $,Z;if(!(n.value||!N())){console.log("Valor de sterilizacion antes de enviar:",m.sterilizacion,typeof m.sterilizacion),n.value=!0;try{i.value=null,s.value="",r.value="";const b=[m.description,m.notes].filter(Boolean).join(`

`),S={nombre:m.name||null,especie:m.species||null,raza:m.breed||null,sexo:m.sex||null,edad_aproximada:k(m.estimatedAge),color:m.color||null,tamanio:m.size||null,estado:m.status||null,estado_salud:m.condition||null,fecha_rescate:m.entry_date||null,ubicacion_rescate:T()||null,observaciones:b||null,esterilizacion:m.sterilizacion===1||m.sterilizacion==="1"||m.sterilizacion===!0},Q=Array.isArray(m.photos)&&m.photos.length>0;let U;if(Q){const xe=new FormData;Object.entries(S).forEach(([Le,X])=>{X==null||X===""||typeof X=="number"&&!Number.isFinite(X)||(typeof X=="boolean"?xe.append(Le,X?"1":"0"):xe.append(Le,String(X)))});const ke=(($=m.photos[0])==null?void 0:$.file)??m.photos[0];ke&&xe.append("foto_principal",ke),m.photos.slice(1).forEach(Le=>{const X=(Le==null?void 0:Le.file)??Le;X&&xe.append("galeria_fotos[]",X)}),U=await Xe.post("/animals",xe)}else U=await Xe.post("/animals",S);const le=((Z=U==null?void 0:U.data)==null?void 0:Z.data)??(U==null?void 0:U.data);console.log("Animal registrado",le),I(le)}catch(b){console.error(b)}finally{n.value=!1}}}function z(){Object.keys(m).forEach(x=>{Array.isArray(m[x])?m[x]=[]:m[x]=""}),m.coordinates=null,A()}return yn(()=>{}),(x,$)=>(D(),M("section",_k,[$[27]||($[27]=o("div",{class:"form-header"},[o("h2",{class:"h2-tipografia-govco"},"Registro de animal"),o("p",{class:"text2-tipografia-govco"},"Complete los campos obligatorios (*)")],-1)),o("form",{ref_key:"formEl",ref:t,onSubmit:Tt(R,["prevent"]),novalidate:""},[o("div",bk,[$[16]||($[16]=o("h3",{class:"h5-tipografia-govco section-title"},"Identificacin y caractersticas bsicas",-1)),o("div",yk,[Ke(Hn,{id:"name",modelValue:m.name,"onUpdate:modelValue":$[0]||($[0]=Z=>m.name=Z),label:"Nombre",type:"text",placeholder:"Nombre del animal"},null,8,["modelValue"]),Ke(pn,{id:"species-dropdown",modelValue:m.species,"onUpdate:modelValue":$[1]||($[1]=Z=>m.species=Z),label:"Especie",options:l,placeholder:"Seleccione una especie",required:!0,error:!!y.species,"alert-text":y.species},null,8,["modelValue","error","alert-text"]),Ke(Hn,{id:"breed",modelValue:m.breed,"onUpdate:modelValue":$[2]||($[2]=Z=>m.breed=Z),label:"Raza",type:"text",placeholder:"Criollo, Mestizo",required:!0,error:!!y.breed,"alert-text":y.breed},null,8,["modelValue","error","alert-text"]),Ke(Hn,{id:"color",modelValue:m.color,"onUpdate:modelValue":$[3]||($[3]=Z=>m.color=Z),label:"Color",type:"text",placeholder:"Caf, Blanco",required:!0,error:!!y.color,"alert-text":y.color},null,8,["modelValue","error","alert-text"]),Ke(pn,{id:"sex-dropdown",modelValue:m.sex,"onUpdate:modelValue":$[4]||($[4]=Z=>m.sex=Z),label:"Sexo",options:c,placeholder:"Seleccione el sexo",required:!0,error:!!y.sex,"alert-text":y.sex},null,8,["modelValue","error","alert-text"]),Ke(pn,{id:"size-dropdown",modelValue:m.size,"onUpdate:modelValue":$[5]||($[5]=Z=>m.size=Z),label:"Tamao",options:d,placeholder:"Seleccione un tamao",required:!0,error:!!y.size,"alert-text":y.size},null,8,["modelValue","error","alert-text"]),Ke(pn,{id:"sterilizacion-dropdown",modelValue:m.sterilizacion,"onUpdate:modelValue":$[6]||($[6]=Z=>m.sterilizacion=Z),label:"Esterilizacin",options:v,placeholder:"Seleccione una opcin",required:!0,error:!!y.sterilizacion,"alert-text":y.sterilizacion},null,8,["modelValue","error","alert-text"]),Ke(Hn,{id:"age",modelValue:m.estimatedAge,"onUpdate:modelValue":$[7]||($[7]=Z=>m.estimatedAge=Z),label:"Edad estimada",type:"text",placeholder:"2 aos, 6 meses","help-text":"Aos o meses aproximados",required:!0,error:!!y.estimatedAge,"alert-text":y.estimatedAge},null,8,["modelValue","error","alert-text"])])]),o("div",wk,[$[18]||($[18]=o("h3",{class:"h5-tipografia-govco section-title"},"Informacin de rescate",-1)),o("div",xk,[Ke(pn,{id:"status-dropdown",modelValue:m.status,"onUpdate:modelValue":$[8]||($[8]=Z=>m.status=Z),label:"Estado",options:p,placeholder:"Seleccione un estado",required:!0,error:!!y.status,"alert-text":y.status},null,8,["modelValue","error","alert-text"]),Ke(pn,{id:"condition-dropdown",modelValue:m.condition,"onUpdate:modelValue":$[9]||($[9]=Z=>m.condition=Z),label:"Condicin",options:f,placeholder:"Seleccione una condicin",required:!0,error:!!y.condition,"alert-text":y.condition},null,8,["modelValue","error","alert-text"]),Ke(ks,{id:"entry_date","input-id":"entry_date_input",modelValue:m.entry_date,"onUpdate:modelValue":$[10]||($[10]=Z=>m.entry_date=Z),label:"Fecha de ingreso",placeholder:"Seleccione una fecha",required:!0,error:!!y.entry_date,"alert-text":y.entry_date},null,8,["modelValue","error","alert-text"]),Ke(pn,{id:"origin-dropdown",modelValue:m.origin,"onUpdate:modelValue":$[11]||($[11]=Z=>m.origin=Z),label:"Procedencia",options:w,placeholder:"Seleccione una procedencia",required:!0,error:!!y.origin,"alert-text":y.origin},null,8,["modelValue","error","alert-text"]),o("div",Ak,[$[17]||($[17]=o("label",{class:"label-desplegable-govco"},[je(" Ubicacin de rescate (GPS)"),o("span",{"aria-required":"true"},"*")],-1)),o("div",Sk,[Ke(L0,{modelValue:m.coordinates,"onUpdate:modelValue":$[12]||($[12]=Z=>m.coordinates=Z),"initial-center":{lat:3.4516,lng:-76.5319},zoom:15},null,8,["modelValue"]),o("p",kk,[m.coordinates?(D(),M("span",Ck,"  Lat: "+P(m.coordinates.lat.toFixed(6))+", Lng: "+P(m.coordinates.lng.toFixed(6)),1)):(D(),M("span",Ek,'  Haga clic en el mapa o presione "Usar mi ubicacin actual" '))])]),y.coordinates?(D(),M("span",Lk,P(y.coordinates),1)):_e("",!0)])])]),o("div",Nk,[$[19]||($[19]=o("h3",{class:"h5-tipografia-govco section-title"},"Observaciones",-1)),o("div",Pk,[Ke(Hn,{id:"description",modelValue:m.description,"onUpdate:modelValue":$[13]||($[13]=Z=>m.description=Z),label:"Descripcin",type:"text",placeholder:"Descripcin general del animal",required:!1,error:!!y.description,"alert-text":y.description},null,8,["modelValue","error","alert-text"]),Ke(Hn,{id:"notes",modelValue:m.notes,"onUpdate:modelValue":$[14]||($[14]=Z=>m.notes=Z),label:"Notas adicionales",type:"text",placeholder:"Notas clnicas o contexto relevante",required:!1,error:!!y.notes,"alert-text":y.notes},null,8,["modelValue","error","alert-text"])])]),o("div",$k,[$[20]||($[20]=o("h3",{class:"h5-tipografia-govco section-title"},"Documentacin fotogrfica",-1)),o("div",Tk,[o("div",Ik,[Ke(tf,{modelValue:m.photos,"onUpdate:modelValue":$[15]||($[15]=Z=>m.photos=Z),accept:"image/jpeg,image/jpg,image/png","max-files":10,"max-size-m-b":10,label:"Fotografas del animal","help-text":"Opcional. JPG/PNG. Peso mximo: 10 MB por archivo",required:!1,multiple:!0},null,8,["modelValue"]),y.photos?(D(),M("span",Dk,P(y.photos),1)):_e("",!0)])])]),o("div",Rk,[Ke(xs,{type:"button",variant:"secondary",label:"Limpiar formulario",disabled:n.value,onClick:z},null,8,["disabled"]),Ke(xs,{type:"submit",variant:"primary",label:n.value?"Registrando...":"Registrar animal",loading:n.value,disabled:n.value},null,8,["label","loading","disabled"])])],544),i.value?(D(),M("div",Ok,[$[26]||($[26]=o("h3",{class:"h5-tipografia-govco section-title"},"Registro completado",-1)),o("div",Mk,[o("div",Fk,[o("p",null,[$[21]||($[21]=o("strong",null,"Cdigo:",-1)),je(" "+P(i.value.codigo_unico||i.value.id),1)]),o("p",null,[$[22]||($[22]=o("strong",null,"Nombre:",-1)),je(" "+P(i.value.nombre||"Sin nombre"),1)]),o("p",null,[$[23]||($[23]=o("strong",null,"Especie:",-1)),je(" "+P(i.value.especie),1)]),o("div",Bk,[Ke(xs,{type:"button",variant:"secondary",label:"Descargar ficha PDF",onClick:K})])]),o("div",jk,[$[24]||($[24]=o("p",{class:"qr-title"},[o("strong",null,"QR para acceder/descargar detalles")],-1)),r.value?(D(),M("img",{key:0,src:r.value,alt:"QR del animal"},null,8,zk)):_e("",!0),$[25]||($[25]=o("p",{class:"qr-help"},"Escanalo para abrir los detalles del animal.",-1))])])])):_e("",!0)]))}},Vk=It(Uk,[["__scopeId","data-v-ac8ae04a"]]),qk={class:"card-image"},Hk=["src","alt"],Gk={class:"card-content"},Wk={class:"h6-tipografia-govco"},Zk={class:"card-details"},Kk={key:0,class:"neutered-badge"},Jk={__name:"AnimalCard",props:{animal:Object},emits:["click"],setup(e){const t=e;function n(y){if(!y)return"/placeholder-animal.jpg";const A=String(y);if(/^(https?:)?\/\//i.test(A)||A.startsWith("data:")||A.startsWith("blob:"))return A;if(A.includes("/storage/"))return A.startsWith("http")?A:`${window.location.origin}${A.startsWith("/")?"":"/"}${A}`;const N=A.replace(/^\/+/,"");return`${window.location.origin}/storage/${N}`}const i=We(()=>{var A,N,k,T;const y=((A=t.animal)==null?void 0:A.foto_url)||((N=t.animal)==null?void 0:N.url_foto_principal)||((k=t.animal)==null?void 0:k.foto_principal)||((T=t.animal)==null?void 0:T.photoUrl);return n(y)}),s=We(()=>{var y,A,N;return((y=t.animal)==null?void 0:y.codigo_unico)||((A=t.animal)==null?void 0:A.numero_chip)||((N=t.animal)==null?void 0:N.microchip)||"Sin ID"}),r=We(()=>{var y,A;return((y=t.animal)==null?void 0:y.estado)||((A=t.animal)==null?void 0:A.status)||""}),l=We(()=>{var N,k,T,I;const y=(((N=t.animal)==null?void 0:N.especie)||((k=t.animal)==null?void 0:k.species)||"").toString().toLowerCase();return{perro:"Perro",canino:"Perro",gato:"Gato",felino:"Gato",equino:"Equino",otro:"Otro"}[y]||((T=t.animal)==null?void 0:T.especie)||((I=t.animal)==null?void 0:I.species)||"No especificada"}),c=We(()=>{var y,A;return((y=t.animal)==null?void 0:y.raza)||((A=t.animal)==null?void 0:A.breed)||"No especificada"}),d=We(()=>{var y;return((y=t.animal)==null?void 0:y.color)||"No especificado"}),p=We(()=>{var N,k;const y=((N=t.animal)==null?void 0:N.sexo)||((k=t.animal)==null?void 0:k.sex)||"";return{macho:"Macho",hembra:"Hembra",desconocido:"Desconocido"}[y==null?void 0:y.toLowerCase()]||y||"No especificado"}),f=We(()=>{var T,I,j;if((T=t.animal)!=null&&T.edad_formato)return t.animal.edad_formato;const y=((I=t.animal)==null?void 0:I.edad_aproximada)||((j=t.animal)==null?void 0:j.estimatedAge);if(!y)return"Desconocida";const A=Math.floor(y/12),N=y%12,k=[];return A>0&&k.push(`${A} ao${A>1?"s":""}`),N>0&&k.push(`${N} mes${N>1?"es":""}`),k.join(" y ")||"Desconocida"}),v=We(()=>{var A,N;const y=((A=t.animal)==null?void 0:A.fecha_rescate)||((N=t.animal)==null?void 0:N.rescueDate);if(!y)return"No registrada";try{const k=new Date(y);return isNaN(k.getTime())?y:k.toLocaleDateString("es-CO",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return y}}),w=We(()=>{var y,A,N;return((y=t.animal)==null?void 0:y.esterilizacion)??((A=t.animal)==null?void 0:A.esterilizado)??((N=t.animal)==null?void 0:N.neutered)??!1});function m(y){return{en_calle:"En calle",en_refugio:"En refugio",refugio:"En refugio",en_adopcion:"En adopcin",adoptado:"Adoptado",fallecido:"Fallecido",en_tratamiento:"En tratamiento"}[y]||y||"Sin estado"}return(y,A)=>(D(),M("div",{class:"animal-card",onClick:A[0]||(A[0]=N=>y.$emit("click"))},[o("div",qk,[o("img",{src:i.value,alt:`Foto de ${s.value}`},null,8,Hk),o("span",{class:ot(["status-badge",`status-${r.value}`])},P(m(r.value)),3)]),o("div",Gk,[o("h4",Wk,P(s.value),1),o("div",Zk,[o("p",null,[A[1]||(A[1]=o("strong",null,"Especie:",-1)),je(" "+P(l.value),1)]),o("p",null,[A[2]||(A[2]=o("strong",null,"Raza:",-1)),je(" "+P(c.value),1)]),o("p",null,[A[3]||(A[3]=o("strong",null,"Color:",-1)),je(" "+P(d.value),1)]),o("p",null,[A[4]||(A[4]=o("strong",null,"Sexo:",-1)),je(" "+P(p.value),1)]),o("p",null,[A[5]||(A[5]=o("strong",null,"Edad:",-1)),je(" "+P(f.value),1)]),o("p",null,[A[6]||(A[6]=o("strong",null,"Rescate:",-1)),je(" "+P(v.value),1)]),w.value?(D(),M("p",Kk,[...A[7]||(A[7]=[o("strong",null," Esterilizado",-1)])])):_e("",!0)]),A[8]||(A[8]=o("button",{class:"view-details-btn govco-bg-blue-light"},"Ver detalles completos",-1))])]))}},Yk=It(Jk,[["__scopeId","data-v-01ccb304"]]),Xk={class:"modal-header govco-bg-blue-light"},Qk={class:"h4-tipografia-govco govcolor-blue-dark"},eC={key:0,class:"modal-body"},tC={class:"animal-details-grid"},nC={class:"detail-image"},oC=["src","alt"],iC={class:"detail-section govco-bg-hawkes-blue"},aC={class:"detail-list"},sC={class:"detail-section govco-bg-hawkes-blue"},rC={class:"detail-list"},lC={key:0,class:"detail-section govco-bg-hawkes-blue full-width"},cC={class:"detail-list"},uC={key:1,class:"detail-section govco-bg-hawkes-blue full-width"},dC={class:"h6-tipografia-govco section-subtitle govcolor-marine"},fC={class:"gallery-grid"},pC=["onClick"],hC=["src","alt"],mC={key:1,class:"modal-body"},vC={class:"form-grid"},gC={class:"form-group"},_C={class:"form-group"},bC={class:"form-group"},yC={class:"form-group"},wC={class:"form-group"},xC={class:"form-group"},AC={class:"form-group"},SC={class:"form-group"},kC={class:"form-group"},CC={class:"form-group"},EC={class:"form-group full-width"},LC={key:0,class:"error-message"},NC={class:"modal-footer"},PC=["disabled"],$C=["disabled"],TC={__name:"AnimalDetail",props:{animal:Object},emits:["close","updated"],setup(e,{emit:t}){const n=e,i=t,s=jr(),r=ve(!1),l=ve(!1),c=ve(""),d=ve({});function p(F){if(!F)return"/placeholder-animal.jpg";const R=String(F);if(/^(https?:)?\/\//i.test(R)||R.startsWith("data:")||R.startsWith("blob:"))return R;if(R.includes("/storage/"))return R.startsWith("http")?R:`${window.location.origin}${R.startsWith("/")?"":"/"}${R}`;const z=R.replace(/^\/+/,"");return`${window.location.origin}/storage/${z}`}const f=We(()=>{var R,z,x,$;const F=((R=n.animal)==null?void 0:R.foto_url)||((z=n.animal)==null?void 0:z.url_foto_principal)||((x=n.animal)==null?void 0:x.foto_principal)||(($=n.animal)==null?void 0:$.photoUrl);return p(F)}),v=We(()=>{var F,R,z;return((F=n.animal)==null?void 0:F.codigo_unico)||((R=n.animal)==null?void 0:R.numero_chip)||((z=n.animal)==null?void 0:z.microchip)||"Sin ID"}),w=We(()=>{var x,$;const F=((x=n.animal)==null?void 0:x.especie)||(($=n.animal)==null?void 0:$.species)||"",R=F.toString().toLowerCase();return{perro:"Perro",canino:"Perro",gato:"Gato",felino:"Gato",equino:"Equino",otro:"Otro"}[R]||F||"No especificada"}),m=We(()=>{var z,x;const F=((z=n.animal)==null?void 0:z.sexo)||((x=n.animal)==null?void 0:x.sex)||"";return{macho:"Macho",hembra:"Hembra",desconocido:"Desconocido"}[F==null?void 0:F.toLowerCase()]||F||"No especificado"}),y=We(()=>{var $,Z,b;if(($=n.animal)!=null&&$.edad_formateada)return n.animal.edad_formateada;const F=((Z=n.animal)==null?void 0:Z.edad_aproximada)||((b=n.animal)==null?void 0:b.estimatedAge);if(!F)return"Desconocida";const R=Math.floor(F/12),z=F%12,x=[];return R>0&&x.push(`${R} ao${R>1?"s":""}`),z>0&&x.push(`${z} mes${z>1?"es":""}`),x.join(" y ")||"Desconocida"}),A=We(()=>{var z;const F=((z=n.animal)==null?void 0:z.tamanio)||"";return{pequenio:"Pequeo",mediano:"Mediano",grande:"Grande",muy_grande:"Muy grande"}[F]||F||"No especificado"}),N=We(()=>{var z,x;const F=((z=n.animal)==null?void 0:z.estado_salud)||((x=n.animal)==null?void 0:x.healthCondition)||"";return{critico:"Crtico",grave:"Grave",estable:"Estable",bueno:"Bueno",excelente:"Excelente"}[F==null?void 0:F.toLowerCase()]||F||"No especificado"}),k=We(()=>{var R,z;const F=((R=n.animal)==null?void 0:R.fecha_rescate)||((z=n.animal)==null?void 0:z.rescueDate);if(!F)return"No registrada";try{const x=new Date(F);return isNaN(x.getTime())?F:x.toLocaleDateString("es-CO",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return F}}),T=We(()=>{var R,z;const F=((R=n.animal)==null?void 0:R.galeria_urls)||((z=n.animal)==null?void 0:z.galeria_fotos)||[];return!Array.isArray(F)||F.length===0?[]:F.map(x=>p(x))});function I(F){window.open(F,"_blank")}function j(F){return{en_calle:"En calle",en_refugio:"En refugio",refugio:"En refugio",en_adopcion:"En adopcin",adoptado:"Adoptado",en_tratamiento:"En tratamiento",fallecido:"Fallecido"}[F]||F||"Sin estado"}function K(){var F,R,z,x,$,Z,b,S,Q,U,le,xe;d.value={nombre:((F=n.animal)==null?void 0:F.nombre)||"",especie:((R=n.animal)==null?void 0:R.especie)||"",raza:((z=n.animal)==null?void 0:z.raza)||"",sexo:((x=n.animal)==null?void 0:x.sexo)||"",color:(($=n.animal)==null?void 0:$.color)||"",tamanio:((Z=n.animal)==null?void 0:Z.tamanio)||"",edad_aproximada:((b=n.animal)==null?void 0:b.edad_aproximada)||null,peso_actual:((S=n.animal)==null?void 0:S.peso_actual)||null,estado:((Q=n.animal)==null?void 0:Q.estado)||"",estado_salud:((U=n.animal)==null?void 0:U.estado_salud)||"",observaciones:((le=n.animal)==null?void 0:le.observaciones)||((xe=n.animal)==null?void 0:xe.senias_particulares)||""},c.value="",r.value=!0}async function W(){var F,R,z,x;if(!d.value.especie||!d.value.estado){c.value="Especie y estado son campos requeridos";return}l.value=!0,c.value="";try{console.log(" Actualizando animal:",n.animal.id,d.value);const $=await s.updateAnimal(n.animal.id,d.value);console.log(" Animal actualizado:",$),window.$toast?window.$toast.success("Informacin actualizada!",`Los datos de ${d.value.nombre||"el animal"} han sido actualizados correctamente.`):alert(" Informacin actualizada exitosamente"),i("updated",$),r.value=!1}catch($){console.error(" Error al actualizar:",$);let Z="No se pudo actualizar la informacin. Intente nuevamente.";if((R=(F=$.response)==null?void 0:F.data)!=null&&R.message)Z=$.response.data.message;else if((x=(z=$.response)==null?void 0:z.data)!=null&&x.errors){const b=Object.values($.response.data.errors)[0];Z=Array.isArray(b)?b[0]:b}c.value=Z,window.$toast&&window.$toast.error("Error al actualizar",Z)}finally{l.value=!1}}function H(){r.value?(r.value=!1,c.value=""):i("close")}return(F,R)=>(D(),M("div",{class:"modal-overlay",onClick:R[12]||(R[12]=z=>F.$emit("close"))},[o("div",{class:"modal-content",onClick:R[11]||(R[11]=Tt(()=>{},["stop"]))},[o("div",Xk,[o("h3",Qk,P(r.value?"Editar animal":"Detalles del animal"),1),o("button",{onClick:H,class:"modal-close"},"")]),r.value?(D(),M("div",mC,[o("form",{onSubmit:Tt(W,["prevent"]),class:"edit-form"},[o("div",vC,[o("div",gC,[R[32]||(R[32]=o("label",{for:"edit-nombre"},"Nombre",-1)),$e(o("input",{type:"text",id:"edit-nombre","onUpdate:modelValue":R[0]||(R[0]=z=>d.value.nombre=z),placeholder:"Nombre del animal"},null,512),[[lt,d.value.nombre]])]),o("div",_C,[R[34]||(R[34]=o("label",{for:"edit-especie"},"Especie*",-1)),$e(o("select",{id:"edit-especie","onUpdate:modelValue":R[1]||(R[1]=z=>d.value.especie=z),required:""},[...R[33]||(R[33]=[Bt('<option value="" data-v-398f7a1b>Seleccione</option><option value="canino" data-v-398f7a1b>Canino</option><option value="felino" data-v-398f7a1b>Felino</option><option value="equino" data-v-398f7a1b>Equino</option><option value="otro" data-v-398f7a1b>Otro</option>',5)])],512),[[yt,d.value.especie]])]),o("div",bC,[R[35]||(R[35]=o("label",{for:"edit-raza"},"Raza",-1)),$e(o("input",{type:"text",id:"edit-raza","onUpdate:modelValue":R[2]||(R[2]=z=>d.value.raza=z),placeholder:"Raza del animal"},null,512),[[lt,d.value.raza]])]),o("div",yC,[R[37]||(R[37]=o("label",{for:"edit-sexo"},"Sexo",-1)),$e(o("select",{id:"edit-sexo","onUpdate:modelValue":R[3]||(R[3]=z=>d.value.sexo=z)},[...R[36]||(R[36]=[o("option",{value:""},"Seleccione",-1),o("option",{value:"macho"},"Macho",-1),o("option",{value:"hembra"},"Hembra",-1),o("option",{value:"desconocido"},"Desconocido",-1)])],512),[[yt,d.value.sexo]])]),o("div",wC,[R[38]||(R[38]=o("label",{for:"edit-color"},"Color",-1)),$e(o("input",{type:"text",id:"edit-color","onUpdate:modelValue":R[4]||(R[4]=z=>d.value.color=z),placeholder:"Color del pelaje"},null,512),[[lt,d.value.color]])]),o("div",xC,[R[40]||(R[40]=o("label",{for:"edit-tamanio"},"Tamao",-1)),$e(o("select",{id:"edit-tamanio","onUpdate:modelValue":R[5]||(R[5]=z=>d.value.tamanio=z)},[...R[39]||(R[39]=[Bt('<option value="" data-v-398f7a1b>Seleccione</option><option value="pequenio" data-v-398f7a1b>Pequeo</option><option value="mediano" data-v-398f7a1b>Mediano</option><option value="grande" data-v-398f7a1b>Grande</option><option value="muy_grande" data-v-398f7a1b>Muy grande</option>',5)])],512),[[yt,d.value.tamanio]])]),o("div",AC,[R[41]||(R[41]=o("label",{for:"edit-edad"},"Edad aproximada (meses)",-1)),$e(o("input",{type:"number",id:"edit-edad","onUpdate:modelValue":R[6]||(R[6]=z=>d.value.edad_aproximada=z),min:"0",placeholder:"Ej: 24"},null,512),[[lt,d.value.edad_aproximada,void 0,{number:!0}]])]),o("div",SC,[R[42]||(R[42]=o("label",{for:"edit-peso"},"Peso (kg)",-1)),$e(o("input",{type:"number",id:"edit-peso","onUpdate:modelValue":R[7]||(R[7]=z=>d.value.peso_actual=z),min:"0",step:"0.1",placeholder:"Ej: 15.5"},null,512),[[lt,d.value.peso_actual,void 0,{number:!0}]])]),o("div",kC,[R[44]||(R[44]=o("label",{for:"edit-estado"},"Estado*",-1)),$e(o("select",{id:"edit-estado","onUpdate:modelValue":R[8]||(R[8]=z=>d.value.estado=z),required:""},[...R[43]||(R[43]=[Bt('<option value="" data-v-398f7a1b>Seleccione</option><option value="en_calle" data-v-398f7a1b>En calle</option><option value="en_refugio" data-v-398f7a1b>En refugio</option><option value="en_adopcion" data-v-398f7a1b>En adopcin</option><option value="adoptado" data-v-398f7a1b>Adoptado</option><option value="en_tratamiento" data-v-398f7a1b>En tratamiento</option><option value="fallecido" data-v-398f7a1b>Fallecido</option>',7)])],512),[[yt,d.value.estado]])]),o("div",CC,[R[46]||(R[46]=o("label",{for:"edit-estado-salud"},"Estado de salud",-1)),$e(o("select",{id:"edit-estado-salud","onUpdate:modelValue":R[9]||(R[9]=z=>d.value.estado_salud=z)},[...R[45]||(R[45]=[Bt('<option value="" data-v-398f7a1b>Seleccione</option><option value="critico" data-v-398f7a1b>Crtico</option><option value="grave" data-v-398f7a1b>Grave</option><option value="estable" data-v-398f7a1b>Estable</option><option value="bueno" data-v-398f7a1b>Bueno</option><option value="excelente" data-v-398f7a1b>Excelente</option>',6)])],512),[[yt,d.value.estado_salud]])]),o("div",EC,[R[47]||(R[47]=o("label",{for:"edit-observaciones"},"Observaciones",-1)),$e(o("textarea",{id:"edit-observaciones","onUpdate:modelValue":R[10]||(R[10]=z=>d.value.observaciones=z),rows:"3",placeholder:"Seas particulares, observaciones..."},null,512),[[lt,d.value.observaciones]])])]),c.value?(D(),M("div",LC,P(c.value),1)):_e("",!0)],32)])):(D(),M("div",eC,[o("div",tC,[o("div",nC,[o("img",{src:f.value,alt:`Foto de ${v.value}`},null,8,oC)]),o("div",iC,[R[22]||(R[22]=o("h4",{class:"h6-tipografia-govco section-subtitle govcolor-marine"},"Identificacin",-1)),o("dl",aC,[R[13]||(R[13]=o("dt",null,"Cdigo/Microchip:",-1)),o("dd",null,P(v.value),1),R[14]||(R[14]=o("dt",null,"Nombre:",-1)),o("dd",null,P(e.animal.nombre||"Sin nombre"),1),R[15]||(R[15]=o("dt",null,"Especie:",-1)),o("dd",null,P(w.value),1),R[16]||(R[16]=o("dt",null,"Raza:",-1)),o("dd",null,P(e.animal.raza||e.animal.breed||"No especificada"),1),R[17]||(R[17]=o("dt",null,"Color:",-1)),o("dd",null,P(e.animal.color||"No especificado"),1),R[18]||(R[18]=o("dt",null,"Sexo:",-1)),o("dd",null,P(m.value),1),R[19]||(R[19]=o("dt",null,"Edad estimada:",-1)),o("dd",null,P(y.value),1),R[20]||(R[20]=o("dt",null,"Tamao:",-1)),o("dd",null,P(A.value),1),R[21]||(R[21]=o("dt",null,"Esterilizacin:",-1)),o("dd",null,P(e.animal.esterilizacion??e.animal.esterilizado??e.animal.neutered?"S":"No"),1)])]),o("div",sC,[R[28]||(R[28]=o("h4",{class:"h6-tipografia-govco section-subtitle govcolor-marine"},"Estado y Ubicacin",-1)),o("dl",rC,[R[23]||(R[23]=o("dt",null,"Estado actual:",-1)),o("dd",null,[o("span",{class:ot(["status-badge",`status-${e.animal.estado||e.animal.status}`])},P(j(e.animal.estado||e.animal.status)),3)]),R[24]||(R[24]=o("dt",null,"Estado de salud:",-1)),o("dd",null,P(N.value),1),R[25]||(R[25]=o("dt",null,"Fecha de rescate:",-1)),o("dd",null,P(k.value),1),R[26]||(R[26]=o("dt",null,"Ubicacin de rescate:",-1)),o("dd",null,P(e.animal.ubicacion_rescate||"No registrada"),1),R[27]||(R[27]=o("dt",null,"Observaciones:",-1)),o("dd",null,P(e.animal.observaciones||e.animal.senias_particulares||"Sin observaciones"),1)])]),e.animal.esterilizacion??e.animal.esterilizado??e.animal.neutered?(D(),M("div",lC,[R[31]||(R[31]=o("h4",{class:"h6-tipografia-govco section-subtitle govcolor-elf-green"},"Esterilizacin ",-1)),o("dl",cC,[R[29]||(R[29]=o("dt",null,"Fecha:",-1)),o("dd",null,P(e.animal.fecha_esterilizacion||e.animal.neuteringDate||"No registrada"),1),R[30]||(R[30]=o("dt",null,"Veterinario:",-1)),o("dd",null,P(e.animal.veterinario_esterilizacion||e.animal.neuteringVet||"No registrado"),1)])])):_e("",!0),T.value.length>0?(D(),M("div",uC,[o("h4",dC,"Galera de fotos ("+P(T.value.length)+")",1),o("div",fC,[(D(!0),M(rt,null,ht(T.value,(z,x)=>(D(),M("div",{key:x,class:"gallery-item",onClick:$=>I(z)},[o("img",{src:z,alt:`Foto ${x+1} de ${v.value}`},null,8,hC)],8,pC))),128))])])):_e("",!0)])])),o("div",NC,[o("button",{onClick:H,class:"govco-btn govco-bg-dim-gray",disabled:l.value},P(r.value?"Cancelar":"Cerrar"),9,PC),r.value?(D(),M("button",{key:1,onClick:W,class:"govco-btn govco-bg-elf-green",disabled:l.value},P(l.value?"Guardando...":"Guardar cambios"),9,$C)):(D(),M("button",{key:0,onClick:K,class:"govco-btn govco-bg-elf-green"}," Editar informacin "))])])]))}},IC=It(TC,[["__scopeId","data-v-398f7a1b"]]),DC={class:"animal-search"},RC={class:"search-filters"},OC={class:"filters-header"},MC={class:"filters-grid"},FC={class:"checkbox-filter"},BC={class:"filters-actions"},jC={class:"results"},zC={class:"results-header"},UC={class:"results-header-actions"},VC={key:0,class:"results-meta"},qC={key:0,class:"results-state"},HC={key:1,class:"results-state error"},GC={key:2,class:"results-state"},WC={key:3,class:"cards-grid"},ZC={key:4,class:"pagination"},KC={class:"pagination-info"},JC={__name:"AnimalSearch",props:{modelValue:{type:Object,default:()=>({microchip:"",species:"",breed:"",color:"",sex:"",status:"",dateFrom:"",dateTo:"",onlyNeutered:!1})}},emits:["update:modelValue","search","clear"],setup(e,{emit:t}){const n=e,i=t,s=jr(),r=ve(null),l=ve(!0),c=ve(!1),d=un({...n.modelValue}),p=[{value:"",text:"Todas"},{value:"canino",text:"Canino"},{value:"felino",text:"Felino"},{value:"equino",text:"Equino"},{value:"otro",text:"Otro"}],f=[{value:"",text:"Todos"},{value:"macho",text:"Macho"},{value:"hembra",text:"Hembra"},{value:"desconocido",text:"Desconocido"}],v=[{value:"",text:"Todos"},{value:"en_calle",text:"En calle"},{value:"en_refugio",text:"En refugio"},{value:"en_adopcion",text:"En adopcin"},{value:"adoptado",text:"Adoptado"},{value:"en_tratamiento",text:"En tratamiento"},{value:"fallecido",text:"Fallecido"}],w=We(()=>s.animales),m=We(()=>s.loading),y=We(()=>s.error),A=We(()=>s.pagination.currentPage),N=We(()=>s.pagination.lastPage),k=We(()=>s.pagination.total),T=We(()=>!!(d.microchip||d.species||d.breed||d.color||d.sex||d.status||d.dateFrom||d.dateTo||d.onlyNeutered));Kn(d,x=>{i("update:modelValue",{...x})},{deep:!0}),Kn(()=>n.modelValue,x=>{Object.assign(d,x||{})},{deep:!0}),yn(async()=>{await I()});async function I(){try{s.clearFilters(),await s.fetchAnimals()}catch(x){console.error("Error al cargar datos iniciales:",x)}}function j(){var $,Z,b;const x={};return($=d.microchip)!=null&&$.trim()&&(x.search=d.microchip.trim()),d.species&&(x.especie=d.species),(Z=d.breed)!=null&&Z.trim()&&(x.search?x.search+=" "+d.breed.trim():x.search=d.breed.trim()),(b=d.color)!=null&&b.trim()&&(x.search?x.search+=" "+d.color.trim():x.search=d.color.trim()),d.sex&&(x.sexo=d.sex),d.status&&(x.estado=d.status),d.dateFrom&&(x.fecha_desde=d.dateFrom),d.dateTo&&(x.fecha_hasta=d.dateTo),d.onlyNeutered&&(x.esterilizado=1),x}async function K(){if(!c.value){c.value=!0;try{const x=j();console.log(" Aplicando filtros:",x),s.setFilters(x),s.setPage(1),await s.fetchAnimals(),i("search")}catch(x){console.error("Error al buscar:",x)}finally{c.value=!1}}}async function W(){Object.assign(d,{microchip:"",species:"",breed:"",color:"",sex:"",status:"",dateFrom:"",dateTo:"",onlyNeutered:!1}),s.clearFilters(),s.setPage(1);try{await s.fetchAnimals(),i("clear")}catch(x){console.error("Error al limpiar filtros:",x)}}async function H(){await W()}async function F(x){if(!(x<1||x>N.value))try{s.setPage(x),await s.fetchAnimals()}catch($){console.error("Error al cambiar de pgina:",$)}}function R(x){r.value=x}async function z(x){r.value=null;try{await s.fetchAnimals()}catch($){console.error("Error al refrescar:",$)}}return(x,$)=>(D(),M("section",DC,[o("div",RC,[o("div",OC,[$[13]||($[13]=o("h3",{class:"h5-tipografia-govco"},"Filtros de bsqueda",-1)),o("button",{class:"toggle-filters-btn",onClick:$[0]||($[0]=Z=>l.value=!l.value)},P(l.value?" Ocultar filtros":" Mostrar filtros"),1)]),$e(o("div",MC,[Ke(Hn,{id:"filter-microchip",modelValue:d.microchip,"onUpdate:modelValue":$[1]||($[1]=Z=>d.microchip=Z),label:"Microchip/Cdigo",type:"text",placeholder:"MC123456789"},null,8,["modelValue"]),Ke(pn,{id:"filter-species",modelValue:d.species,"onUpdate:modelValue":$[2]||($[2]=Z=>d.species=Z),label:"Especie",options:p,placeholder:"Todas",width:"100%"},null,8,["modelValue"]),Ke(Hn,{id:"filter-breed",modelValue:d.breed,"onUpdate:modelValue":$[3]||($[3]=Z=>d.breed=Z),label:"Raza",type:"text",placeholder:"Cualquier raza"},null,8,["modelValue"]),Ke(Hn,{id:"filter-color",modelValue:d.color,"onUpdate:modelValue":$[4]||($[4]=Z=>d.color=Z),label:"Color",type:"text",placeholder:"Ej: Negro"},null,8,["modelValue"]),Ke(pn,{id:"filter-sex",modelValue:d.sex,"onUpdate:modelValue":$[5]||($[5]=Z=>d.sex=Z),label:"Sexo",options:f,placeholder:"Todos",width:"100%"},null,8,["modelValue"]),Ke(pn,{id:"filter-status",modelValue:d.status,"onUpdate:modelValue":$[6]||($[6]=Z=>d.status=Z),label:"Estado",options:v,placeholder:"Todos",width:"100%"},null,8,["modelValue"]),Ke(ks,{id:"filter-date-from","input-id":"filter-date-from-input",modelValue:d.dateFrom,"onUpdate:modelValue":$[7]||($[7]=Z=>d.dateFrom=Z),label:"Fecha rescate desde",placeholder:"Seleccione una fecha",width:"100%"},null,8,["modelValue"]),Ke(ks,{id:"filter-date-to","input-id":"filter-date-to-input",modelValue:d.dateTo,"onUpdate:modelValue":$[8]||($[8]=Z=>d.dateTo=Z),label:"Fecha rescate hasta",placeholder:"Seleccione una fecha",width:"100%"},null,8,["modelValue"]),o("div",FC,[$e(o("input",{id:"filter-neutered","onUpdate:modelValue":$[9]||($[9]=Z=>d.onlyNeutered=Z),type:"checkbox"},null,512),[[Po,d.onlyNeutered]]),$[14]||($[14]=o("label",{for:"filter-neutered"},"Solo animales esterilizados",-1))])],512),[[Nr,l.value]]),$e(o("div",BC,[Ke(xs,{type:"button",variant:"outline",label:"Limpiar filtros",width:"auto",height:"44px",onClick:W}),Ke(xs,{type:"button",variant:"fill",label:"Aplicar filtros",width:"auto",height:"44px",disabled:m.value,onClick:K},null,8,["disabled"])],512),[[Nr,l.value]])]),o("div",jC,[o("div",zC,[$[15]||($[15]=o("h3",{class:"h5-tipografia-govco"},"Animales",-1)),o("div",UC,[m.value?_e("",!0):(D(),M("p",VC," Mostrando "+P(w.value.length)+" de "+P(k.value)+" resultados ",1)),T.value?(D(),nn(xs,{key:1,type:"button",variant:"outline",label:"Ver todos",width:"auto",height:"36px",onClick:H})):_e("",!0)])]),m.value?(D(),M("div",qC,[...$[16]||($[16]=[o("div",{class:"loading-spinner"},null,-1),je(" Cargando animales ",-1)])])):y.value?(D(),M("div",HC,[$[17]||($[17]=o("strong",null,"Error:",-1)),je(" "+P(y.value),1)])):w.value.length===0?(D(),M("div",GC," No hay animales para los filtros seleccionados. ")):(D(),M("div",WC,[(D(!0),M(rt,null,ht(w.value,Z=>(D(),nn(Yk,{key:Z.id||Z.uuid||Z.codigo_unico||Z.numero_chip,animal:Z,onClick:b=>R(Z)},null,8,["animal","onClick"]))),128))])),!m.value&&N.value>1?(D(),M("div",ZC,[Ke(xs,{type:"button",variant:"outline",label:"Anterior",width:"auto",height:"40px",disabled:A.value<=1,onClick:$[10]||($[10]=Z=>F(A.value-1))},null,8,["disabled"]),o("span",KC," Pgina "+P(A.value)+" de "+P(N.value),1),Ke(xs,{type:"button",variant:"outline",label:"Siguiente",width:"auto",height:"40px",disabled:A.value>=N.value,onClick:$[11]||($[11]=Z=>F(A.value+1))},null,8,["disabled"])])):_e("",!0)]),r.value?(D(),nn(IC,{key:0,animal:r.value,onClose:$[12]||($[12]=Z=>r.value=null),onUpdated:z},null,8,["animal"])):_e("",!0)]))}},YC=It(JC,[["__scopeId","data-v-76542d2c"]]),XC={class:"animals-view"},QC={class:"view-header"},e7={class:"tabs-nav"},t7=["onClick"],n7={__name:"AnimalsView",setup(e){const t=ve("register"),n=[{id:"register",label:"Registrar animal",icon:"",component:Vk},{id:"search",label:"Bsqueda avanzada",icon:"",component:YC}],i=We(()=>{var s;return(s=n.find(r=>r.id===t.value))==null?void 0:s.component});return(s,r)=>(D(),M("main",XC,[o("div",QC,[r[0]||(r[0]=o("h1",{class:"h2-tipografia-govco"},"Gestin de animales",-1)),o("div",e7,[(D(),M(rt,null,ht(n,l=>o("button",{key:l.id,onClick:c=>t.value=l.id,class:ot(["tab-btn",{active:t.value===l.id}])},[o("span",null,P(l.icon),1),je(" "+P(l.label),1)],10,t7)),64))])]),(D(),nn(mg(i.value)))]))}},o7=It(n7,[["__scopeId","data-v-17e05305"]]),i7={class:"vital-signs-grid"},a7={class:"entradas-de-texto-govco"},s7={key:0,class:"error-text"},r7={class:"entradas-de-texto-govco"},l7={key:0,class:"error-text"},c7={class:"entradas-de-texto-govco"},u7={key:0,class:"error-text"},d7={class:"entradas-de-texto-govco"},f7={key:0,class:"error-text"},p7={class:"input-like-govco"},h7={class:"entradas-de-texto-govco"},m7={__name:"VitalSignsInput",props:{modelValue:{type:Object,default:()=>({temperature:"",heartRate:"",respiratoryRate:"",weight:"",bodyCondition:"",mucosa:"",hydration:"",tllc:""})},errors:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=t,s=un({...n.modelValue}),r=[{value:"emaciado",text:"1 - Emaciado (costillas muy visibles)"},{value:"delgado",text:"2 - Delgado (se palpan costillas fcilmente)"},{value:"ideal",text:"3 - Ideal (cintura visible, costillas palpables)"},{value:"sobrepeso",text:"4 - Sobrepeso (difcil palpar costillas)"},{value:"obeso",text:"5 - Obeso (sin cintura visible)"}],l=[{value:"rosadas",text:"Rosadas (normal)"},{value:"palidas",text:"Plidas (posible anemia)"},{value:"cianoticas",text:"Cianticas (falta de oxgeno)"},{value:"ictericas",text:"Ictricas (problemas hepticos)"}],c=[{value:"normal",text:"Normal (< 2 seg)"},{value:"leve",text:"Deshidratacin leve (5%)"},{value:"moderada",text:"Deshidratacin moderada (7-8%)"},{value:"severa",text:"Deshidratacin severa (> 10%)"}];Kn(()=>n.modelValue,f=>Object.assign(s,f),{deep:!0});function d(){i("update:modelValue",{...s})}function p(){const f=w=>{if(w.target.closest(".desplegable-govco")){const y=window.scrollY||document.documentElement.scrollTop;setTimeout(()=>{window.scrollTo(0,y)},50)}},v=document.querySelector(".vital-signs-grid");v&&(v.removeEventListener("click",f),v.addEventListener("click",f))}return yn(()=>{p(),typeof window<"u"&&window.addEventListener("load",()=>{p()})}),(f,v)=>{var w,m,y,A,N,k;return D(),M("div",i7,[o("div",a7,[v[8]||(v[8]=o("label",{for:"temperature"},[je("Temperatura (C)"),o("span",{"aria-required":"true"},"*")],-1)),$e(o("input",{type:"number",id:"temperature","onUpdate:modelValue":v[0]||(v[0]=T=>s.temperature=T),step:"0.1",min:"35",max:"42",placeholder:"38.5",onInput:d},null,544),[[lt,s.temperature,void 0,{number:!0}]]),v[9]||(v[9]=o("span",{class:"info-entradas-de-texto-govco"},"Normal: 38-39C",-1)),(w=e.errors)!=null&&w.temperature?(D(),M("span",s7,P(e.errors.temperature),1)):_e("",!0)]),o("div",r7,[v[10]||(v[10]=o("label",{for:"heartRate"},[je("Frecuencia cardaca (lpm)"),o("span",{"aria-required":"true"},"*")],-1)),$e(o("input",{type:"number",id:"heartRate","onUpdate:modelValue":v[1]||(v[1]=T=>s.heartRate=T),min:"40",max:"200",placeholder:"80",onInput:d},null,544),[[lt,s.heartRate,void 0,{number:!0}]]),v[11]||(v[11]=o("span",{class:"info-entradas-de-texto-govco"},"Perro: 60-140 / Gato: 140-220",-1)),(m=e.errors)!=null&&m.heartRate?(D(),M("span",l7,P(e.errors.heartRate),1)):_e("",!0)]),o("div",c7,[v[12]||(v[12]=o("label",{for:"respiratoryRate"},[je("Frecuencia respiratoria (rpm)"),o("span",{"aria-required":"true"},"*")],-1)),$e(o("input",{type:"number",id:"respiratoryRate","onUpdate:modelValue":v[2]||(v[2]=T=>s.respiratoryRate=T),min:"10",max:"60",placeholder:"20",onInput:d},null,544),[[lt,s.respiratoryRate,void 0,{number:!0}]]),v[13]||(v[13]=o("span",{class:"info-entradas-de-texto-govco"},"Normal: 10-30 rpm",-1)),(y=e.errors)!=null&&y.respiratoryRate?(D(),M("span",u7,P(e.errors.respiratoryRate),1)):_e("",!0)]),o("div",d7,[v[14]||(v[14]=o("label",{for:"weight"},[je("Peso (kg)"),o("span",{"aria-required":"true"},"*")],-1)),$e(o("input",{type:"number",id:"weight","onUpdate:modelValue":v[3]||(v[3]=T=>s.weight=T),step:"0.1",min:"0.5",max:"100",placeholder:"15.5",onInput:d},null,544),[[lt,s.weight,void 0,{number:!0}]]),(A=e.errors)!=null&&A.weight?(D(),M("span",f7,P(e.errors.weight),1)):_e("",!0)]),Ke(pn,{id:"bodyCondition",label:"Condicin corporal",options:r,modelValue:s.bodyCondition,"onUpdate:modelValue":v[4]||(v[4]=T=>s.bodyCondition=T),placeholder:"Evaluar",required:!0,"alert-text":(N=e.errors)==null?void 0:N.bodyCondition,error:!!((k=e.errors)!=null&&k.bodyCondition),width:"100%",height:"44px",onChange:d},null,8,["modelValue","alert-text","error"]),Ke(pn,{id:"mucosa",label:"Color de mucosas",options:l,modelValue:s.mucosa,"onUpdate:modelValue":v[5]||(v[5]=T=>s.mucosa=T),placeholder:"No evaluado",width:"100%",height:"44px",onChange:d},null,8,["modelValue"]),o("div",p7,[Ke(pn,{id:"hydration",label:"Estado de hidratacin",options:c,modelValue:s.hydration,"onUpdate:modelValue":v[6]||(v[6]=T=>s.hydration=T),placeholder:"No evaluado",width:"100%",height:"44px",onChange:d},null,8,["modelValue"]),v[15]||(v[15]=o("span",{class:"info-entradas-de-texto-govco"},"Evaluar mediante pliegue cutneo",-1))]),o("div",h7,[v[16]||(v[16]=o("label",{for:"tllc"},"TLLC - Tiempo de llenado capilar (seg)",-1)),$e(o("input",{type:"number",id:"tllc","onUpdate:modelValue":v[7]||(v[7]=T=>s.tllc=T),step:"0.1",min:"0",max:"10",placeholder:"2.0",onInput:d},null,544),[[lt,s.tllc,void 0,{number:!0}]]),v[17]||(v[17]=o("span",{class:"info-entradas-de-texto-govco"},"Normal: 1-2 segundos",-1))])])}}},v7=It(m7,[["__scopeId","data-v-6334002b"]]),g7={class:"medication-prescription"},_7={key:0,class:"empty-state"},b7={key:1,class:"medications-list"},y7={class:"medication-grid"},w7={class:"input-like-govco"},x7={class:"entradas-de-texto-govco"},A7=["for"],S7=["id","onUpdate:modelValue"],k7={class:"entradas-de-texto-govco"},C7=["for"],E7=["id","onUpdate:modelValue"],L7={class:"entradas-de-texto-govco"},N7=["for"],P7=["id","onUpdate:modelValue"],$7={class:"input-like-govco"},T7={class:"entradas-de-texto-govco"},I7=["for"],D7=["id","onUpdate:modelValue"],R7={class:"info-entradas-de-texto-govco"},O7={class:"entradas-de-texto-govco full-width-grid"},M7=["for"],F7=["id","onUpdate:modelValue"],B7={class:"medication-actions"},j7=["onClick"],z7={__name:"MedicationPrescription",props:{modelValue:{type:Array,default:()=>[]},inventory:{type:Array,default:()=>[]}},emits:["update:modelValue","update:stock"],setup(e,{expose:t,emit:n}){const i=e,s=n,r=un([...i.modelValue]),l=ve([]),c=ve([]),d=We(()=>i.inventory.map(I=>({value:I.id,text:`${I.name} (Stock: ${I.stock} ${I.unit})`,disabled:I.stock<=0}))),p=[{value:"oral",text:"Oral"},{value:"subcutanea",text:"Subcutnea"},{value:"intramuscular",text:"Intramuscular"},{value:"intravenosa",text:"Intravenosa"},{value:"topica",text:"Tpica"}];Kn(()=>i.modelValue,I=>{r.splice(0,r.length,...I)},{deep:!0});function f(I,j){I&&(l.value[j]=I)}function v(I,j){I&&(c.value[j]=I)}function w(){r.push({id:Date.now(),medicationId:"",dose:"",frequency:"",duration:7,route:"",totalQuantity:1,instructions:"",error:""}),k()}function m(I){r.splice(I,1),l.value.splice(I,1),c.value.splice(I,1),k()}function y(I,j){console.log(`Medication ${I} changed to:`,j);const K=r[I];K.medicationId=j;const W=i.inventory.find(H=>H.id===j);W&&W.stock<=0?K.error="Medicamento sin stock disponible":K.error="",k()}function A(I,j){console.log(`Route ${I} changed to:`,j),r[I].route=j,k()}function N(I){const j=i.inventory.find(K=>K.id===I);return j?j.unit:""}function k(){s("update:modelValue",r.map(I=>({...I})))}function T(){console.log("=== Sincronizando valores de medicamentos ==="),r.forEach((I,j)=>{const K=l.value[j];if(K!=null&&K.getValue){const H=K.getValue();H&&(I.medicationId=H,console.log(`Medication ${j} synced:`,H))}const W=c.value[j];if(W!=null&&W.getValue){const H=W.getValue();H&&(I.route=H,console.log(`Route ${j} synced:`,H))}}),console.log("Medicamentos sincronizados:",r)}return t({syncAllMedicationValues:T}),yn(()=>{console.log("MedicationPrescription mounted")}),(I,j)=>(D(),M("div",g7,[o("div",{class:"prescription-header"},[j[0]||(j[0]=o("h4",{class:"subtitle"},"Prescripcin de medicamentos",-1)),o("button",{type:"button",class:"govco-btn-small govco-bg-elf-green",onClick:w}," + Agregar medicamento ")]),r.length===0?(D(),M("div",_7,[...j[1]||(j[1]=[o("p",null,"No hay medicamentos prescritos",-1)])])):(D(),M("div",b7,[(D(!0),M(rt,null,ht(r,(K,W)=>(D(),M("div",{key:`med-${W}-${K.id||Date.now()}`,class:"medication-item"},[o("div",y7,[o("div",w7,[Ke(pn,{ref_for:!0,ref:H=>f(H,W),id:`medication-${W}`,label:"Medicamento",options:d.value,modelValue:K.medicationId,"onUpdate:modelValue":H=>K.medicationId=H,placeholder:"Seleccionar",required:!0,"alert-text":K.error,error:!!K.error,width:"100%",height:"44px",onChange:H=>y(W,H)},null,8,["id","options","modelValue","onUpdate:modelValue","alert-text","error","onChange"])]),o("div",x7,[o("label",{for:`dose-${W}`},[...j[2]||(j[2]=[je(" Dosis",-1),o("span",{"aria-required":"true"},"*",-1)])],8,A7),$e(o("input",{type:"text",id:`dose-${W}`,"onUpdate:modelValue":H=>K.dose=H,placeholder:"1 tableta / 0.5 ml",onInput:k},null,40,S7),[[lt,K.dose]])]),o("div",k7,[o("label",{for:`frequency-${W}`},[...j[3]||(j[3]=[je(" Frecuencia",-1),o("span",{"aria-required":"true"},"*",-1)])],8,C7),$e(o("input",{type:"text",id:`frequency-${W}`,"onUpdate:modelValue":H=>K.frequency=H,placeholder:"Cada 8 horas",onInput:k},null,40,E7),[[lt,K.frequency]])]),o("div",L7,[o("label",{for:`duration-${W}`},[...j[4]||(j[4]=[je(" Duracin (das)",-1),o("span",{"aria-required":"true"},"*",-1)])],8,N7),$e(o("input",{type:"number",id:`duration-${W}`,"onUpdate:modelValue":H=>K.duration=H,min:"1",max:"90",onInput:k},null,40,P7),[[lt,K.duration,void 0,{number:!0}]])]),o("div",$7,[Ke(pn,{ref_for:!0,ref:H=>v(H,W),id:`route-${W}`,label:"Va",options:p,modelValue:K.route,"onUpdate:modelValue":H=>K.route=H,placeholder:"Seleccionar",required:!0,width:"100%",height:"44px",onChange:H=>A(W,H)},null,8,["id","modelValue","onUpdate:modelValue","onChange"])]),o("div",T7,[o("label",{for:`total-${W}`}," Cantidad total ",8,I7),$e(o("input",{type:"number",id:`total-${W}`,"onUpdate:modelValue":H=>K.totalQuantity=H,min:"1",onInput:k},null,40,D7),[[lt,K.totalQuantity,void 0,{number:!0}]]),o("span",R7,P(N(K.medicationId)),1)]),o("div",O7,[o("label",{for:`instructions-${W}`}," Instrucciones especiales ",8,M7),$e(o("input",{type:"text",id:`instructions-${W}`,"onUpdate:modelValue":H=>K.instructions=H,placeholder:"Administrar con alimento",onInput:k},null,40,F7),[[lt,K.instructions]])]),o("div",B7,[o("button",{type:"button",class:"btn-remove",onClick:H=>m(W),title:"Eliminar medicamento"},"  Eliminar ",8,j7)])])]))),128))]))]))}},U7=It(z7,[["__scopeId","data-v-7a5143dc"]]),V7={class:"medical-form"},q7={key:0,class:"loading-overlay"},H7={class:"form-section"},G7={class:"form-grid"},W7={class:"input-like-govco"},Z7={class:"input-like-govco calendar-wrapper"},K7={class:"input-like-govco"},J7={class:"entradas-de-texto-govco full-width"},Y7={key:0,class:"error-text"},X7={class:"form-section"},Q7={class:"form-section"},eE={class:"form-grid"},tE={class:"entradas-de-texto-govco full-width"},nE={key:0,class:"error-text"},oE={class:"entradas-de-texto-govco full-width"},iE={key:0,class:"error-text"},aE={class:"input-like-govco"},sE={class:"form-section"},rE={class:"form-grid"},lE={class:"full-width"},cE={key:0,class:"error-text"},uE={class:"entradas-de-texto-govco full-width"},dE={key:0,class:"error-text"},fE={class:"form-section"},pE={class:"form-grid"},hE={class:"full-width"},mE={class:"form-section"},vE={class:"form-grid"},gE={class:"checkbox-govco full-width"},_E={key:0,class:"input-like-govco calendar-wrapper"},bE={key:1,class:"entradas-de-texto-govco full-width"},yE={class:"form-section"},wE={class:"form-grid"},xE={class:"input-like-govco"},AE={class:"entradas-de-texto-govco full-width"},SE={__name:"MedicalRecordForm",props:{animalId:{type:String,default:null},historialClinicoId:{type:String,default:null}},emits:["consulta-saved","cancel"],setup(e,{emit:t}){const n=t,i=e,s=zr(),r=jr(),l=ve(null),c=ve(!1),d=ve([]),p=ve([]),f=ve([]),v=ve(!0);function w(){console.log(" MedicalRecordForm: Inicializando componentes GOV.CO..."),_i(()=>{var J;if((J=window.GOVCo)!=null&&J.init){const B=document.querySelectorAll(".medical-form .desplegable-govco");console.log(` Encontrados ${B.length} dropdowns`),B.forEach((V,Y)=>{try{window.GOVCo.init(V.parentElement||V),console.log(` Dropdown ${Y+1} inicializado`)}catch(ee){console.warn(` Error en dropdown ${Y+1}:`,ee)}})}window.reinitGovCo&&setTimeout(()=>{window.reinitGovCo(),console.log(" reinitGovCo ejecutado")},100)})}async function m(){var J;v.value=!0,console.log(" MedicalRecordForm: Cargando datos iniciales...");try{console.log(" Cargando animales...");let B=[];try{await r.fetchAnimals({per_page:100}),B=r.animals||[],console.log(" Animales desde store:",B.length)}catch(V){console.warn(" Error con store, intentando servicio directo:",V);const Y=await Ga.getAll();B=((J=Y==null?void 0:Y.data)==null?void 0:J.data)||(Y==null?void 0:Y.data)||[],console.log(" Animales desde servicio:",B.length)}d.value=B,console.log(" Animales procesados:",d.value.length),console.log(" Cargando veterinarios...");try{const V=await s.fetchVeterinarios();p.value=Array.isArray(V)?V:[],p.value.length===0&&(console.warn("No hay veterinarios registrados en BD"),alert("No hay veterinarios registrados. Debes crear al menos uno para registrar consultas."))}catch(V){console.warn(" Error cargando veterinarios",V)}console.log(" Cargando medicamentos...");try{await s.fetchMedicamentos(),f.value=(s.medicamentos||[]).map(V=>({id:V.id,name:V.nombre||V.name,stock:V.stock_actual||V.stock||0,unit:V.unidad_medida||"unidades"})),console.log(" Medicamentos cargados:",f.value.length)}catch(V){console.warn(" Error cargando medicamentos:",V)}i.animalId&&(T.animalId=i.animalId,console.log(" Animal pre-seleccionado:",i.animalId)),i.historialClinicoId&&(T.historialClinicoId=i.historialClinicoId),await _i(),setTimeout(()=>{w()},200)}catch(B){console.error(" Error cargando datos iniciales:",B),alert("Error al cargar datos. Por favor recargue la pgina.")}finally{v.value=!1,console.log(" MedicalRecordForm: Carga de datos completada")}}Kn(()=>d.value.length,async J=>{J>0&&(console.log(" Animales actualizados, reinicializando GOV.CO..."),await _i(),setTimeout(()=>{w()},100))});const y=We(()=>d.value.map(J=>({value:J.id,text:`${J.nombre||J.name} - ${J.codigo_unico||J.microchip||"Sin chip"}`}))),A=[{value:"general",text:"Consulta general"},{value:"emergencia",text:"Emergencia"},{value:"seguimiento",text:"Seguimiento / Control"},{value:"especializada",text:"Especializada"}],N=[{value:"",text:"No especificado"},{value:"excelente",text:"Excelente"},{value:"bueno",text:"Bueno"},{value:"reservado",text:"Reservado"},{value:"grave",text:"Grave"}],k=We(()=>p.value.map(J=>({value:J.id,text:`${J.nombre_completo??`${J.nombres} ${J.apellidos}`} - Tarjeta Prof. ${J.numero_tarjeta_profesional??"N/A"}`}))),T=un({animalId:"",historialClinicoId:"",consultDate:"",consultType:"",reason:"",vitalSigns:{temperature:"",heartRate:"",respiratoryRate:"",weight:"",bodyCondition:"",mucosa:"",hydration:"",tllc:""},physicalExam:"",diagnosis:"",prognosis:"",medications:[],treatment:"",labResults:[],requiresFollowup:!1,followupDate:"",followupNotes:"",veterinarianId:"",veterinarianNotes:""}),I=un({animalId:"",consultDate:"",consultType:"",reason:"",vitalSigns:{},physicalExam:"",diagnosis:"",treatment:"",medications:"",followupDate:"",veterinarianId:""});async function j(J){var B;if(console.log(" Animal seleccionado:",J),T.animalId=J,J){const V=d.value.find(Y=>Y.id===J);if(console.log(" Datos del animal:",V),V)if(V.historial_clinico_id)T.historialClinicoId=V.historial_clinico_id,console.log(" historial_clinico_id encontrado en animal:",T.historialClinicoId);else if((B=V.historial_clinico)!=null&&B.id)T.historialClinicoId=V.historial_clinico.id,console.log(" historial_clinico_id encontrado en relacin:",T.historialClinicoId);else try{console.log(" Obteniendo historial clnico del backend...");const Y=await s.fetchHistorialClinico(J);Y&&Y.id?(T.historialClinicoId=Y.id,console.log(" historial_clinico_id obtenido del backend:",Y.id)):(console.warn(" Animal no tiene historial clnico"),T.historialClinicoId="",alert("Este animal no tiene historial clnico. Por favor, cree uno primero."))}catch(Y){console.error(" Error al obtener historial:",Y),T.historialClinicoId="",alert("Error al obtener el historial clnico del animal.")}}else T.historialClinicoId=""}function K(J){console.log("Fecha de consulta:",J),T.consultDate=J}function W(J){console.log("Tipo de consulta:",J),T.consultType=J}function H(J){console.log("Pronstico:",J),T.prognosis=J}function F(J){console.log("Fecha de seguimiento:",J),T.followupDate=J}function R(J){console.log("Veterinario:",J),T.veterinarianId=J}const z=ve(null),x=ve(null),$=ve(null),Z=ve(null),b=ve(null),S=ve(null);function Q(){var ae,te,se,de,Ae,ne;if(console.log("=== INICIANDO SINCRONIZACIN ==="),(ae=z.value)!=null&&ae.getValue){const ge=z.value.getValue();ge&&(T.animalId=ge,console.log("Animal desde ref:",ge))}if((te=x.value)!=null&&te.getValue){const ge=x.value.getValue();ge&&(T.consultType=ge,console.log("ConsultType desde ref:",ge))}if((se=$.value)!=null&&se.getValue){const ge=$.value.getValue();ge&&(T.prognosis=ge,console.log("Prognosis desde ref:",ge))}if((de=Z.value)!=null&&de.getValue){const ge=Z.value.getValue();ge&&(T.veterinarianId=ge,console.log("Veterinarian desde ref:",ge))}if((Ae=b.value)!=null&&Ae.getValue){const ge=b.value.getValue();ge&&(T.consultDate=ge,console.log("ConsultDate desde ref:",ge))}if((ne=S.value)!=null&&ne.getValue){const ge=S.value.getValue();ge&&(T.followupDate=ge,console.log("FollowupDate desde ref:",ge))}const J=document.querySelector("#animal-select"),B=document.querySelector("#consultType-select"),V=document.querySelector("#prognosis-select"),Y=document.querySelector("#veterinarian-select"),ee=document.getElementById("consultDate"),fe=document.getElementById("followupDate");J!=null&&J.value&&!T.animalId&&(T.animalId=parseInt(J.value)||J.value,console.log("Animal desde DOM:",J.value)),B!=null&&B.value&&!T.consultType&&(T.consultType=B.value,console.log("ConsultType desde DOM:",B.value)),V!=null&&V.value&&!T.prognosis&&(T.prognosis=V.value,console.log("Prognosis desde DOM:",V.value)),Y!=null&&Y.value&&!T.veterinarianId&&(T.veterinarianId=parseInt(Y.value)||Y.value,console.log("Veterinarian desde DOM:",Y.value)),ee!=null&&ee.value&&!T.consultDate&&(T.consultDate=ee.value,console.log("ConsultDate desde DOM:",ee.value)),fe!=null&&fe.value&&!T.followupDate&&(T.followupDate=fe.value,console.log("FollowupDate desde DOM:",fe.value)),console.log("Valores finales sincronizados:",{animalId:T.animalId,consultDate:T.consultDate,consultType:T.consultType,prognosis:T.prognosis,veterinarianId:T.veterinarianId,followupDate:T.followupDate}),console.log("=== FIN SINCRONIZACIN ===")}function U(){if(!l.value)return;l.value.querySelectorAll("button").forEach(B=>{var Y;((Y=B.textContent)==null?void 0:Y.includes("Guardar consulta"))?B.setAttribute("type","submit"):B.setAttribute("type","button")}),l.value&&!l.value.dataset.listenerAdded&&(l.value.addEventListener("submit",B=>{var Y;const V=B.submitter;if(!V||!((Y=V.textContent)!=null&&Y.includes("Guardar consulta")))return B.preventDefault(),B.stopPropagation(),!1},!0),l.value.dataset.listenerAdded="true")}function le(){const J=V=>{if(V.target.closest('.desplegable-govco, [data-type="calendar"]')){const ee=window.scrollY||document.documentElement.scrollTop;setTimeout(()=>{window.scrollTo(0,ee)},50)}},B=V=>{if(V.target.closest('[data-type="calendar"] input')){const Y=window.scrollY||document.documentElement.scrollTop;V.preventDefault(),setTimeout(()=>{window.scrollTo(0,Y)},10)}};l.value&&(l.value.removeEventListener("click",J),l.value.addEventListener("click",J),l.value.removeEventListener("focus",B,!0),l.value.addEventListener("focus",B,!0))}function xe(){var B,V,Y,ee;Q(),Object.keys(I).forEach(fe=>{typeof I[fe]=="object"?Object.keys(I[fe]).forEach(ae=>I[fe][ae]=""):I[fe]=""});let J=!0;return T.animalId||(I.animalId="Debe seleccionar un animal",J=!1),T.historialClinicoId||(I.animalId="El animal seleccionado no tiene historial clnico",J=!1),T.consultDate||(I.consultDate="Campo requerido",J=!1),T.consultType||(I.consultType="Campo requerido",J=!1),(B=T.reason)!=null&&B.trim()||(I.reason="Campo requerido",J=!1),(V=T.physicalExam)!=null&&V.trim()||(I.physicalExam="Campo requerido",J=!1),(Y=T.diagnosis)!=null&&Y.trim()||(I.diagnosis="Campo requerido",J=!1),(ee=T.treatment)!=null&&ee.trim()||(I.treatment="Campo requerido",J=!1),T.requiresFollowup&&!T.followupDate&&(I.followupDate="Debe especificar fecha de control",J=!1),T.veterinarianId||(I.veterinarianId="Debe seleccionar un veterinario",J=!1),console.log("Validacin completada:",{isValid:J,form:T,errors:I}),J}function ke(J,B){const V=f.value.find(Y=>Y.id===J);V&&(V.stock-=B,console.log(`Stock actualizado: ${V.name} - Quedan ${V.stock}`))}function Le(){Object.keys(T).forEach(J=>{Array.isArray(T[J])?T[J]=[]:typeof T[J]=="object"&&T[J]!==null?Object.keys(T[J]).forEach(B=>T[J][B]=""):typeof T[J]=="boolean"?T[J]=!1:T[J]=""}),Object.keys(I).forEach(J=>{typeof I[J]=="object"?Object.keys(I[J]).forEach(B=>I[J][B]=""):I[J]=""})}function X(J){if(!J)return new Date().toISOString().split("T")[0];if(J.includes("/")){const[B,V,Y]=J.split("/");return`${Y}-${V.padStart(2,"0")}-${B.padStart(2,"0")}`}return J}async function he(){var J,B,V,Y;if(!xe()){window.scrollTo({top:0,behavior:"smooth"});return}if(!T.historialClinicoId){console.error(" historial_clinico_id est vaco"),alert("Error: No se ha seleccionado un animal con historial clnico vlido.");return}c.value=!0;try{const ee={historial_clinico_id:T.historialClinicoId,veterinario_id:String(T.veterinarianId),fecha_consulta:X(T.consultDate),tipo_consulta:T.consultType,motivo_consulta:T.reason,sintomas:T.physicalExam||null,diagnostico:T.diagnosis||null,observaciones:T.veterinarianNotes||null,peso:T.vitalSigns.weight?parseFloat(T.vitalSigns.weight):null,temperatura:T.vitalSigns.temperature?parseFloat(T.vitalSigns.temperature):null,frecuencia_cardiaca:T.vitalSigns.heartRate?parseInt(T.vitalSigns.heartRate):null,frecuencia_respiratoria:T.vitalSigns.respiratoryRate?parseInt(T.vitalSigns.respiratoryRate):null,estado_salud:T.prognosis||null,tratamientos:T.medications.length>0?T.medications.map(ae=>({medicamento_id:ae.medicationId,descripcion:ae.instructions||T.treatment,dosis:ae.dose,frecuencia:ae.frequency,duracion_dias:ae.duration?parseInt(ae.duration):null})):[]};if(T.requiresFollowup&&T.followupDate&&(ee.proxima_cita=X(T.followupDate),ee.notas_seguimiento=T.followupNotes),console.log(" Enviando consulta:",ee),!ee.historial_clinico_id)throw new Error("historial_clinico_id es requerido");if(!ee.veterinario_id)throw new Error("veterinario_id es requerido");const fe=await s.crearConsulta(ee);T.medications.forEach(ae=>{ke(ae.medicationId,ae.totalQuantity)}),alert("Consulta veterinaria guardada exitosamente"),n("consulta-saved",fe),Le()}catch(ee){console.error(" Error al guardar consulta:",ee);let fe="Error al guardar la consulta";if((B=(J=ee.response)==null?void 0:J.data)!=null&&B.errors){const ae=ee.response.data.errors,te=Object.values(ae)[0];fe=Array.isArray(te)?te[0]:te}else(Y=(V=ee.response)==null?void 0:V.data)!=null&&Y.message?fe=ee.response.data.message:ee.message&&(fe=ee.message);alert(fe)}finally{c.value=!1}}return yn(async()=>{await m(),U(),le(),typeof window<"u"&&window.addEventListener("load",()=>{U(),le()})}),Kn(()=>i.animalId,async J=>{if(J){T.animalId=J;try{const B=await s.fetchHistorialClinico(J);B&&B.id&&(T.historialClinicoId=B.id)}catch(B){console.error("Error al obtener historial clnico:",B)}}}),Kn(()=>T.animalId,async J=>{if(J&&!T.historialClinicoId)try{const B=await s.fetchHistorialClinico(J);B&&B.id&&(T.historialClinicoId=B.id)}catch(B){console.error("Error al obtener historial clnico:",B)}}),(J,B)=>(D(),M("section",V7,[B[32]||(B[32]=o("div",{class:"form-header"},[o("h2",{class:"h2-tipografia-govco"},"Consulta Veterinaria"),o("p",{class:"text2-tipografia-govco"},"Registro de atencin mdica")],-1)),v.value?(D(),M("div",q7,[...B[16]||(B[16]=[o("div",{class:"spinner"},null,-1),o("p",null,"Cargando datos...",-1)])])):(D(),M("form",{key:1,ref_key:"formEl",ref:l,onSubmit:Tt(he,["prevent"]),novalidate:""},[o("div",H7,[B[18]||(B[18]=o("h3",{class:"h5-tipografia-govco section-title"},"Informacin general",-1)),o("div",G7,[o("div",W7,[Ke(pn,{ref_key:"animalDropdownRef",ref:z,id:"animal",label:"Animal",options:y.value,modelValue:T.animalId,"onUpdate:modelValue":B[0]||(B[0]=V=>T.animalId=V),placeholder:"Seleccionar animal",required:!0,"alert-text":I.animalId,error:!!I.animalId,width:"100%",height:"44px",onChange:j},null,8,["options","modelValue","alert-text","error"])]),o("div",Z7,[Ke(ks,{ref_key:"consultDateCalendarRef",ref:b,id:"consultDateCalendar","input-id":"consultDate",label:"Fecha y hora",modelValue:T.consultDate,"onUpdate:modelValue":B[1]||(B[1]=V=>T.consultDate=V),"view-days":"true",required:!0,width:"100%",height:"44px","alert-text":I.consultDate,error:!!I.consultDate,onChange:K},null,8,["modelValue","alert-text","error"])]),o("div",K7,[Ke(pn,{ref_key:"consultTypeDropdownRef",ref:x,id:"consultType",label:"Tipo de consulta",options:A,modelValue:T.consultType,"onUpdate:modelValue":B[2]||(B[2]=V=>T.consultType=V),placeholder:"Escoger",required:!0,"alert-text":I.consultType,error:!!I.consultType,width:"100%",height:"44px",onChange:W},null,8,["modelValue","alert-text","error"])]),o("div",J7,[B[17]||(B[17]=o("label",{for:"reason"},[je("Motivo de consulta"),o("span",{"aria-required":"true"},"*")],-1)),$e(o("textarea",{id:"reason","onUpdate:modelValue":B[3]||(B[3]=V=>T.reason=V),rows:"3",placeholder:"Describa el motivo de la consulta..."},null,512),[[lt,T.reason]]),I.reason?(D(),M("span",Y7,P(I.reason),1)):_e("",!0)])])]),o("div",X7,[B[19]||(B[19]=o("h3",{class:"h5-tipografia-govco section-title"},"Signos vitales",-1)),Ke(v7,{modelValue:T.vitalSigns,"onUpdate:modelValue":B[4]||(B[4]=V=>T.vitalSigns=V),errors:I.vitalSigns},null,8,["modelValue","errors"])]),o("div",Q7,[B[22]||(B[22]=o("h3",{class:"h5-tipografia-govco section-title"},"Evaluacin clnica",-1)),o("div",eE,[o("div",tE,[B[20]||(B[20]=o("label",{for:"physicalExam"},[je("Examen fsico"),o("span",{"aria-required":"true"},"*")],-1)),$e(o("textarea",{id:"physicalExam","onUpdate:modelValue":B[5]||(B[5]=V=>T.physicalExam=V),rows:"4",placeholder:"Hallazgos del examen fsico general..."},null,512),[[lt,T.physicalExam]]),I.physicalExam?(D(),M("span",nE,P(I.physicalExam),1)):_e("",!0)]),o("div",oE,[B[21]||(B[21]=o("label",{for:"diagnosis"},[je("Diagnstico"),o("span",{"aria-required":"true"},"*")],-1)),$e(o("textarea",{id:"diagnosis","onUpdate:modelValue":B[6]||(B[6]=V=>T.diagnosis=V),rows:"3",placeholder:"Diagnstico clnico..."},null,512),[[lt,T.diagnosis]]),I.diagnosis?(D(),M("span",iE,P(I.diagnosis),1)):_e("",!0)]),o("div",aE,[Ke(pn,{ref_key:"prognosisDropdownRef",ref:$,id:"prognosis",label:"Pronstico",options:N,modelValue:T.prognosis,"onUpdate:modelValue":B[7]||(B[7]=V=>T.prognosis=V),placeholder:"No especificado",width:"100%",height:"44px",onChange:H},null,8,["modelValue"])])])]),o("div",sE,[B[24]||(B[24]=o("h3",{class:"h5-tipografia-govco section-title"},"Plan de tratamiento",-1)),o("div",rE,[o("div",lE,[Ke(U7,{modelValue:T.medications,"onUpdate:modelValue":B[8]||(B[8]=V=>T.medications=V),inventory:f.value,"onUpdate:stock":ke},null,8,["modelValue","inventory"]),I.medications?(D(),M("span",cE,P(I.medications),1)):_e("",!0)]),o("div",uE,[B[23]||(B[23]=o("label",{for:"treatment"},[je("Indicaciones y recomendaciones"),o("span",{"aria-required":"true"},"*")],-1)),$e(o("textarea",{id:"treatment","onUpdate:modelValue":B[9]||(B[9]=V=>T.treatment=V),rows:"4",placeholder:"Cuidados en casa, alimentacin, restricciones..."},null,512),[[lt,T.treatment]]),I.treatment?(D(),M("span",dE,P(I.treatment),1)):_e("",!0)])])]),o("div",fE,[B[25]||(B[25]=o("h3",{class:"h5-tipografia-govco section-title"},"Resultados de laboratorio",-1)),o("div",pE,[o("div",hE,[Ke(tf,{modelValue:T.labResults,"onUpdate:modelValue":B[10]||(B[10]=V=>T.labResults=V),accept:".pdf","max-files":5,label:"Adjuntar resultados (PDF)","help-text":"Mximo 5 archivos PDF, 5MB cada uno"},null,8,["modelValue"])])])]),o("div",mE,[B[28]||(B[28]=o("h3",{class:"h5-tipografia-govco section-title"},"Seguimiento y control",-1)),o("div",vE,[o("div",gE,[$e(o("input",{type:"checkbox",id:"requiresFollowup","onUpdate:modelValue":B[11]||(B[11]=V=>T.requiresFollowup=V)},null,512),[[Po,T.requiresFollowup]]),B[26]||(B[26]=o("label",{for:"requiresFollowup"}," Programar consulta de control ",-1))]),T.requiresFollowup?(D(),M("div",_E,[Ke(ks,{ref_key:"followupDateCalendarRef",ref:S,id:"followupDateCalendar","input-id":"followupDate",label:"Fecha de prximo control",modelValue:T.followupDate,"onUpdate:modelValue":B[12]||(B[12]=V=>T.followupDate=V),"view-days":"true",required:!0,width:"100%",height:"44px","alert-text":I.followupDate,error:!!I.followupDate,onChange:F},null,8,["modelValue","alert-text","error"])])):_e("",!0),T.requiresFollowup?(D(),M("div",bE,[B[27]||(B[27]=o("label",{for:"followupNotes"},"Notas para el control",-1)),$e(o("textarea",{id:"followupNotes","onUpdate:modelValue":B[13]||(B[13]=V=>T.followupNotes=V),rows:"2",placeholder:"Aspectos a evaluar en el prximo control..."},null,512),[[lt,T.followupNotes]])])):_e("",!0)])]),o("div",yE,[B[30]||(B[30]=o("h3",{class:"h5-tipografia-govco section-title"},"Firma digital",-1)),o("div",wE,[o("div",xE,[Ke(pn,{ref_key:"veterinarianDropdownRef",ref:Z,id:"veterinarian",label:"Veterinario responsable",options:k.value,modelValue:T.veterinarianId,"onUpdate:modelValue":B[14]||(B[14]=V=>T.veterinarianId=V),placeholder:"Seleccionar veterinario",required:!0,"alert-text":I.veterinarianId,error:!!I.veterinarianId,width:"100%",height:"44px",onChange:R},null,8,["options","modelValue","alert-text","error"])]),o("div",AE,[B[29]||(B[29]=o("label",{for:"vetNotes"},"Observaciones adicionales",-1)),$e(o("textarea",{id:"vetNotes","onUpdate:modelValue":B[15]||(B[15]=V=>T.veterinarianNotes=V),rows:"2",placeholder:"Comentarios adicionales del veterinario..."},null,512),[[lt,T.veterinarianNotes]])])])]),o("div",{class:"form-actions"},[o("button",{type:"button",onClick:Le,class:"govco-btn govco-bg-concrete"}," Cancelar "),B[31]||(B[31]=o("button",{type:"submit",class:"govco-btn govco-bg-elf-green"}," Guardar consulta ",-1))])],544))]))}},kE=It(SE,[["__scopeId","data-v-64015b30"]]),CE={class:"vaccination-form"},EE={key:0,class:"loading-overlay"},LE={class:"form-section"},NE={class:"form-grid"},PE={class:"search-section full-width"},$E={class:"search-input-group"},TE=["disabled"],IE={key:0,class:"error-text"},DE={key:0,class:"results-dropdown full-width"},RE=["onClick"],OE={class:"result-info"},ME={class:"result-code"},FE={class:"result-meta"},BE={key:1,class:"animal-selected full-width"},jE={class:"animal-card"},zE={class:"animal-avatar"},UE=["src","alt"],VE={class:"animal-info"},qE={class:"input-like-govco calendar-wrapper"},HE={class:"form-section"},GE={class:"form-grid"},WE={class:"input-like-govco"},ZE={class:"input-like-govco calendar-wrapper"},KE={class:"input-like-govco"},JE={class:"form-section"},YE={class:"form-grid"},XE={class:"input-like-govco"},QE={class:"checkbox-wrapper full-width"},eL={key:0,class:"input-like-govco calendar-wrapper full-width"},tL={class:"info-text"},nL={class:"form-section"},oL={class:"form-grid"},iL={class:"input-like-govco"},aL={class:"input-wrapper full-width"},sL={class:"form-actions"},rL=["disabled"],lL={__name:"VaccinationForm",setup(e){const t=zr(),n=jr(),i=ve(null),s=ve(null),r=ve(null),l=ve(null),c=ve(null),d=ve(null),p=ve(null),f=ve(null),v=ve(!1),w=ve(!0),m=ve(""),y=ve(!1),A=ve(""),N=ve([]),k=ve(null),T=ve([]),I=ve([]);function j(){_i(()=>{var Y;(Y=window.GOVCo)!=null&&Y.init&&document.querySelectorAll(".vaccination-form .desplegable-govco").forEach(fe=>{try{window.GOVCo.init(fe.parentElement||fe)}catch(ae){console.warn("Error inicializando dropdown:",ae)}}),window.reinitGovCo&&setTimeout(()=>{window.reinitGovCo()},100)})}async function K(){if(!m.value.trim()){A.value="Ingrese un nmero de chip o cdigo para buscar";return}y.value=!0,A.value="",N.value=[];try{await n.fetchAnimals({search:m.value,per_page:10});const Y=n.animals||[];Y.length===0?A.value="No se encontraron animales con ese criterio":Y.length===1?W(Y[0]):N.value=Y}catch(Y){console.error("Error buscando animal:",Y),A.value="Error al buscar el animal"}finally{y.value=!1}}function W(Y){var ee;k.value={...Y,historial_clinico_id:((ee=Y.historial_clinico)==null?void 0:ee.id)||Y.historial_clinico_id},N.value=[],m.value=Y.numero_chip||Y.codigo_unico,A.value="",k.value.historial_clinico_id||(A.value="Este animal no tiene historial clnico. Por favor, cree uno primero.",k.value=null)}function H(){k.value=null,m.value="",N.value=[],A.value=""}async function F(){w.value=!0;try{try{const Y=await t.fetchTiposVacuna();Y&&Y.length>0&&(I.value=Y)}catch(Y){console.warn("Error cargando tipos de vacuna:",Y)}try{const Y=await t.fetchVeterinarios();T.value=Y||t.veterinarios||[],T.value.length===0&&alert("No hay veterinarios registrados. Debes crear al menos uno para registrar vacunaciones.")}catch(Y){console.error("Error cargando veterinarios:",Y)}await _i(),setTimeout(()=>{j()},200)}catch(Y){console.error("Error cargando datos iniciales:",Y),alert("Error al cargar datos. Por favor recargue la pgina.")}finally{w.value=!1}}const R=We(()=>I.value.length>0?I.value.map(Y=>({value:Y.id,text:Y.nombre,codigo:Y.codigo,intervalo:Y.intervalo_dosis})):[{value:"rabia",text:"Rabia"},{value:"quintuple",text:"Quntuple (DHPPL)"},{value:"sextuple",text:"Sxtuple (DHPPL + Corona)"},{value:"triple_felina",text:"Triple Felina"},{value:"leucemia_felina",text:"Leucemia Felina"},{value:"parvovirus",text:"Parvovirus"},{value:"bordetella",text:"Bordetella (Tos de las perreras)"},{value:"otra",text:"Otra"}]),z=[{value:"subcutanea",text:"Subcutnea"},{value:"intramuscular",text:"Intramuscular"},{value:"intranasal",text:"Intranasal"}],x=[{value:"1",text:"Primera dosis"},{value:"2",text:"Segunda dosis"},{value:"3",text:"Tercera dosis"},{value:"refuerzo",text:"Refuerzo anual"}],$=We(()=>T.value.map(Y=>({value:Y.id,text:`${Y.nombres||Y.nombre_completo||"Dr."} ${Y.apellidos||""} - TP ${Y.numero_tarjeta_profesional||"N/A"}`}))),Z={rabia:{interval:365,nextDoseText:"Refuerzo anual"},quintuple:{interval:21,nextDoseText:"Cada 21 das hasta completar esquema"},sextuple:{interval:21,nextDoseText:"Cada 21 das hasta completar esquema"},triple_felina:{interval:21,nextDoseText:"Cada 21 das hasta completar esquema"},leucemia_felina:{interval:21,nextDoseText:"Segunda dosis a los 21 das"},parvovirus:{interval:21,nextDoseText:"Cada 21 das hasta completar esquema"},bordetella:{interval:365,nextDoseText:"Refuerzo anual"}},b=un({applicationDate:"",vaccineType:"",vaccineName:"",laboratory:"",batchNumber:"",expirationDate:"",dose:1,route:"",site:"",doseNumber:"",requiresNextDose:!1,nextDoseDate:"",veterinarianId:"",observations:""}),S=un({applicationDate:"",vaccineType:"",vaccineName:"",laboratory:"",batchNumber:"",expirationDate:"",dose:"",route:"",doseNumber:"",nextDoseDate:"",veterinarianId:""}),Q=We(()=>!b.vaccineType||!Z[b.vaccineType]?"Seleccione el tipo de vacuna":` ${Z[b.vaccineType].nextDoseText}`);function U(Y){b.applicationDate=Y,ke()}function le(Y){b.vaccineType=Y,b.doseNumber!=="refuerzo"&&(b.requiresNextDose=!0,ke())}function xe(Y){b.doseNumber=Y,Y==="refuerzo"?(b.requiresNextDose=!1,b.nextDoseDate=""):(b.requiresNextDose=!0,ke())}function ke(){if(!b.applicationDate||!b.vaccineType||!b.requiresNextDose)return;const Y=Z[b.vaccineType];if(!Y)return;const ee=b.applicationDate.split("/");if(ee.length===3){const fe=new Date(ee[2],ee[1]-1,ee[0]),ae=new Date(fe);ae.setDate(ae.getDate()+Y.interval);const te=String(ae.getDate()).padStart(2,"0"),se=String(ae.getMonth()+1).padStart(2,"0"),de=ae.getFullYear();b.nextDoseDate=`${te}/${se}/${de}`}}function Le(){[{ref:r,field:"vaccineType",selector:"#vaccineType-select"},{ref:c,field:"route",selector:"#route-select"},{ref:d,field:"doseNumber",selector:"#doseNumber-select"},{ref:f,field:"veterinarianId",selector:"#veterinarian-select"},{ref:s,field:"applicationDate",selector:"#applicationDate"},{ref:l,field:"expirationDate",selector:"#expirationDate"},{ref:p,field:"nextDoseDate",selector:"#nextDoseDate"}].forEach(({ref:ee,field:fe,selector:ae})=>{var te;if((te=ee.value)!=null&&te.getValue){const se=ee.value.getValue();se&&(b[fe]=se)}if(!b[fe]){const se=document.querySelector(ae);se!=null&&se.value&&(b[fe]=isNaN(se.value)?se.value:parseInt(se.value))}})}function X(){var fe;Le(),Object.keys(S).forEach(ae=>S[ae]="");let Y=!0;k.value||(A.value="Debe buscar y seleccionar un animal",Y=!1),(fe=k.value)!=null&&fe.historial_clinico_id||(A.value="El animal seleccionado no tiene historial clnico",Y=!1);const ee={applicationDate:"Campo requerido",vaccineType:"Campo requerido",vaccineName:"Campo requerido",laboratory:"Campo requerido",batchNumber:"Campo requerido",expirationDate:"Campo requerido",route:"Campo requerido",doseNumber:"Campo requerido",veterinarianId:"Debe seleccionar veterinario responsable"};for(const[ae,te]of Object.entries(ee))(!b[ae]||typeof b[ae]=="string"&&!b[ae].trim())&&(S[ae]=te,Y=!1);return(!b.dose||b.dose<=0)&&(S.dose="Debe especificar una dosis vlida",Y=!1),b.requiresNextDose&&!b.nextDoseDate&&(S.nextDoseDate="Debe especificar fecha de prxima dosis",Y=!1),Y}function he(){Object.keys(b).forEach(Y=>{typeof b[Y]=="boolean"?b[Y]=!1:typeof b[Y]=="number"?b[Y]=1:b[Y]=""}),Object.keys(S).forEach(Y=>S[Y]=""),H()}function J(Y){if(!Y)return null;const ee=Y.split("/");return ee.length===3?`${ee[2]}-${ee[1]}-${ee[0]}`:Y}async function B(){var Y,ee;if(!X()){window.scrollTo({top:0,behavior:"smooth"});return}if(!v.value){v.value=!0;try{const fe={historial_clinico_id:k.value.historial_clinico_id,tipo_vacuna_id:b.vaccineType,veterinario_id:b.veterinarianId,fecha_aplicacion:J(b.applicationDate),fecha_proxima_dosis:b.requiresNextDose?J(b.nextDoseDate):null,lote:b.batchNumber,fabricante:b.laboratory,nombre_vacuna:b.vaccineName,dosis:b.dose,via_administracion:b.route,sitio_aplicacion:b.site||null,numero_dosis:b.doseNumber,observaciones:b.observations||null};console.log(" Enviando vacunacin:",fe),await t.crearVacuna(fe),alert(" Vacunacin registrada exitosamente"),he()}catch(fe){console.error(" Error al registrar vacunacin:",fe);const ae=((ee=(Y=fe.response)==null?void 0:Y.data)==null?void 0:ee.message)||"Error al registrar la vacunacin";alert(ae)}finally{v.value=!1}}}function V(){if(!i.value)return;i.value.querySelectorAll("button").forEach(ee=>{var ae;const fe=(ae=ee.textContent)==null?void 0:ae.includes("Registrar vacunacin");ee.setAttribute("type",fe?"submit":"button")})}return yn(async()=>{V(),await F()}),(Y,ee)=>(D(),M("section",CE,[ee[30]||(ee[30]=o("div",{class:"form-header"},[o("h2",{class:"h2-tipografia-govco"},"Registro de Vacunacin"),o("p",{class:"text2-tipografia-govco"},"Complete los datos de la vacuna aplicada")],-1)),w.value?(D(),M("div",EE,[...ee[19]||(ee[19]=[o("div",{class:"spinner"},null,-1),o("p",null,"Cargando datos...",-1)])])):(D(),M("form",{key:1,ref_key:"formEl",ref:i,onSubmit:Tt(B,["prevent"]),novalidate:""},[o("div",LE,[ee[24]||(ee[24]=o("h3",{class:"h5-tipografia-govco section-title"},"Datos del animal",-1)),o("div",NE,[o("div",PE,[ee[20]||(ee[20]=o("label",{for:"searchInput"},"Buscar animal por nmero de chip o cdigo",-1)),o("div",$E,[$e(o("input",{type:"text",id:"searchInput","onUpdate:modelValue":ee[0]||(ee[0]=fe=>m.value=fe),placeholder:"Ej: 982000123456789 o AN-2025-00001",onKeyup:Cl(K,["enter"]),class:"input-govco"},null,544),[[lt,m.value]]),o("button",{type:"button",onClick:K,class:"btn-search",disabled:y.value},"  "+P(y.value?"Buscando...":"Buscar"),9,TE)]),A.value?(D(),M("span",IE,P(A.value),1)):_e("",!0)]),N.value.length>0?(D(),M("div",DE,[ee[21]||(ee[21]=o("p",{class:"results-label"},"Seleccione un animal:",-1)),(D(!0),M(rt,null,ht(N.value,fe=>(D(),M("div",{key:fe.id,onClick:ae=>W(fe),class:"result-item"},[o("div",OE,[o("strong",null,P(fe.nombre||"Sin nombre"),1),o("span",ME,P(fe.numero_chip||fe.codigo_unico),1)]),o("div",FE,P(fe.especie)+"  "+P(fe.raza)+"  "+P(fe.edad_formateada||"Edad no especificada"),1)],8,RE))),128))])):_e("",!0),k.value?(D(),M("div",BE,[o("div",jE,[o("div",zE,[o("img",{src:k.value.foto_url||"/placeholder-animal.jpg",alt:k.value.nombre},null,8,UE)]),o("div",VE,[o("h4",null,P(k.value.nombre||"Sin nombre"),1),o("p",null,[ee[22]||(ee[22]=o("strong",null,"Chip:",-1)),je(" "+P(k.value.numero_chip||"No registrado")+"  ",1),ee[23]||(ee[23]=o("strong",null,"Cdigo:",-1)),je(" "+P(k.value.codigo_unico),1)]),o("p",null,P(k.value.especie)+"  "+P(k.value.raza),1)]),o("button",{type:"button",onClick:H,class:"btn-clear"},"  Cambiar animal ")])])):_e("",!0),o("div",qE,[Ke(ks,{ref_key:"applicationDateRef",ref:s,id:"applicationDateCalendar","input-id":"applicationDate",label:"Fecha de aplicacin",modelValue:b.applicationDate,"onUpdate:modelValue":ee[1]||(ee[1]=fe=>b.applicationDate=fe),"view-days":"true",required:!0,width:"100%",height:"44px","alert-text":S.applicationDate,error:!!S.applicationDate,onChange:U},null,8,["modelValue","alert-text","error"])])])]),o("div",HE,[ee[25]||(ee[25]=o("h3",{class:"h5-tipografia-govco section-title"},"Informacin de la vacuna",-1)),o("div",GE,[o("div",WE,[Ke(pn,{ref_key:"vaccineTypeRef",ref:r,id:"vaccineType",label:"Tipo de vacuna",options:R.value,modelValue:b.vaccineType,"onUpdate:modelValue":ee[2]||(ee[2]=fe=>b.vaccineType=fe),placeholder:"Seleccionar tipo",required:!0,"alert-text":S.vaccineType,error:!!S.vaccineType,width:"100%",height:"44px",onChange:le},null,8,["options","modelValue","alert-text","error"])]),Ke(Hn,{id:"vaccineName",label:"Nombre comercial",modelValue:b.vaccineName,"onUpdate:modelValue":ee[3]||(ee[3]=fe=>b.vaccineName=fe),placeholder:"Ej: Nobivac, Vanguard",required:!0,"alert-text":S.vaccineName,error:!!S.vaccineName},null,8,["modelValue","alert-text","error"]),Ke(Hn,{id:"laboratory",label:"Laboratorio fabricante",modelValue:b.laboratory,"onUpdate:modelValue":ee[4]||(ee[4]=fe=>b.laboratory=fe),placeholder:"Ej: MSD, Zoetis",required:!0,"alert-text":S.laboratory,error:!!S.laboratory},null,8,["modelValue","alert-text","error"]),Ke(Hn,{id:"batchNumber",label:"Nmero de lote",modelValue:b.batchNumber,"onUpdate:modelValue":ee[5]||(ee[5]=fe=>b.batchNumber=fe),placeholder:"LOT123456",required:!0,"alert-text":S.batchNumber,error:!!S.batchNumber},null,8,["modelValue","alert-text","error"]),o("div",ZE,[Ke(ks,{ref_key:"expirationDateRef",ref:l,id:"expirationDateCalendar","input-id":"expirationDate",label:"Fecha de vencimiento",modelValue:b.expirationDate,"onUpdate:modelValue":ee[6]||(ee[6]=fe=>b.expirationDate=fe),"view-days":"true",required:!0,width:"100%",height:"44px","alert-text":S.expirationDate,error:!!S.expirationDate,onChange:ee[7]||(ee[7]=fe=>b.expirationDate=fe)},null,8,["modelValue","alert-text","error"])]),Ke(Hn,{id:"dose",label:"Dosis (ml)",type:"number",modelValue:b.dose,"onUpdate:modelValue":ee[8]||(ee[8]=fe=>b.dose=fe),placeholder:"1.0",step:"0.1",min:"0.1",max:"10",required:!0,"alert-text":S.dose,error:!!S.dose},null,8,["modelValue","alert-text","error"]),o("div",KE,[Ke(pn,{ref_key:"routeRef",ref:c,id:"route",label:"Va de aplicacin",options:z,modelValue:b.route,"onUpdate:modelValue":ee[9]||(ee[9]=fe=>b.route=fe),placeholder:"Seleccionar va",required:!0,"alert-text":S.route,error:!!S.route,width:"100%",height:"44px",onChange:ee[10]||(ee[10]=fe=>b.route=fe)},null,8,["modelValue","alert-text","error"])]),Ke(Hn,{id:"site",label:"Sitio de aplicacin",modelValue:b.site,"onUpdate:modelValue":ee[11]||(ee[11]=fe=>b.site=fe),placeholder:"Ej: Miembro anterior derecho","help-text":"Opcional: indique la ubicacin exacta"},null,8,["modelValue"])])]),o("div",JE,[ee[27]||(ee[27]=o("h3",{class:"h5-tipografia-govco section-title"},"Esquema de vacunacin",-1)),o("div",YE,[o("div",XE,[Ke(pn,{ref_key:"doseNumberRef",ref:d,id:"doseNumber",label:"Dosis nmero",options:x,modelValue:b.doseNumber,"onUpdate:modelValue":ee[12]||(ee[12]=fe=>b.doseNumber=fe),placeholder:"Seleccionar",required:!0,"alert-text":S.doseNumber,error:!!S.doseNumber,width:"100%",height:"44px",onChange:xe},null,8,["modelValue","alert-text","error"])]),o("div",QE,[$e(o("input",{type:"checkbox",id:"requiresNext","onUpdate:modelValue":ee[13]||(ee[13]=fe=>b.requiresNextDose=fe),onChange:ke},null,544),[[Po,b.requiresNextDose]]),ee[26]||(ee[26]=o("label",{for:"requiresNext"},"Requiere prxima dosis",-1))]),b.requiresNextDose?(D(),M("div",eL,[Ke(ks,{ref_key:"nextDoseDateRef",ref:p,id:"nextDoseDateCalendar","input-id":"nextDoseDate",label:"Fecha de prxima dosis",modelValue:b.nextDoseDate,"onUpdate:modelValue":ee[14]||(ee[14]=fe=>b.nextDoseDate=fe),"view-days":"true",required:!0,width:"100%",height:"44px","alert-text":S.nextDoseDate,error:!!S.nextDoseDate,onChange:ee[15]||(ee[15]=fe=>b.nextDoseDate=fe)},null,8,["modelValue","alert-text","error"]),o("span",tL,P(Q.value),1)])):_e("",!0)])]),o("div",nL,[ee[29]||(ee[29]=o("h3",{class:"h5-tipografia-govco section-title"},"Responsable y observaciones",-1)),o("div",oL,[o("div",iL,[Ke(pn,{ref_key:"veterinarianRef",ref:f,id:"veterinarian",label:"Veterinario aplicador",options:$.value,modelValue:b.veterinarianId,"onUpdate:modelValue":ee[16]||(ee[16]=fe=>b.veterinarianId=fe),placeholder:"Seleccionar veterinario",required:!0,"alert-text":S.veterinarianId,error:!!S.veterinarianId,width:"100%",height:"44px",onChange:ee[17]||(ee[17]=fe=>b.veterinarianId=fe)},null,8,["options","modelValue","alert-text","error"])]),o("div",aL,[ee[28]||(ee[28]=o("label",{for:"observations"},"Observaciones",-1)),$e(o("textarea",{id:"observations","onUpdate:modelValue":ee[18]||(ee[18]=fe=>b.observations=fe),rows:"3",placeholder:"Reacciones adversas, estado del animal post-vacunacin...",class:"input-govco"},null,512),[[lt,b.observations]])])])]),o("div",sL,[o("button",{type:"button",onClick:he,class:"btn-secondary"}," Cancelar "),o("button",{type:"submit",class:"btn-primary",disabled:v.value||!k.value},P(v.value?"Guardando...":"Registrar vacunacin"),9,rL)])],544))]))}},cL=It(lL,[["__scopeId","data-v-09da546e"]]),uL={class:"surgery-form"},dL={key:0,class:"loading-overlay"},fL={class:"form-section"},pL={class:"form-grid"},hL={class:"form-section"},mL={class:"form-grid"},vL={class:"full-width"},gL={class:"full-width"},_L={class:"form-section"},bL={class:"form-grid"},yL={key:0,class:"form-section"},wL={class:"form-grid"},xL={class:"full-width"},AL={class:"full-width"},SL={class:"checkbox-wrapper full-width"},kL={class:"form-section"},CL={class:"form-grid"},EL={class:"full-width"},LL={class:"form-actions"},NL={__name:"SurgeryForm",props:{animalId:{type:String,default:null},historialClinicoId:{type:String,default:null}},emits:["cirugia-saved","cancel"],setup(e,{emit:t}){const n=t,i=e,s=zr(),r=jr(),l=ve(!1),c=ve(!0),d=ve([]),p=ve([]),f=[{value:"esterilizacion",text:"Esterilizacin"},{value:"castracion",text:"Castracin"},{value:"ortopedica",text:"Ortopdica"},{value:"abdominal",text:"Abdominal"},{value:"oftalmologica",text:"Oftalmolgica"},{value:"dental",text:"Dental"},{value:"oncologica",text:"Oncolgica"},{value:"emergencia",text:"Emergencia"},{value:"otra",text:"Otra"}],v=[{value:"programada",text:"Programada"},{value:"realizada",text:"Realizada"},{value:"cancelada",text:"Cancelada"}],w=[{value:"exitosa",text:"Exitosa"},{value:"con_complicaciones",text:"Con complicaciones"},{value:"fallida",text:"Fallida"}],m=[{value:"en_tratamiento",text:"En tratamiento"},{value:"en_recuperacion",text:"En recuperacin"},{value:"estable",text:"Estable"}],y=We(()=>d.value.map(W=>({value:W.id,text:`${W.name} (${W.microchip})`}))),A=We(()=>p.value.map(W=>({value:W.id,text:`${W.name} (${W.license})`}))),N=un({animalId:"",historialClinicoId:"",cirujanoId:"",anestesiologoId:"",tipoCirugia:"",descripcion:"",fechaProgramada:"",fechaRealizacion:"",duracionMinutos:null,tipoAnestesia:"",asistentesTexto:"",estado:"programada",resultado:"exitosa",complicaciones:"",postoperatorio:"",estadoAnimal:"",seguimientoRequerido:!1,photos:[]}),k=un({animalId:"",cirujanoId:"",tipoCirugia:"",descripcion:"",fechaProgramada:"",duracionMinutos:"",tipoAnestesia:""});async function T(){var W;c.value=!0,console.log(" SurgeryForm: Cargando datos iniciales...");try{console.log(" Cargando animales...");let H=[];try{await r.fetchAnimals(),H=r.animals||[],console.log(" Animales desde store:",H.length)}catch(R){console.warn(" Error con store, intentando servicio directo:",R);const z=await Ga.getAll();H=((W=z==null?void 0:z.data)==null?void 0:W.data)||(z==null?void 0:z.data)||[],console.log(" Animales desde servicio:",H.length)}d.value=H.map(R=>{var z;return{id:R.id,name:R.nombre||"Sin nombre",microchip:R.codigo_unico||R.codigo_chip||"Sin chip",historialClinicoId:((z=R.historial_clinico)==null?void 0:z.id)||R.historial_clinico_id}}),console.log(" Animales procesados:",d.value.length),console.log(" Cargando veterinarios..."),await s.fetchVeterinarios();const F=s.veterinarios||[];console.log(" Veterinarios desde store:",F.length),p.value=F.map(R=>{var z,x;return{id:R.id,name:R.nombre_completo||`${((z=R.usuario)==null?void 0:z.nombres)||""} ${((x=R.usuario)==null?void 0:x.apellidos)||""}`.trim()||R.nombre||"Veterinario",license:R.tarjeta_profesional||R.licencia||"N/A"}}),console.log(" Veterinarios procesados:",p.value.length),i.animalId&&(N.animalId=i.animalId,console.log(" Animal pre-seleccionado:",i.animalId)),i.historialClinicoId&&(N.historialClinicoId=i.historialClinicoId)}catch(H){console.error(" Error cargando datos iniciales:",H),alert("Error al cargar datos. Por favor recargue la pgina.")}finally{c.value=!1,console.log(" Carga de datos completada")}}function I(){Object.assign(N,{animalId:"",historialClinicoId:"",cirujanoId:"",anestesiologoId:"",tipoCirugia:"",descripcion:"",fechaProgramada:"",fechaRealizacion:"",duracionMinutos:null,tipoAnestesia:"",asistentesTexto:"",estado:"programada",resultado:"exitosa",complicaciones:"",postoperatorio:"",estadoAnimal:"",seguimientoRequerido:!1,photos:[]}),Object.keys(k).forEach(W=>k[W]=""),n("cancel")}function j(){Object.keys(k).forEach(H=>k[H]="");let W=!0;return N.animalId||(k.animalId="Debe seleccionar un animal",W=!1),N.cirujanoId||(k.cirujanoId="Debe seleccionar veterinario cirujano",W=!1),N.tipoCirugia||(k.tipoCirugia="Debe seleccionar tipo de ciruga",W=!1),N.descripcion.trim()||(k.descripcion="La descripcin es requerida",W=!1),N.fechaProgramada||(k.fechaProgramada="Debe indicar fecha programada",W=!1),(!N.duracionMinutos||N.duracionMinutos<=0)&&(k.duracionMinutos="Duracin invlida",W=!1),N.estado==="realizada"&&!N.tipoAnestesia.trim()&&(k.tipoAnestesia="Debe especificar el tipo de anestesia utilizada",W=!1),W}async function K(){var W,H;if(!j()){window.scrollTo({top:0,behavior:"smooth"});return}l.value=!0;try{let F=N.historialClinicoId;if(!F){const x=d.value.find($=>$.id===N.animalId);F=x==null?void 0:x.historialClinicoId}const R=N.asistentesTexto?N.asistentesTexto.split(",").map(x=>x.trim()).filter(Boolean):[],z={historial_clinico_id:F,cirujano_id:N.cirujanoId,anestesiologo_id:N.anestesiologoId||null,tipo_cirugia:N.tipoCirugia,descripcion:N.descripcion,fecha_programada:N.fechaProgramada,fecha_realizacion:N.fechaRealizacion||null,duracion:N.duracionMinutos,tipo_anestesia:N.tipoAnestesia||null,asistentes:R,estado:N.estado,resultado:N.estado==="realizada"?N.resultado:null,complicaciones:N.complicaciones||null,postoperatorio:N.postoperatorio||null,seguimiento_requerido:N.seguimientoRequerido,estado_animal:N.estado==="realizada"?N.estadoAnimal:null};console.log("Guardando ciruga:",z),await s.crearCirugia(z),alert("Ciruga registrada exitosamente"),n("cirugia-saved",z),I()}catch(F){console.error("Error al registrar ciruga:",F),alert(((H=(W=F.response)==null?void 0:W.data)==null?void 0:H.message)||"Error al registrar la ciruga")}finally{l.value=!1}}return Kn(()=>i.animalId,W=>{if(W&&d.value.length>0){console.log(" Animal ID changed:",W),N.animalId=W;const H=d.value.find(F=>F.id===W);H!=null&&H.historialClinicoId&&(N.historialClinicoId=H.historialClinicoId)}}),yn(async()=>{console.log(" SurgeryForm mounted"),console.log(" Props:",{animalId:i.animalId,historialClinicoId:i.historialClinicoId}),await T()}),(W,H)=>(D(),M("section",uL,[H[24]||(H[24]=o("div",{class:"form-header"},[o("h2",{class:"h2-tipografia-govco"},"Registro de Ciruga"),o("p",{class:"text2-tipografia-govco"}," Registre la informacin de la intervencin quirrgica. ")],-1)),c.value?(D(),M("div",dL,[...H[17]||(H[17]=[o("div",{class:"spinner"},null,-1),o("p",null,"Cargando datos...",-1)])])):(D(),M("form",{key:1,onSubmit:Tt(K,["prevent"]),novalidate:""},[o("div",fL,[H[18]||(H[18]=o("h3",{class:"h5-tipografia-govco section-title"},"Datos generales",-1)),o("div",pL,[Ke(pn,{id:"animal-select",modelValue:N.animalId,"onUpdate:modelValue":H[0]||(H[0]=F=>N.animalId=F),label:"Animal",placeholder:"Seleccione un animal",options:y.value,required:!0,error:!!k.animalId,"alert-text":k.animalId},null,8,["modelValue","options","error","alert-text"]),Ke(pn,{id:"cirujano-select",modelValue:N.cirujanoId,"onUpdate:modelValue":H[1]||(H[1]=F=>N.cirujanoId=F),label:"Veterinario cirujano",placeholder:"Seleccione veterinario cirujano",options:A.value,required:!0,error:!!k.cirujanoId,"alert-text":k.cirujanoId},null,8,["modelValue","options","error","alert-text"]),Ke(pn,{id:"tipo-cirugia-select",modelValue:N.tipoCirugia,"onUpdate:modelValue":H[2]||(H[2]=F=>N.tipoCirugia=F),label:"Tipo de ciruga",placeholder:"Seleccione tipo de ciruga",options:f,required:!0,error:!!k.tipoCirugia,"alert-text":k.tipoCirugia},null,8,["modelValue","error","alert-text"]),Ke(pn,{id:"estado-select",modelValue:N.estado,"onUpdate:modelValue":H[3]||(H[3]=F=>N.estado=F),label:"Estado de la ciruga",options:v,required:!0},null,8,["modelValue"]),Ke(ks,{id:"fecha-programada","input-id":"fecha-programada-input",modelValue:N.fechaProgramada,"onUpdate:modelValue":H[4]||(H[4]=F=>N.fechaProgramada=F),label:"Fecha programada",placeholder:"Seleccione fecha",required:!0,error:!!k.fechaProgramada,"alert-text":k.fechaProgramada},null,8,["modelValue","error","alert-text"]),N.estado==="realizada"?(D(),nn(ks,{key:0,id:"fecha-realizacion","input-id":"fecha-realizacion-input",modelValue:N.fechaRealizacion,"onUpdate:modelValue":H[5]||(H[5]=F=>N.fechaRealizacion=F),label:"Fecha de realizacin",placeholder:"Seleccione fecha",max:new Date().toISOString().split("T")[0]},null,8,["modelValue","max"])):_e("",!0),Ke(Hn,{id:"duracion-input",modelValue:N.duracionMinutos,"onUpdate:modelValue":H[6]||(H[6]=F=>N.duracionMinutos=F),label:"Duracin (minutos)",type:"number",placeholder:"90",min:0,required:!0,error:!!k.duracionMinutos,"alert-text":k.duracionMinutos},null,8,["modelValue","error","alert-text"]),N.estado==="realizada"?(D(),nn(pn,{key:1,id:"resultado-select",modelValue:N.resultado,"onUpdate:modelValue":H[7]||(H[7]=F=>N.resultado=F),label:"Resultado de la ciruga",options:w},null,8,["modelValue"])):_e("",!0)])]),o("div",hL,[H[19]||(H[19]=o("h3",{class:"h5-tipografia-govco section-title"}," Descripcin del procedimiento ",-1)),o("div",mL,[o("div",vL,[Ke(Hn,{id:"descripcion-input",modelValue:N.descripcion,"onUpdate:modelValue":H[8]||(H[8]=F=>N.descripcion=F),label:"Descripcin del procedimiento",type:"textarea",placeholder:"Describa el procedimiento quirrgico realizado...",required:!0,error:!!k.descripcion,"alert-text":k.descripcion},null,8,["modelValue","error","alert-text"])]),o("div",gL,[Ke(Hn,{id:"anestesia-input",modelValue:N.tipoAnestesia,"onUpdate:modelValue":H[9]||(H[9]=F=>N.tipoAnestesia=F),label:"Tipo de anestesia utilizada",type:"textarea",placeholder:"Protocolo anestsico, medicamentos, dosis...",required:N.estado==="realizada",error:!!k.tipoAnestesia,"alert-text":k.tipoAnestesia},null,8,["modelValue","required","error","alert-text"])])])]),o("div",_L,[H[20]||(H[20]=o("h3",{class:"h5-tipografia-govco section-title"}," Equipo quirrgico ",-1)),o("div",bL,[Ke(pn,{id:"anestesiologo-select",modelValue:N.anestesiologoId,"onUpdate:modelValue":H[10]||(H[10]=F=>N.anestesiologoId=F),label:"Anestesilogo",placeholder:"Seleccione anestesilogo",options:A.value},null,8,["modelValue","options"]),Ke(Hn,{id:"asistentes-input",modelValue:N.asistentesTexto,"onUpdate:modelValue":H[11]||(H[11]=F=>N.asistentesTexto=F),label:"Asistentes",placeholder:"Nombres de los asistentes (separados por coma)","help-text":"Ejemplo: Dr. Juan Prez, Aux. Mara Lpez"},null,8,["modelValue"])])]),N.estado==="realizada"?(D(),M("div",yL,[H[22]||(H[22]=o("h3",{class:"h5-tipografia-govco section-title"}," Resultado y observaciones ",-1)),o("div",wL,[o("div",xL,[Ke(Hn,{id:"complicaciones-input",modelValue:N.complicaciones,"onUpdate:modelValue":H[12]||(H[12]=F=>N.complicaciones=F),label:"Complicaciones",type:"textarea",placeholder:"Describa cualquier complicacin presentada durante el procedimiento..."},null,8,["modelValue"])]),o("div",AL,[Ke(Hn,{id:"postoperatorio-input",modelValue:N.postoperatorio,"onUpdate:modelValue":H[13]||(H[13]=F=>N.postoperatorio=F),label:"Indicaciones postoperatorias",type:"textarea",placeholder:"Cuidados postoperatorios, medicacin, restricciones..."},null,8,["modelValue"])]),Ke(pn,{id:"estado-animal-select",modelValue:N.estadoAnimal,"onUpdate:modelValue":H[14]||(H[14]=F=>N.estadoAnimal=F),label:"Estado del animal",options:m},null,8,["modelValue"]),o("div",SL,[$e(o("input",{id:"seguimiento-checkbox","onUpdate:modelValue":H[15]||(H[15]=F=>N.seguimientoRequerido=F),type:"checkbox"},null,512),[[Po,N.seguimientoRequerido]]),H[21]||(H[21]=o("label",{for:"seguimiento-checkbox"}," Requiere seguimiento postoperatorio ",-1))])])])):_e("",!0),o("div",kL,[H[23]||(H[23]=o("h3",{class:"h5-tipografia-govco section-title"}," Documentacin del procedimiento ",-1)),o("div",CL,[o("div",EL,[Ke(tf,{modelValue:N.photos,"onUpdate:modelValue":H[16]||(H[16]=F=>N.photos=F),accept:"image/*","max-files":10,"max-size-m-b":10,multiple:!0,label:"Fotografas del procedimiento","help-text":"Opcional. Mximo 10 imgenes, 10MB cada una."},null,8,["modelValue"])])])]),o("div",LL,[Ke(xs,{label:"Cancelar",variant:"secondary",onClick:I}),Ke(xs,{type:"submit",label:"Guardar ciruga",variant:"primary",loading:l.value,disabled:l.value},null,8,["loading","disabled"])])],32))]))}},PL=It(NL,[["__scopeId","data-v-3243df8d"]]),$L={class:"inventory-module"},TL={class:"form-section"},IL={class:"form-grid"},DL={class:"entradas-de-texto-govco"},RL={class:"entradas-de-texto-govco"},OL={class:"entradas-de-texto-govco"},ML={class:"entradas-de-texto-govco"},FL={class:"entradas-de-texto-govco"},BL={class:"form-section"},jL={class:"alerts-grid"},zL={key:0,class:"alert-card"},UL={key:1,class:"alert-card"},VL={key:2,class:"no-alerts"},qL={class:"form-section"},HL={class:"table-wrapper"},GL={class:"govco-table"},WL={key:0},ZL={__name:"MedicationInventory",setup(e){const t=zr(),n=ve(!0),i=ve([]),s=un({name:"",lot:"",expiryDate:"",quantity:null,minStock:5});async function r(){n.value=!0;try{await t.fetchMedicamentos(),i.value=t.medicamentos.map(f=>({id:f.id,name:f.nombre||f.name,lot:f.lote||f.lot||"N/A",expiryDate:f.fecha_vencimiento||f.expiryDate||"N/A",stock:f.stock_actual||f.stock||0,minStock:f.stock_minimo||f.minStock||5})),await t.fetchAlertasStockBajo()}catch(f){console.error("Error cargando medicamentos:",f)}finally{n.value=!1}}function l(){Object.assign(s,{name:"",lot:"",expiryDate:"",quantity:null,minStock:5})}async function c(){if(!s.name||!s.lot||!s.expiryDate||!s.quantity){alert("Todos los campos de ingreso son obligatorios");return}try{const f=i.value.find(v=>v.name===s.name&&v.lot===s.lot);f?(f.stock+=s.quantity,f.expiryDate=s.expiryDate,f.minStock=s.minStock):i.value.push({id:Date.now(),name:s.name,lot:s.lot,expiryDate:s.expiryDate,stock:s.quantity,minStock:s.minStock}),alert("Ingreso registrado en el inventario"),l()}catch(f){console.error("Error registrando ingreso:",f),alert("Error al registrar el ingreso")}}const d=We(()=>i.value.filter(f=>f.stock<=f.minStock)),p=We(()=>{const f=new Date,v=new Date;return v.setDate(f.getDate()+30),i.value.filter(w=>{if(!w.expiryDate||w.expiryDate==="N/A")return!1;const m=new Date(w.expiryDate);return m>=f&&m<=v})});return yn(async()=>{await r(),console.log("Inventario de medicamentos cargado")}),(f,v)=>(D(),M("section",$L,[v[18]||(v[18]=o("div",{class:"form-header"},[o("h2",{class:"h2-tipografia-govco"},"Inventario de Medicamentos"),o("p",{class:"text2-tipografia-govco"}," Registre ingresos, controle existencias y vigile vencimientos. ")],-1)),o("div",TL,[v[11]||(v[11]=o("h3",{class:"h5-tipografia-govco section-title"}," Registro de ingreso de medicamentos ",-1)),o("form",{onSubmit:Tt(c,["prevent"])},[o("div",IL,[o("div",DL,[v[5]||(v[5]=o("label",{for:"medName"},[je(" Nombre del medicamento"),o("span",{"aria-required":"true"},"*")],-1)),$e(o("input",{id:"medName","onUpdate:modelValue":v[0]||(v[0]=w=>s.name=w),type:"text",placeholder:"Amoxicilina 500mg, Meloxicam, etc."},null,512),[[lt,s.name]])]),o("div",RL,[v[6]||(v[6]=o("label",{for:"lotNumber"},[je(" Nmero de lote"),o("span",{"aria-required":"true"},"*")],-1)),$e(o("input",{id:"lotNumber","onUpdate:modelValue":v[1]||(v[1]=w=>s.lot=w),type:"text"},null,512),[[lt,s.lot]])]),o("div",OL,[v[7]||(v[7]=o("label",{for:"expiry"},[je(" Fecha de vencimiento"),o("span",{"aria-required":"true"},"*")],-1)),$e(o("input",{id:"expiry","onUpdate:modelValue":v[2]||(v[2]=w=>s.expiryDate=w),type:"date"},null,512),[[lt,s.expiryDate]])]),o("div",ML,[v[8]||(v[8]=o("label",{for:"quantity"},[je(" Cantidad de ingreso"),o("span",{"aria-required":"true"},"*")],-1)),$e(o("input",{id:"quantity","onUpdate:modelValue":v[3]||(v[3]=w=>s.quantity=w),type:"number",min:"1"},null,512),[[lt,s.quantity,void 0,{number:!0}]])]),o("div",FL,[v[9]||(v[9]=o("label",{for:"minStock"},[je(" Stock mnimo recomendado"),o("span",{"aria-required":"true"},"*")],-1)),$e(o("input",{id:"minStock","onUpdate:modelValue":v[4]||(v[4]=w=>s.minStock=w),type:"number",min:"1"},null,512),[[lt,s.minStock,void 0,{number:!0}]])])]),o("div",{class:"form-actions"},[o("button",{type:"button",class:"govco-btn govco-bg-concrete",onClick:l}," Limpiar "),v[10]||(v[10]=o("button",{type:"submit",class:"govco-btn govco-bg-elf-green"}," Registrar ingreso ",-1))])],32)]),o("div",BL,[v[14]||(v[14]=o("h3",{class:"h5-tipografia-govco section-title"}," Alertas de inventario ",-1)),o("div",jL,[d.value.length?(D(),M("div",zL,[v[12]||(v[12]=o("h4",null,"Stock bajo",-1)),o("ul",null,[(D(!0),M(rt,null,ht(d.value,w=>(D(),M("li",{key:w.id},P(w.name)+" - Stock actual: "+P(w.stock)+" (mnimo: "+P(w.minStock)+") ",1))),128))])])):_e("",!0),p.value.length?(D(),M("div",UL,[v[13]||(v[13]=o("h4",null,"Prximos a vencer (30 das)",-1)),o("ul",null,[(D(!0),M(rt,null,ht(p.value,w=>(D(),M("li",{key:w.id},P(w.name)+" - Vence: "+P(w.expiryDate),1))),128))])])):_e("",!0),!d.value.length&&!p.value.length?(D(),M("p",VL," No hay alertas activas de inventario. ")):_e("",!0)])]),o("div",qL,[v[17]||(v[17]=o("h3",{class:"h5-tipografia-govco section-title"}," Inventario actual ",-1)),o("div",HL,[o("table",GL,[v[16]||(v[16]=o("thead",null,[o("tr",null,[o("th",null,"Medicamento"),o("th",null,"Lote"),o("th",null,"Vencimiento"),o("th",null,"Stock actual"),o("th",null,"Stock mnimo")])],-1)),o("tbody",null,[(D(!0),M(rt,null,ht(i.value,w=>(D(),M("tr",{key:w.id},[o("td",null,P(w.name),1),o("td",null,P(w.lot),1),o("td",null,P(w.expiryDate),1),o("td",null,P(w.stock),1),o("td",null,P(w.minStock),1)]))),128)),i.value.length?_e("",!0):(D(),M("tr",WL,[...v[15]||(v[15]=[o("td",{colspan:"5"},"No hay medicamentos registrados.",-1)])]))])])])])]))}},KL=It(ZL,[["__scopeId","data-v-2d752424"]]),JL={class:"medical-history"},YL={class:"history-tabs"},XL=["onClick"],QL={key:0,class:"count-badge"},eN={key:0,class:"loading-container"},tN={key:1,class:"error-container"},nN={class:"error-message"},oN={key:2,class:"tab-content"},iN={class:"tab-panel"},aN={class:"summary-grid"},sN={class:"summary-card"},rN={class:"summary-info"},lN={class:"summary-card"},cN={class:"summary-info"},uN={class:"summary-card"},dN={class:"summary-info"},fN={class:"summary-card"},pN={class:"summary-info"},hN={key:0,class:"last-consult"},mN={class:"consult-header"},vN={class:"consult-date"},gN={class:"tab-panel"},_N={key:0,class:"empty-state"},bN={key:1,class:"timeline"},yN=["onClick"],wN={class:"timeline-content"},xN={class:"timeline-header"},AN={class:"timeline-body"},SN={key:0},kN={class:"tab-panel"},CN={key:0,class:"empty-state"},EN={key:1,class:"card-grid"},LN=["onClick"],NN={class:"card-header"},PN={class:"card-date"},$N={class:"card-body"},TN={key:0},IN={key:1},DN={key:2,class:"vaccine-details"},RN={key:0,class:"detail-badge"},ON={key:1,class:"detail-badge"},MN={key:3,class:"dose-number"},FN={key:4,class:"next-dose"},BN={class:"tab-panel"},jN={key:0,class:"empty-state"},zN={key:1,class:"card-grid"},UN=["onClick"],VN={class:"card-header"},qN={class:"surgery-title-container"},HN={class:"surgery-badges"},GN={class:"card-date"},WN={class:"card-body"},ZN={key:0,class:"surgery-description"},KN={class:"surgery-quick-info"},JN={class:"info-pill"},YN={key:1,class:"surgeon-name"},XN={key:2,class:"mini-sterilization-badge"},QN={class:"tab-panel"},eP={key:0,class:"empty-state"},tP={key:1,class:"card-grid"},nP=["onClick"],oP={class:"card-header"},iP={class:"card-date"},aP={class:"card-body"},sP={key:0},rP={key:1},lP={class:"tab-panel"},cP={key:0,class:"empty-state"},uP={key:1,class:"card-grid"},dP=["onClick"],fP={class:"card-header"},pP={class:"card-date"},hP={class:"card-body"},mP={key:0},vP={class:"modal-body"},gP={class:"detail-section"},_P={class:"detail-grid"},bP={class:"detail-item"},yP={class:"detail-item"},wP={class:"detail-section"},xP={key:0,class:"detail-section"},AP={key:1,class:"detail-section"},SP={class:"vital-signs-grid"},kP={key:0,class:"vital-item"},CP={key:1,class:"vital-item"},EP={key:2,class:"vital-item"},LP={key:3,class:"vital-item"},NP={key:2,class:"detail-section"},PP={key:3,class:"detail-section"},$P={class:"treatment-list"},TP={key:0},IP={key:1},DP={key:2},RP={key:4,class:"detail-section"},OP={key:5,class:"detail-section veterinarian-info"},MP={key:0},FP={class:"modal-body"},BP={class:"detail-section"},jP={class:"modal-date"},zP={key:0},UP={key:0,class:"detail-section"},VP={class:"detail-grid"},qP={class:"detail-item"},HP={key:0,class:"detail-item"},GP={key:1,class:"detail-item"},WP={key:2,class:"detail-item"},ZP={class:"detail-section"},KP={class:"detail-grid"},JP={key:0,class:"detail-item"},YP={key:1,class:"detail-item"},XP={key:2,class:"detail-item"},QP={key:3,class:"detail-item"},e$={key:1,class:"detail-section alert-section"},t$={key:2,class:"detail-section"},n$={key:3,class:"detail-section veterinarian-info"},o$={class:"modal-header surgery-header"},i$={class:"modal-badges-row"},a$={class:"modal-body"},s$={key:0,class:"detail-section alert-esterilizacion"},r$={class:"detail-section"},l$={class:"detail-grid"},c$={class:"detail-item"},u$={key:0,class:"detail-item"},d$={class:"detail-item"},f$={key:1,class:"detail-item"},p$={class:"detail-section"},h$={key:1,class:"detail-section"},m$={class:"preformatted-text"},v$={class:"detail-section"},g$={class:"team-grid"},_$={class:"team-member"},b$={class:"team-name"},y$={key:0,class:"team-license"},w$={key:0,class:"team-member"},x$={class:"team-name"},A$={key:1,class:"team-member full-width"},S$={class:"assistants-container"},k$={class:"assistants-list"},C$={key:2,class:"detail-section alert-section"},E$={key:3,class:"detail-section"},L$={class:"preformatted-text"},N$={key:4,class:"detail-section alert-followup"},P$={class:"modal-body"},$$={class:"detail-section"},T$={class:"modal-date"},I$={class:"detail-section"},D$={class:"detail-grid"},R$={key:0,class:"detail-item"},O$={key:1,class:"detail-item"},M$={key:2,class:"detail-item"},F$={key:3,class:"detail-item"},B$={key:0,class:"detail-section alert-section"},j$={key:1,class:"detail-section"},z$={class:"modal-body"},U$={class:"detail-section"},V$={class:"modal-date"},q$={key:0,class:"detail-section"},H$={key:1,class:"detail-section results-section"},G$={key:2,class:"detail-section"},W$={key:3,class:"detail-section"},Z$={key:4,class:"detail-section"},K$={__name:"MedicalHistory",props:{animalId:{type:[String,Number],required:!0}},setup(e){const t=e,n=zr(),i=ve("resumen"),s=ve(!1),r=ve(null),l=ve({consultas:[],vacunas:[],cirugias:[],desparasitaciones:[],examenes:[]}),c=ve(null),d=ve(null),p=ve(null),f=ve(null),v=ve(null),w=We(()=>{var ae,te,se,de,Ae;return[{id:"resumen",label:"Resumen",icon:""},{id:"consultas",label:"Consultas",icon:"",count:((ae=l.value.consultas)==null?void 0:ae.length)||0},{id:"vacunas",label:"Vacunas",icon:"",count:((te=l.value.vacunas)==null?void 0:te.length)||0},{id:"cirugias",label:"Cirugas",icon:"",count:((se=l.value.cirugias)==null?void 0:se.length)||0},{id:"desparasitaciones",label:"Desparasitacin",icon:"",count:((de=l.value.desparasitaciones)==null?void 0:de.length)||0},{id:"examenes",label:"Exmenes",icon:"",count:((Ae=l.value.examenes)==null?void 0:Ae.length)||0}]}),m=We(()=>!l.value.consultas||l.value.consultas.length===0?null:l.value.consultas[0]);function y(ae){c.value=ae}function A(ae){d.value=ae}function N(ae){p.value=ae}function k(ae){f.value=ae}function T(ae){v.value=ae}function I(){c.value=null,d.value=null,p.value=null,f.value=null,v.value=null}async function j(){var ae,te;if(!t.animalId){r.value="No se ha seleccionado un animal";return}s.value=!0,r.value=null;try{const se=await n.fetchHistorialClinico(t.animalId);se.data?l.value=se.data:l.value=se,l.value.consultas=l.value.consultas||[],l.value.vacunas=l.value.vacunas||[],l.value.cirugias=l.value.cirugias||[],l.value.desparasitaciones=l.value.desparasitaciones||[],l.value.examenes=l.value.examenes||[],l.value.consultas.length>0&&l.value.consultas.sort((de,Ae)=>new Date(Ae.fecha_consulta)-new Date(de.fecha_consulta))}catch(se){console.error(" Error cargando historial:",se),r.value=((te=(ae=se.response)==null?void 0:ae.data)==null?void 0:te.message)||"Error al cargar el historial clnico"}finally{s.value=!1}}function K(ae){return{esterilizacion:"Esterilizacin",castracion:"Castracin",ortopedica:"Ortopdica",abdominal:"Abdominal",oftalmologica:"Oftalmolgica",dental:"Dental",oncologica:"Oncolgica",emergencia:"Emergencia",otra:"Otra"}[ae]||ae}function W(ae){return{programada:"Programada",realizada:"Realizada",cancelada:"Cancelada"}[ae]||ae}function H(ae){return{exitosa:"Exitosa",con_complicaciones:"Con complicaciones",fallida:"Fallida"}[ae]||ae}function F(ae){if(!ae)return"N/A";const te=Math.floor(ae/60),se=ae%60;return te>0?se>0?`${te}h ${se}min`:`${te}h`:`${se}min`}function R(ae){return{en_tratamiento:" En Tratamiento",en_recuperacion:" En Recuperacin",estable:" Estable"}[ae]||ae}function z(ae){return{esterilizacion:"purple",castracion:"purple",ortopedica:"blue",abdominal:"orange",emergencia:"red",oncologica:"pink",oftalmologica:"cyan",dental:"green"}[ae]||"gray"}function x(ae){var te,se;return ae.cirujano?ae.cirujano.nombre_completo||`${((te=ae.cirujano.usuario)==null?void 0:te.nombres)||""} ${((se=ae.cirujano.usuario)==null?void 0:se.apellidos)||""}`.trim()||"Veterinario":"No especificado"}function $(ae){var te,se;return((te=ae.cirujano)==null?void 0:te.tarjeta_profesional)||((se=ae.cirujano)==null?void 0:se.numero_tarjeta_profesional)||null}function Z(ae){var te,se;return ae.anestesiologo?ae.anestesiologo.nombre_completo||`${((te=ae.anestesiologo.usuario)==null?void 0:te.nombres)||""} ${((se=ae.anestesiologo.usuario)==null?void 0:se.apellidos)||""}`.trim()||"Veterinario":"No especificado"}function b(ae){return(ae.tipo_cirugia==="esterilizacion"||ae.tipo_cirugia==="castracion")&&ae.estado==="realizada"&&ae.resultado==="exitosa"}function S(ae){return ae?new Date(ae).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"}):"N/A"}function Q(ae){return ae?new Date(ae).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function U(ae){var te;return ae!=null&&ae.nombre_vacuna?ae.nombre_vacuna:(te=ae==null?void 0:ae.tipo_vacuna)!=null&&te.nombre?ae.tipo_vacuna.nombre:typeof(ae==null?void 0:ae.tipo_vacuna)=="string"?ae.tipo_vacuna:ae!=null&&ae.nombre?ae.nombre:"Vacuna"}function le(ae){var te;return((te=ae==null?void 0:ae.tipo_vacuna)==null?void 0:te.codigo)||(ae==null?void 0:ae.codigo)||null}function xe(ae){var te;return ae!=null&&ae.fecha_aplicacion?ae.fecha_aplicacion:(te=ae==null?void 0:ae.pivot)!=null&&te.fecha_aplicacion?ae.pivot.fecha_aplicacion:ae!=null&&ae.created_at?ae.created_at:null}function ke(ae){var te,se,de;return(ae==null?void 0:ae.fecha_proxima_dosis)||(ae==null?void 0:ae.proxima_aplicacion)||(ae==null?void 0:ae.fecha_proxima)||((te=ae==null?void 0:ae.pivot)==null?void 0:te.fecha_proxima_dosis)||((se=ae==null?void 0:ae.pivot)==null?void 0:se.proxima_aplicacion)||((de=ae==null?void 0:ae.pivot)==null?void 0:de.fecha_proxima)||null}function Le(ae){var te;return(ae==null?void 0:ae.lote)||((te=ae==null?void 0:ae.pivot)==null?void 0:te.lote)||null}function X(ae,te){var se;return ae!=null&&ae[te]?ae[te]:(se=ae==null?void 0:ae.pivot)!=null&&se[te]?ae.pivot[te]:null}function he(ae){var te;if(ae!=null&&ae.veterinario){const se=ae.veterinario;return se.nombre_completo||`${se.nombres||""} ${se.apellidos||""}`.trim()||"Veterinario no especificado"}return(te=ae==null?void 0:ae.pivot)!=null&&te.veterinario_nombre?ae.pivot.veterinario_nombre:null}function J(ae){return{subcutanea:"Subcutnea",intramuscular:"Intramuscular",intranasal:"Intranasal",oral:"Oral",intravenosa:"Intravenosa"}[ae]||ae}function B(ae){return{1:"Primera dosis",2:"Segunda dosis",3:"Tercera dosis",refuerzo:"Refuerzo anual"}[ae]||`Dosis ${ae}`}function V(ae){return{general:"General",emergencia:"Emergencia",seguimiento:"Seguimiento",especializada:"Especializada",control:"Control"}[ae]||ae}function Y(ae){return{pendiente:"Pendiente",completado:"Completado",cancelado:"Cancelado",en_proceso:"En Proceso"}[ae]||ae}function ee(ae){return ae.peso||ae.temperatura||ae.frecuencia_cardiaca||ae.frecuencia_respiratoria}function fe(ae,te){return ae?ae.length>te?ae.substring(0,te)+"...":ae:""}return Kn(()=>t.animalId,ae=>{ae&&j()},{immediate:!0}),yn(()=>{t.animalId&&j()}),(ae,te)=>{var se,de,Ae,ne;return D(),M("div",JL,[o("div",YL,[(D(!0),M(rt,null,ht(w.value,ge=>(D(),M("button",{key:ge.id,onClick:Me=>i.value=ge.id,class:ot(["tab-button",{active:i.value===ge.id}])},[je(P(ge.icon)+" "+P(ge.label)+" ",1),ge.count!==void 0?(D(),M("span",QL,P(ge.count),1)):_e("",!0)],10,XL))),128))]),s.value?(D(),M("div",eN,[...te[6]||(te[6]=[o("div",{class:"spinner"},null,-1),o("p",null,"Cargando historial...",-1)])])):r.value?(D(),M("div",tN,[o("p",nN," "+P(r.value),1),o("button",{onClick:j,class:"retry-button"},"Reintentar")])):(D(),M("div",oN,[$e(o("div",iN,[o("div",aN,[o("div",sN,[te[8]||(te[8]=o("div",{class:"summary-icon"},"",-1)),o("div",rN,[o("h4",null,P(((se=l.value.consultas)==null?void 0:se.length)||0),1),te[7]||(te[7]=o("p",null,"Consultas registradas",-1))])]),o("div",lN,[te[10]||(te[10]=o("div",{class:"summary-icon"},"",-1)),o("div",cN,[o("h4",null,P(((de=l.value.vacunas)==null?void 0:de.length)||0),1),te[9]||(te[9]=o("p",null,"Vacunas aplicadas",-1))])]),o("div",uN,[te[12]||(te[12]=o("div",{class:"summary-icon"},"",-1)),o("div",dN,[o("h4",null,P(((Ae=l.value.cirugias)==null?void 0:Ae.length)||0),1),te[11]||(te[11]=o("p",null,"Cirugas realizadas",-1))])]),o("div",fN,[te[14]||(te[14]=o("div",{class:"summary-icon"},"",-1)),o("div",pN,[o("h4",null,P(((ne=l.value.examenes)==null?void 0:ne.length)||0),1),te[13]||(te[13]=o("p",null,"Exmenes de laboratorio",-1))])])]),m.value?(D(),M("div",hN,[te[18]||(te[18]=o("h4",null,"ltima consulta",-1)),o("div",{class:"consult-card clickable",onClick:te[0]||(te[0]=ge=>y(m.value))},[o("div",mN,[o("span",vN," "+P(S(m.value.fecha_consulta)),1),o("span",{class:ot(["consult-type",m.value.tipo_consulta])},P(V(m.value.tipo_consulta)),3)]),o("p",null,[te[15]||(te[15]=o("strong",null,"Motivo:",-1)),je(" "+P(m.value.motivo_consulta),1)]),o("p",null,[te[16]||(te[16]=o("strong",null,"Diagnstico:",-1)),je(" "+P(m.value.diagnostico),1)]),te[17]||(te[17]=o("div",{class:"view-more"}," Click para ver detalles completos",-1))])])):_e("",!0)],512),[[Nr,i.value==="resumen"]]),$e(o("div",gN,[!l.value.consultas||l.value.consultas.length===0?(D(),M("div",_N,[...te[19]||(te[19]=[o("p",null," No hay consultas registradas",-1)])])):(D(),M("div",bN,[(D(!0),M(rt,null,ht(l.value.consultas,ge=>(D(),M("div",{key:ge.id,class:"timeline-item clickable",onClick:Me=>y(ge)},[te[23]||(te[23]=o("div",{class:"timeline-marker"},null,-1)),o("div",wN,[o("div",xN,[o("h4",null,P(S(ge.fecha_consulta)),1),o("span",{class:ot(["badge",ge.tipo_consulta])},P(V(ge.tipo_consulta)),3)]),o("div",AN,[o("p",null,[te[20]||(te[20]=o("strong",null,"Motivo:",-1)),je(" "+P(ge.motivo_consulta),1)]),ge.diagnostico?(D(),M("p",SN,[te[21]||(te[21]=o("strong",null,"Diagnstico:",-1)),je(" "+P(fe(ge.diagnostico,100)),1)])):_e("",!0),te[22]||(te[22]=o("div",{class:"view-more"}," Click para ver detalles completos",-1))])])],8,yN))),128))]))],512),[[Nr,i.value==="consultas"]]),$e(o("div",kN,[!l.value.vacunas||l.value.vacunas.length===0?(D(),M("div",CN,[...te[24]||(te[24]=[o("p",null," No hay vacunas registradas",-1)])])):(D(),M("div",EN,[(D(!0),M(rt,null,ht(l.value.vacunas,ge=>(D(),M("div",{key:ge.id,class:"info-card clickable",onClick:Me=>A(ge)},[o("div",NN,[o("h4",null,P(U(ge)),1),o("span",PN,P(S(xe(ge))),1)]),o("div",$N,[le(ge)?(D(),M("p",TN,[te[25]||(te[25]=o("strong",null,"Cdigo:",-1)),je(" "+P(le(ge)),1)])):_e("",!0),X(ge,"nombre_vacuna")?(D(),M("p",IN,[te[26]||(te[26]=o("strong",null,"Nombre:",-1)),je(" "+P(X(ge,"nombre_vacuna")),1)])):_e("",!0),X(ge,"dosis")||X(ge,"via_administracion")?(D(),M("div",DN,[X(ge,"dosis")?(D(),M("span",RN,"  "+P(X(ge,"dosis"))+" ml ",1)):_e("",!0),X(ge,"via_administracion")?(D(),M("span",ON,"  "+P(J(X(ge,"via_administracion"))),1)):_e("",!0)])):_e("",!0),X(ge,"numero_dosis")?(D(),M("p",MN,[o("strong",null,P(B(X(ge,"numero_dosis"))),1)])):_e("",!0),ke(ge)?(D(),M("p",FN,[te[27]||(te[27]=o("strong",null,"Prxima dosis:",-1)),je(" "+P(S(ke(ge))),1)])):_e("",!0),te[28]||(te[28]=o("div",{class:"view-more"}," Ver detalles completos",-1))])],8,LN))),128))]))],512),[[Nr,i.value==="vacunas"]]),$e(o("div",BN,[!l.value.cirugias||l.value.cirugias.length===0?(D(),M("div",jN,[...te[29]||(te[29]=[o("p",null," No hay cirugas registradas",-1)])])):(D(),M("div",zN,[(D(!0),M(rt,null,ht(l.value.cirugias,ge=>(D(),M("div",{key:ge.id,class:"info-card surgery-card clickable",onClick:Me=>N(ge)},[o("div",VN,[o("div",qN,[o("h4",null,P(K(ge.tipo_cirugia)),1),o("div",HN,[o("span",{class:ot(["mini-badge",z(ge.tipo_cirugia)])},P(K(ge.tipo_cirugia)),3),o("span",{class:ot(["mini-badge","estado",ge.estado])},P(W(ge.estado)),3)])]),o("span",GN,P(S(ge.fecha_realizacion||ge.fecha_programada)),1)]),o("div",WN,[ge.descripcion?(D(),M("p",ZN,P(fe(ge.descripcion,80)),1)):_e("",!0),o("div",KN,[o("span",JN," "+P(F(ge.duracion)),1),ge.resultado?(D(),M("span",{key:0,class:ot(["info-pill","resultado",ge.resultado])},P(H(ge.resultado)),3)):_e("",!0)]),x(ge)?(D(),M("p",YN,"  "+P(x(ge)),1)):_e("",!0),b(ge)?(D(),M("div",XN,"  Animal esterilizado ")):_e("",!0),te[30]||(te[30]=o("div",{class:"view-more"}," Ver detalles completos",-1))])],8,UN))),128))]))],512),[[Nr,i.value==="cirugias"]]),$e(o("div",QN,[!l.value.desparasitaciones||l.value.desparasitaciones.length===0?(D(),M("div",eP,[...te[31]||(te[31]=[o("p",null," No hay desparasitaciones registradas",-1)])])):(D(),M("div",tP,[(D(!0),M(rt,null,ht(l.value.desparasitaciones,ge=>(D(),M("div",{key:ge.id,class:"info-card clickable",onClick:Me=>k(ge)},[o("div",oP,[o("h4",null,P(ge.producto||"Desparasitacin"),1),o("span",iP,P(S(ge.fecha_aplicacion)),1)]),o("div",aP,[ge.tipo?(D(),M("p",sP,[te[32]||(te[32]=o("strong",null,"Tipo:",-1)),je(" "+P(ge.tipo),1)])):_e("",!0),ge.dosis?(D(),M("p",rP,[te[33]||(te[33]=o("strong",null,"Dosis:",-1)),je(" "+P(ge.dosis),1)])):_e("",!0),te[34]||(te[34]=o("div",{class:"view-more"}," Ver detalles",-1))])],8,nP))),128))]))],512),[[Nr,i.value==="desparasitaciones"]]),$e(o("div",lP,[!l.value.examenes||l.value.examenes.length===0?(D(),M("div",cP,[...te[35]||(te[35]=[o("p",null," No hay exmenes registrados",-1)])])):(D(),M("div",uP,[(D(!0),M(rt,null,ht(l.value.examenes,ge=>(D(),M("div",{key:ge.id,class:"info-card exam-card clickable",onClick:Me=>T(ge)},[o("div",fP,[o("h4",null,P(ge.tipo_examen),1),o("span",pP,P(S(ge.fecha_examen)),1)]),o("div",hP,[ge.descripcion?(D(),M("p",mP,P(fe(ge.descripcion,80)),1)):_e("",!0),ge.estado?(D(),M("p",{key:1,class:ot(["status",ge.estado])},P(Y(ge.estado)),3)):_e("",!0),te[36]||(te[36]=o("div",{class:"view-more"}," Ver resultados",-1))])],8,dP))),128))]))],512),[[Nr,i.value==="examenes"]])])),c.value?(D(),M("div",{key:3,class:"modal-overlay",onClick:I},[o("div",{class:"modal-content",onClick:te[1]||(te[1]=Tt(()=>{},["stop"]))},[o("div",{class:"modal-header"},[te[37]||(te[37]=o("h3",null," Detalle de Consulta",-1)),o("button",{class:"close-btn",onClick:I},"")]),o("div",vP,[o("div",gP,[te[40]||(te[40]=o("h4",null,"Informacin General",-1)),o("div",_P,[o("div",bP,[te[38]||(te[38]=o("strong",null,"Fecha:",-1)),o("span",null,P(S(c.value.fecha_consulta)),1)]),o("div",yP,[te[39]||(te[39]=o("strong",null,"Tipo:",-1)),o("span",{class:ot(["badge",c.value.tipo_consulta])},P(V(c.value.tipo_consulta)),3)])])]),o("div",wP,[te[41]||(te[41]=o("h4",null,"Motivo de Consulta",-1)),o("p",null,P(c.value.motivo_consulta),1)]),c.value.sintomas?(D(),M("div",xP,[te[42]||(te[42]=o("h4",null,"Sntomas",-1)),o("p",null,P(c.value.sintomas),1)])):_e("",!0),ee(c.value)?(D(),M("div",AP,[te[47]||(te[47]=o("h4",null,"Signos Vitales",-1)),o("div",SP,[c.value.peso?(D(),M("div",kP,[te[43]||(te[43]=o("strong",null,"Peso:",-1)),je(" "+P(c.value.peso)+" kg ",1)])):_e("",!0),c.value.temperatura?(D(),M("div",CP,[te[44]||(te[44]=o("strong",null,"Temperatura:",-1)),je(" "+P(c.value.temperatura)+"C ",1)])):_e("",!0),c.value.frecuencia_cardiaca?(D(),M("div",EP,[te[45]||(te[45]=o("strong",null,"Frecuencia Cardaca:",-1)),je(" "+P(c.value.frecuencia_cardiaca)+" lpm ",1)])):_e("",!0),c.value.frecuencia_respiratoria?(D(),M("div",LP,[te[46]||(te[46]=o("strong",null,"Frecuencia Respiratoria:",-1)),je(" "+P(c.value.frecuencia_respiratoria)+" rpm ",1)])):_e("",!0)])])):_e("",!0),c.value.diagnostico?(D(),M("div",NP,[te[48]||(te[48]=o("h4",null,"Diagnstico",-1)),o("p",null,P(c.value.diagnostico),1)])):_e("",!0),c.value.tratamientos&&c.value.tratamientos.length>0?(D(),M("div",PP,[te[49]||(te[49]=o("h4",null,"Tratamientos Prescritos",-1)),o("div",$P,[(D(!0),M(rt,null,ht(c.value.tratamientos,ge=>(D(),M("div",{key:ge.id,class:"treatment-item"},[o("p",null,[o("strong",null,P(ge.descripcion),1)]),ge.dosis?(D(),M("p",TP,"Dosis: "+P(ge.dosis),1)):_e("",!0),ge.frecuencia?(D(),M("p",IP,"Frecuencia: "+P(ge.frecuencia),1)):_e("",!0),ge.duracion_dias?(D(),M("p",DP,"Duracin: "+P(ge.duracion_dias)+" das",1)):_e("",!0)]))),128))])])):_e("",!0),c.value.observaciones?(D(),M("div",RP,[te[50]||(te[50]=o("h4",null,"Observaciones",-1)),o("p",null,P(c.value.observaciones),1)])):_e("",!0),c.value.veterinario?(D(),M("div",OP,[te[51]||(te[51]=o("h4",null,"Veterinario Responsable",-1)),o("p",null," "+P(c.value.veterinario.nombre_completo||`${c.value.veterinario.nombres} ${c.value.veterinario.apellidos}`),1),c.value.veterinario.numero_tarjeta_profesional?(D(),M("p",MP," Tarjeta Profesional: "+P(c.value.veterinario.numero_tarjeta_profesional),1)):_e("",!0)])):_e("",!0)])])])):_e("",!0),d.value?(D(),M("div",{key:4,class:"modal-overlay",onClick:I},[o("div",{class:"modal-content",onClick:te[2]||(te[2]=Tt(()=>{},["stop"]))},[o("div",{class:"modal-header"},[te[52]||(te[52]=o("h3",null," Detalle de Vacuna",-1)),o("button",{class:"close-btn",onClick:I},"")]),o("div",FP,[o("div",BP,[o("h4",null,P(U(d.value)),1),o("p",jP," "+P(S(xe(d.value))),1),le(d.value)?(D(),M("p",zP,[te[53]||(te[53]=o("strong",null,"Cdigo:",-1)),je(" "+P(le(d.value)),1)])):_e("",!0)]),X(d.value,"nombre_vacuna")?(D(),M("div",UP,[te[58]||(te[58]=o("h4",null,"Producto Comercial",-1)),o("div",VP,[o("div",qP,[te[54]||(te[54]=o("strong",null,"Nombre comercial:",-1)),o("span",null,P(X(d.value,"nombre_vacuna")),1)]),X(d.value,"fabricante")?(D(),M("div",HP,[te[55]||(te[55]=o("strong",null,"Laboratorio:",-1)),o("span",null,P(X(d.value,"fabricante")),1)])):_e("",!0),Le(d.value)?(D(),M("div",GP,[te[56]||(te[56]=o("strong",null,"Lote:",-1)),o("span",null,P(Le(d.value)),1)])):_e("",!0),X(d.value,"fecha_vencimiento")?(D(),M("div",WP,[te[57]||(te[57]=o("strong",null,"Fecha de vencimiento:",-1)),o("span",null,P(S(X(d.value,"fecha_vencimiento"))),1)])):_e("",!0)])])):_e("",!0),o("div",ZP,[te[63]||(te[63]=o("h4",null,"Informacin de Aplicacin",-1)),o("div",KP,[X(d.value,"dosis")?(D(),M("div",JP,[te[59]||(te[59]=o("strong",null,"Dosis:",-1)),o("span",null,P(X(d.value,"dosis"))+" ml",1)])):_e("",!0),X(d.value,"via_administracion")?(D(),M("div",YP,[te[60]||(te[60]=o("strong",null,"Va de aplicacin:",-1)),o("span",null,P(J(X(d.value,"via_administracion"))),1)])):_e("",!0),X(d.value,"sitio_aplicacion")?(D(),M("div",XP,[te[61]||(te[61]=o("strong",null,"Sitio de aplicacin:",-1)),o("span",null,P(X(d.value,"sitio_aplicacion")),1)])):_e("",!0),X(d.value,"numero_dosis")?(D(),M("div",QP,[te[62]||(te[62]=o("strong",null,"Nmero de dosis:",-1)),o("span",null,P(B(X(d.value,"numero_dosis"))),1)])):_e("",!0)])]),ke(d.value)?(D(),M("div",e$,[te[64]||(te[64]=o("h4",null," Prxima dosis",-1)),o("p",null,P(S(ke(d.value))),1)])):_e("",!0),X(d.value,"observaciones")?(D(),M("div",t$,[te[65]||(te[65]=o("h4",null,"Observaciones",-1)),o("p",null,P(X(d.value,"observaciones")),1)])):_e("",!0),he(d.value)?(D(),M("div",n$,[te[66]||(te[66]=o("h4",null,"Veterinario Aplicador",-1)),o("p",null," "+P(he(d.value)),1)])):_e("",!0)])])])):_e("",!0),p.value?(D(),M("div",{key:5,class:"modal-overlay",onClick:I},[o("div",{class:"modal-content large-modal",onClick:te[3]||(te[3]=Tt(()=>{},["stop"]))},[o("div",o$,[o("div",null,[te[67]||(te[67]=o("h3",null," Detalle de Ciruga",-1)),o("div",i$,[o("span",{class:ot(["modal-badge",z(p.value.tipo_cirugia)])},P(K(p.value.tipo_cirugia)),3),o("span",{class:ot(["modal-badge","estado",p.value.estado])},P(W(p.value.estado)),3),p.value.resultado?(D(),M("span",{key:0,class:ot(["modal-badge","resultado",p.value.resultado])},P(H(p.value.resultado)),3)):_e("",!0)])]),o("button",{class:"close-btn",onClick:I},"")]),o("div",a$,[b(p.value)?(D(),M("div",s$,[...te[68]||(te[68]=[o("div",{class:"alert-content"},[o("span",{class:"alert-icon"},""),o("div",null,[o("h4",null,"Animal Esterilizado")])],-1)])])):_e("",!0),o("div",r$,[te[73]||(te[73]=o("h4",null," Informacin General",-1)),o("div",l$,[o("div",c$,[te[69]||(te[69]=o("strong",null,"Fecha Programada:",-1)),o("span",null," "+P(S(p.value.fecha_programada)),1)]),p.value.fecha_realizacion?(D(),M("div",u$,[te[70]||(te[70]=o("strong",null,"Fecha de Realizacin:",-1)),o("span",null," "+P(Q(p.value.fecha_realizacion)),1)])):_e("",!0),o("div",d$,[te[71]||(te[71]=o("strong",null,"Duracin:",-1)),o("span",null," "+P(F(p.value.duracion)),1)]),p.value.estado_animal?(D(),M("div",f$,[te[72]||(te[72]=o("strong",null,"Estado del Animal:",-1)),o("span",null,P(R(p.value.estado_animal)),1)])):_e("",!0)])]),o("div",p$,[te[74]||(te[74]=o("h4",null," Descripcin del Procedimiento",-1)),o("p",null,P(p.value.descripcion),1)]),p.value.tipo_anestesia?(D(),M("div",h$,[te[75]||(te[75]=o("h4",null," Protocolo Anestsico",-1)),o("p",m$,P(p.value.tipo_anestesia),1)])):_e("",!0),o("div",v$,[te[82]||(te[82]=o("h4",null," Equipo Quirrgico",-1)),o("div",g$,[o("div",_$,[te[77]||(te[77]=o("span",{class:"team-icon"},"",-1)),o("div",null,[te[76]||(te[76]=o("p",{class:"team-role"},"Cirujano",-1)),o("p",b$,P(x(p.value)),1),$(p.value)?(D(),M("p",y$," TP: "+P($(p.value)),1)):_e("",!0)])]),p.value.anestesiologo?(D(),M("div",w$,[te[79]||(te[79]=o("span",{class:"team-icon"},"",-1)),o("div",null,[te[78]||(te[78]=o("p",{class:"team-role"},"Anestesilogo",-1)),o("p",x$,P(Z(p.value)),1)])])):_e("",!0),p.value.asistentes&&p.value.asistentes.length>0?(D(),M("div",A$,[te[81]||(te[81]=o("span",{class:"team-icon"},"",-1)),o("div",S$,[te[80]||(te[80]=o("p",{class:"team-role"},"Asistentes",-1)),o("div",k$,[(D(!0),M(rt,null,ht(p.value.asistentes,(ge,Me)=>(D(),M("span",{key:Me,class:"assistant-tag"},P(ge),1))),128))])])])):_e("",!0)])]),p.value.complicaciones?(D(),M("div",C$,[te[83]||(te[83]=o("h4",null," Complicaciones",-1)),o("p",null,P(p.value.complicaciones),1)])):_e("",!0),p.value.postoperatorio?(D(),M("div",E$,[te[84]||(te[84]=o("h4",null," Indicaciones Postoperatorias",-1)),o("p",L$,P(p.value.postoperatorio),1)])):_e("",!0),p.value.seguimiento_requerido?(D(),M("div",N$,[...te[85]||(te[85]=[o("div",{class:"alert-content"},[o("span",{class:"alert-icon"},""),o("div",null,[o("h4",null,"Requiere Seguimiento"),o("p",null,"Este animal necesita controles postoperatorios")])],-1)])])):_e("",!0)])])])):_e("",!0),f.value?(D(),M("div",{key:6,class:"modal-overlay",onClick:I},[o("div",{class:"modal-content",onClick:te[4]||(te[4]=Tt(()=>{},["stop"]))},[o("div",{class:"modal-header"},[te[86]||(te[86]=o("h3",null," Detalle de Desparasitacin",-1)),o("button",{class:"close-btn",onClick:I},"")]),o("div",P$,[o("div",$$,[o("h4",null,P(f.value.producto||"Desparasitacin"),1),o("p",T$," "+P(S(f.value.fecha_aplicacion)),1)]),o("div",I$,[o("div",D$,[f.value.tipo?(D(),M("div",R$,[te[87]||(te[87]=o("strong",null,"Tipo:",-1)),je(" "+P(f.value.tipo),1)])):_e("",!0),f.value.dosis?(D(),M("div",O$,[te[88]||(te[88]=o("strong",null,"Dosis:",-1)),je(" "+P(f.value.dosis),1)])):_e("",!0),f.value.peso_animal?(D(),M("div",M$,[te[89]||(te[89]=o("strong",null,"Peso del Animal:",-1)),je(" "+P(f.value.peso_animal)+" kg ",1)])):_e("",!0),f.value.via_administracion?(D(),M("div",F$,[te[90]||(te[90]=o("strong",null,"Va:",-1)),je(" "+P(f.value.via_administracion),1)])):_e("",!0)])]),f.value.proxima_aplicacion?(D(),M("div",B$,[te[91]||(te[91]=o("h4",null," Prxima Desparasitacin",-1)),o("p",null,P(S(f.value.proxima_aplicacion)),1)])):_e("",!0),f.value.observaciones?(D(),M("div",j$,[te[92]||(te[92]=o("h4",null,"Observaciones",-1)),o("p",null,P(f.value.observaciones),1)])):_e("",!0)])])])):_e("",!0),v.value?(D(),M("div",{key:7,class:"modal-overlay",onClick:I},[o("div",{class:"modal-content large-modal",onClick:te[5]||(te[5]=Tt(()=>{},["stop"]))},[o("div",{class:"modal-header"},[te[93]||(te[93]=o("h3",null," Resultados de Examen",-1)),o("button",{class:"close-btn",onClick:I},"")]),o("div",z$,[o("div",U$,[o("h4",null,P(v.value.tipo_examen),1),o("p",V$," "+P(S(v.value.fecha_examen)),1),v.value.estado?(D(),M("span",{key:0,class:ot(["badge",v.value.estado])},P(Y(v.value.estado)),3)):_e("",!0)]),v.value.descripcion?(D(),M("div",q$,[te[94]||(te[94]=o("h4",null,"Descripcin",-1)),o("p",null,P(v.value.descripcion),1)])):_e("",!0),v.value.resultados?(D(),M("div",H$,[te[95]||(te[95]=o("h4",null,"Resultados",-1)),o("pre",null,P(v.value.resultados),1)])):_e("",!0),v.value.interpretacion?(D(),M("div",G$,[te[96]||(te[96]=o("h4",null,"Interpretacin",-1)),o("p",null,P(v.value.interpretacion),1)])):_e("",!0),v.value.valores_referencia?(D(),M("div",W$,[te[97]||(te[97]=o("h4",null,"Valores de Referencia",-1)),o("p",null,P(v.value.valores_referencia),1)])):_e("",!0),v.value.observaciones?(D(),M("div",Z$,[te[98]||(te[98]=o("h4",null,"Observaciones",-1)),o("p",null,P(v.value.observaciones),1)])):_e("",!0)])])])):_e("",!0)])}}},J$=It(K$,[["__scopeId","data-v-386c02b0"]]),Y$={class:"vet-alerts"},X$={class:"alerts-grid"},Q$={class:"alert-card"},eT={key:0},tT={key:1},nT={class:"alert-card"},oT={key:0},iT={key:1},aT={class:"alert-card"},sT={key:0},rT={key:1},lT={class:"alert-card"},cT={key:0},uT={key:1},dT={__name:"VeterinaryAlerts",setup(e){const t=zr(),n=ve(!0),i=ve([]),s=ve([]),r=ve([]),l=ve([]);function c(p){return p?new Date(p).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit"}):""}async function d(){n.value=!0;try{const p=await vn.getVacunasProximas(30);p!=null&&p.data&&(i.value=p.data.map(f=>{var v,w,m;return{id:f.id,animalName:((w=(v=f.historial_clinico)==null?void 0:v.animal)==null?void 0:w.nombre)||"Animal",vaccine:((m=f.tipo_vacuna)==null?void 0:m.nombre)||"Vacuna",nextDoseDate:c(f.fecha_proxima)}})),await t.fetchAlertasStockBajo(),l.value=t.alertasStockBajo.map(f=>{var v;return{id:f.id,name:f.nombre||((v=f.producto)==null?void 0:v.nombre),message:f.mensaje||`Stock bajo (quedan ${f.stock_actual||f.cantidad} unidades)`}});try{await t.fetchAlertas();const f=t.alertas;s.value=f.filter(v=>v.tipo==="postoperatorio"||v.tipo==="cirugia").map(v=>{var w,m;return{id:v.id,animalName:((w=v.animal)==null?void 0:w.nombre)||"Animal",surgeryType:((m=v.cirugia)==null?void 0:m.tipo_cirugia)||v.descripcion||"Ciruga",controlDate:c(v.fecha_control||v.fecha)}}),r.value=f.filter(v=>v.tipo==="tratamiento_cronico"||v.tipo==="tratamiento").map(v=>{var w;return{id:v.id,animalName:((w=v.animal)==null?void 0:w.nombre)||"Animal",condition:v.condicion||v.descripcion||"Tratamiento",reviewDate:c(v.fecha_revision||v.fecha)}})}catch(f){console.log("Alertas generales no disponibles:",f.message)}try{await t.fetchRecordatoriosVacunas(),t.recordatoriosVacunas.forEach(v=>{var m,y;i.value.some(A=>A.id===v.id)||i.value.push({id:`rec-${v.id}`,animalName:((m=v.animal)==null?void 0:m.nombre)||"Animal",vaccine:((y=v.tipo_vacuna)==null?void 0:y.nombre)||v.vacuna||"Vacuna",nextDoseDate:c(v.fecha_programada)})})}catch(f){console.log("Recordatorios no disponibles:",f.message)}}catch(p){console.error("Error cargando alertas veterinarias:",p)}finally{n.value=!1}}return We(()=>i.value.length+s.value.length+r.value.length+l.value.length),yn(d),(p,f)=>(D(),M("section",Y$,[f[7]||(f[7]=o("div",{class:"form-header"},[o("h2",{class:"h2-tipografia-govco"},"Alertas veterinarias"),o("p",{class:"text2-tipografia-govco"}," Prximas vacunaciones, controles postquirrgicos, tratamientos crnicos y stock de medicamentos. ")],-1)),o("div",X$,[o("div",Q$,[f[1]||(f[1]=o("h3",null,"Prximas vacunaciones",-1)),i.value.length?(D(),M("ul",eT,[(D(!0),M(rt,null,ht(i.value,v=>(D(),M("li",{key:v.id},[je(P(v.animalName)+"  "+P(v.vaccine)+" ",1),f[0]||(f[0]=o("br",null,null,-1)),o("small",null,"Fecha prxima dosis: "+P(v.nextDoseDate),1)]))),128))])):(D(),M("p",tT,"No hay vacunaciones prximas."))]),o("div",nT,[f[3]||(f[3]=o("h3",null,"Controles postquirrgicos",-1)),s.value.length?(D(),M("ul",oT,[(D(!0),M(rt,null,ht(s.value,v=>(D(),M("li",{key:v.id},[je(P(v.animalName)+"  "+P(v.surgeryType)+" ",1),f[2]||(f[2]=o("br",null,null,-1)),o("small",null,"Control el "+P(v.controlDate),1)]))),128))])):(D(),M("p",iT,"No hay controles postoperatorios pendientes."))]),o("div",aT,[f[5]||(f[5]=o("h3",null,"Tratamientos crnicos",-1)),r.value.length?(D(),M("ul",sT,[(D(!0),M(rt,null,ht(r.value,v=>(D(),M("li",{key:v.id},[je(P(v.animalName)+"  "+P(v.condition)+" ",1),f[4]||(f[4]=o("br",null,null,-1)),o("small",null,"Revisin de control: "+P(v.reviewDate),1)]))),128))])):(D(),M("p",rT,"No hay revisiones de tratamientos crnicos pendientes."))]),o("div",lT,[f[6]||(f[6]=o("h3",null,"Inventario de medicamentos",-1)),l.value.length?(D(),M("ul",cT,[(D(!0),M(rt,null,ht(l.value,v=>(D(),M("li",{key:v.id},P(v.name)+"  "+P(v.message),1))),128))])):(D(),M("p",uT,"No hay alertas de inventario."))])])]))}},fT=It(dT,[["__scopeId","data-v-b091bdde"]]),pT={class:"certificate-generator"},hT={key:0,class:"loading-overlay"},mT={class:"form-section"},vT={class:"form-grid"},gT={class:"input-like-govco"},_T={class:"desplegable-govco","data-type":"basic"},bT=["value"],yT={class:"input-like-govco"},wT={class:"desplegable-govco","data-type":"basic"},xT={class:"input-like-govco"},AT={class:"desplegable-govco","data-type":"basic"},ST=["value"],kT={class:"entradas-de-texto-govco full-width"},CT={__name:"CertificateGenerator",setup(e){const t=zr(),n=jr(),i=ve(!1),s=ve(!0),r=ve([]),l=ve([]),c=un({animalId:"",type:"",veterinarianId:"",notes:""});function d(){console.log(" CertificateGenerator: Inicializando componentes GOV.CO..."),_i(()=>{var w;if((w=window.GOVCo)!=null&&w.init){const m=document.querySelectorAll(".certificate-generator .desplegable-govco");console.log(` Encontrados ${m.length} dropdowns`),m.forEach((y,A)=>{try{window.GOVCo.init(y.parentElement||y),console.log(` Dropdown ${A+1} inicializado`)}catch(N){console.warn(` Error en dropdown ${A+1}:`,N)}})}window.reinitGovCo&&setTimeout(()=>{window.reinitGovCo(),console.log(" reinitGovCo ejecutado")},100)})}async function p(){var w;s.value=!0,console.log(" CertificateGenerator: Cargando datos iniciales...");try{console.log(" Cargando animales...");let m=[];try{await n.fetchAnimals({per_page:100}),m=n.animals||[],console.log(" Animales desde store:",m.length)}catch(y){console.warn(" Error con store, intentando servicio directo:",y);const A=await Ga.getAll();m=((w=A==null?void 0:A.data)==null?void 0:w.data)||(A==null?void 0:A.data)||A||[],console.log(" Animales desde servicio:",m.length)}r.value=(Array.isArray(m)?m:[]).map(y=>({id:y.id,name:y.nombre||y.name,microchip:y.codigo_unico||y.codigo_chip||"Sin chip"})),console.log(" Animales procesados:",r.value.length),console.log(" Cargando veterinarios...");try{const A=await t.fetchVeterinarios()||t.veterinarios||[];l.value=A.map(N=>{var k,T;return{id:N.id,name:`${((k=N.usuario)==null?void 0:k.nombres)||""} ${((T=N.usuario)==null?void 0:T.apellidos)||""}`.trim()||"Veterinario",license:N.tarjeta_profesional||"N/A"}}),console.log(" Veterinarios cargados:",l.value.length)}catch(y){console.error(" Error cargando veterinarios:",y)}await _i(),setTimeout(()=>{d()},200)}catch(m){console.error(" Error cargando datos:",m),alert("Error al cargar datos. Por favor recargue la pgina.")}finally{s.value=!1,console.log(" CertificateGenerator: Carga de datos completada")}}Kn(()=>r.value.length,async w=>{w>0&&(console.log(" Animales actualizados, reinicializando GOV.CO..."),await _i(),setTimeout(()=>{d()},100))});function f(){Object.assign(c,{animalId:"",type:"",veterinarianId:"",notes:""})}async function v(){var w,m;if(!c.animalId||!c.type||!c.veterinarianId){alert("Debe completar los campos obligatorios");return}i.value=!0;try{console.log("Generando certificado:",c);let y=!1;switch(c.type){case"vaccination":y=await t.generarCertificadoVacunacion(c.animalId);break;case"sterilization":case"health":y=await t.generarCertificadoSalud(c.animalId);break;default:throw new Error("Tipo de certificado no soportado")}y&&alert("Certificado generado y descargado exitosamente")}catch(y){console.error("Error generando certificado:",y),alert(((m=(w=y.response)==null?void 0:w.data)==null?void 0:m.message)||"Error al generar el certificado. El endpoint podra no estar disponible an.")}finally{i.value=!1}}return yn(async()=>{console.log(" CertificateGenerator: onMounted"),await p()}),(w,m)=>(D(),M("section",pT,[m[14]||(m[14]=o("div",{class:"form-header"},[o("h2",{class:"h2-tipografia-govco"},"Generacin de certificados"),o("p",{class:"text2-tipografia-govco"}," Genere certificados de vacunacin, esterilizacin o salud general. ")],-1)),s.value?(D(),M("div",hT,[...m[4]||(m[4]=[o("div",{class:"spinner"},null,-1),o("p",null,"Cargando datos...",-1)])])):(D(),M("form",{key:1,onSubmit:Tt(v,["prevent"])},[o("div",mT,[m[12]||(m[12]=o("h3",{class:"h5-tipografia-govco section-title"},"Datos del certificado",-1)),o("div",vT,[o("div",gT,[m[6]||(m[6]=o("label",{for:"animal"},[je(" Animal"),o("span",{"aria-required":"true"},"*")],-1)),o("div",_T,[$e(o("select",{id:"animal","onUpdate:modelValue":m[0]||(m[0]=y=>c.animalId=y),class:"browser-default"},[m[5]||(m[5]=o("option",{value:"",disabled:""},"Seleccione un animal",-1)),(D(!0),M(rt,null,ht(r.value,y=>(D(),M("option",{key:y.id,value:y.id},P(y.name)+" ("+P(y.microchip)+") ",9,bT))),128))],512),[[yt,c.animalId]])])]),o("div",yT,[m[8]||(m[8]=o("label",{for:"type"},[je(" Tipo de certificado"),o("span",{"aria-required":"true"},"*")],-1)),o("div",wT,[$e(o("select",{id:"type","onUpdate:modelValue":m[1]||(m[1]=y=>c.type=y),class:"browser-default"},[...m[7]||(m[7]=[o("option",{value:"",disabled:""},"Seleccione tipo",-1),o("option",{value:"vaccination"},"Vacunacin",-1),o("option",{value:"sterilization"},"Esterilizacin",-1),o("option",{value:"health"},"Salud general",-1)])],512),[[yt,c.type]])])]),o("div",xT,[m[10]||(m[10]=o("label",{for:"veterinarian"},[je(" Veterinario responsable"),o("span",{"aria-required":"true"},"*")],-1)),o("div",AT,[$e(o("select",{id:"veterinarian","onUpdate:modelValue":m[2]||(m[2]=y=>c.veterinarianId=y),class:"browser-default"},[m[9]||(m[9]=o("option",{value:"",disabled:""},"Seleccione veterinario",-1)),(D(!0),M(rt,null,ht(l.value,y=>(D(),M("option",{key:y.id,value:y.id},P(y.name)+" ("+P(y.license)+") ",9,ST))),128))],512),[[yt,c.veterinarianId]])])]),o("div",kT,[m[11]||(m[11]=o("label",{for:"notes"},"Observaciones adicionales",-1)),$e(o("textarea",{id:"notes","onUpdate:modelValue":m[3]||(m[3]=y=>c.notes=y),rows:"3",placeholder:"Informacin adicional que desea incluir en el certificado."},null,512),[[lt,c.notes]])])])]),o("div",{class:"form-actions"},[o("button",{type:"button",class:"govco-btn govco-bg-concrete",onClick:f}," Limpiar "),m[13]||(m[13]=o("button",{type:"submit",class:"govco-btn govco-bg-elf-green"}," Generar certificado PDF ",-1))])],32))]))}},ET=It(CT,[["__scopeId","data-v-5d275460"]]),LT={class:"history-viewer"},NT={class:"search-section"},PT={class:"search-grid"},$T={class:"input-wrapper"},TT={class:"search-input-group"},IT=["disabled"],DT={key:0,class:"error-text"},RT={key:0,class:"results-dropdown"},OT=["onClick"],MT={class:"result-info"},FT={class:"result-code"},BT={class:"result-meta"},jT={key:0,class:"animal-info-card"},zT={class:"animal-header"},UT={class:"animal-avatar"},VT=["src","alt"],qT={class:"animal-details"},HT={class:"animal-meta"},GT={key:0,class:"animal-age"},WT={key:2,class:"loading-state"},ZT={__name:"HistoryViewer",setup(e){const t=jr(),n=ve(""),i=ve(!1),s=ve(""),r=ve([]),l=ve(null),c=ve(!1);async function d(){if(!n.value.trim()){s.value="Ingrese un cdigo o nombre para buscar";return}i.value=!0,s.value="",r.value=[];try{await t.fetchAnimals({search:n.value,per_page:10});const f=t.animales||[];f.length===0?s.value="No se encontraron animales con ese criterio":f.length===1?p(f[0]):r.value=f}catch(f){console.error("Error buscando animal:",f),s.value="Error al buscar el animal"}finally{i.value=!1}}function p(f){l.value=f,r.value=[],n.value=f.codigo_unico}return(f,v)=>(D(),M("section",LT,[v[4]||(v[4]=o("div",{class:"form-header"},[o("h2",{class:"h2-tipografia-govco"},"Historial Clnico"),o("p",{class:"text2-tipografia-govco"},"Consulte el historial mdico completo de un animal")],-1)),o("div",NT,[o("div",PT,[o("div",$T,[v[1]||(v[1]=o("label",{for:"searchInput"},"Buscar animal por cdigo o nombre",-1)),o("div",TT,[$e(o("input",{type:"text",id:"searchInput","onUpdate:modelValue":v[0]||(v[0]=w=>n.value=w),placeholder:"AN-2025-00001 o nombre del animal",onKeyup:Cl(d,["enter"]),class:"input-govco"},null,544),[[lt,n.value]]),o("button",{type:"button",onClick:d,class:"btn-search",disabled:i.value},"  Buscar ",8,IT)]),s.value?(D(),M("span",DT,P(s.value),1)):_e("",!0)]),r.value.length>0?(D(),M("div",RT,[v[2]||(v[2]=o("p",{class:"results-label"},"Seleccione un animal:",-1)),(D(!0),M(rt,null,ht(r.value,w=>(D(),M("div",{key:w.id,onClick:m=>p(w),class:"result-item"},[o("div",MT,[o("strong",null,P(w.nombre||"Sin nombre"),1),o("span",FT,P(w.codigo_unico),1)]),o("div",BT,P(w.especie)+"  "+P(w.raza),1)],8,OT))),128))])):_e("",!0)])]),l.value&&!c.value?(D(),M("div",jT,[o("div",zT,[o("div",UT,[o("img",{src:l.value.foto_url||"/placeholder-animal.jpg",alt:l.value.nombre},null,8,VT)]),o("div",qT,[o("h3",null,P(l.value.nombre||"Sin nombre"),1),o("p",HT,P(l.value.codigo_unico)+"  "+P(l.value.especie)+"  "+P(l.value.raza),1),l.value.edad_formateada?(D(),M("p",GT,P(l.value.edad_formateada),1)):_e("",!0)])])])):_e("",!0),l.value?(D(),nn(J$,{key:1,"animal-id":l.value.id},null,8,["animal-id"])):_e("",!0),c.value?(D(),M("div",WT,[...v[3]||(v[3]=[o("div",{class:"spinner"},null,-1),o("p",null,"Cargando historial...",-1)])])):_e("",!0)]))}},KT=It(ZT,[["__scopeId","data-v-85b6e63d"]]),JT={class:"vet-view"},YT={class:"vet-tabs"},XT=["onClick"],QT={class:"vet-tab-content"},e9={__name:"VeterinaryView",setup(e){const t=ve("consultation"),n=[{id:"consultation",label:"Consulta veterinaria"},{id:"vaccination",label:"Vacunacin"},{id:"surgery",label:"Cirugas"},{id:"inventory",label:"Inventario"},{id:"history",label:"Historial clnico"},{id:"alerts",label:"Alertas"},{id:"certificates",label:"Certificados"}];return(i,s)=>(D(),M("div",JT,[s[0]||(s[0]=o("header",{class:"vet-header"},[o("h1",{class:"h2-tipografia-govco"}," Atencin Veterinaria y Bienestar Animal "),o("p",{class:"text2-tipografia-govco"}," Gestin de consultas, vacunaciones, cirugas e inventario de medicamentos. ")],-1)),o("nav",YT,[(D(),M(rt,null,ht(n,r=>o("button",{key:r.id,type:"button",class:ot(["vet-tab-btn",{active:t.value===r.id}]),onClick:l=>t.value=r.id},P(r.label),11,XT)),64))]),o("section",QT,[t.value==="consultation"?(D(),nn(kE,{key:0})):t.value==="vaccination"?(D(),nn(cL,{key:1})):t.value==="surgery"?(D(),nn(PL,{key:2})):t.value==="inventory"?(D(),nn(KL,{key:3})):t.value==="history"?(D(),nn(KT,{key:4})):t.value==="alerts"?(D(),nn(fT,{key:5})):t.value==="certificates"?(D(),nn(ET,{key:6})):_e("",!0)])]))}},t9=It(e9,[["__scopeId","data-v-819115b9"]]),n9={class:"complaint-form"},o9={class:"form-section"},i9={class:"form-grid"},a9={class:"entradas-de-texto-govco full-width"},s9={key:0,class:"error-text"},r9={class:"form-section"},l9={class:"form-grid"},c9={class:"full-width"},u9={class:"address-input-wrapper"},d9=["disabled"],f9={key:0},p9={key:1},h9={key:0,class:"alert-entradas-de-texto-govco"},m9={class:"full-width"},v9={class:"map-container"},g9={class:"map-placeholder"},_9={key:0},b9={key:1},y9={key:0,class:"alert-desplegable-govco"},w9={class:"form-section"},x9={class:"form-grid"},A9={class:"full-width"},S9={key:0,class:"alert-desplegable-govco"},k9={class:"form-section"},C9={class:"form-grid"},E9={class:"checkbox-govco full-width anonymous-checkbox"},L9={key:1,class:"anonymous-notice full-width"},N9={class:"form-section terms-section"},P9={class:"checkbox-govco"},$9={for:"acceptTerms"},T9={key:0,class:"error-text"},I9={class:"form-actions"},D9=["disabled"],R9=["disabled"],O9={__name:"ComplaintForm",emits:["submitted"],setup(e,{emit:t}){const n=t,i=Br(),s=ve(null),r=ve(null),l=ve(!1),c=ve(!1),d=[{value:"web",text:"Pgina web"},{value:"telefono",text:"Telfono"},{value:"presencial",text:"Presencial"},{value:"email",text:"Correo electrnico"},{value:"whatsapp",text:"WhatsApp"}],p=[{value:"maltrato",text:"Maltrato"},{value:"abandono",text:"Abandono"},{value:"animal_herido",text:"Animal herido"},{value:"animal_peligroso",text:"Animal peligroso"},{value:"otro",text:"Otro"}],f=[{value:"baja",text:"Baja"},{value:"media",text:"Media"},{value:"alta",text:"Alta"},{value:"urgente",text:"Urgente"}],v=un({canalRecepcion:"web",complaintType:"",prioridad:"media",description:"",address:"",coordinates:null,evidence:[],isAnonymous:!1,reporterFirstName:"",reporterLastName:"",reporterPhone:"",reporterEmail:"",reporterAddress:"",acceptTerms:!1}),w=un({canalRecepcion:"",complaintType:"",prioridad:"",description:"",address:"",coordinates:"",evidence:"",acceptTerms:""});function m(){Object.keys(w).forEach(W=>w[W]="");let K=!0;return v.canalRecepcion||(w.canalRecepcion="Seleccione el canal de recepcin",K=!1),v.complaintType||(w.complaintType="Seleccione el tipo de denuncia",K=!1),v.prioridad||(w.prioridad="Seleccione la prioridad",K=!1),(!v.description||v.description.trim().length<50)&&(w.description="La descripcion debe tener al menos 50 caracteres",K=!1),(!v.address||v.address.trim().length<10)&&(w.address="Ingrese una direccion o referencia valida",K=!1),v.coordinates||(w.coordinates="Marque la ubicacin en el mapa",K=!1),v.acceptTerms||(w.acceptTerms="Debe aceptar los terminos y condiciones",K=!1),K}function y(){var W,H;const K={canal_recepcion:v.canalRecepcion,tipo_denuncia:v.complaintType,prioridad:v.prioridad,descripcion:v.description,ubicacion:v.address,latitud:((W=v.coordinates)==null?void 0:W.lat)||null,longitud:((H=v.coordinates)==null?void 0:H.lng)||null,es_anonima:v.isAnonymous,denunciante:v.isAnonymous?null:{nombres:v.reporterFirstName||null,apellidos:v.reporterLastName||null,telefono:v.reporterPhone||null,email:v.reporterEmail||null,direccion:v.reporterAddress||null}};return K.es_anonima&&delete K.denunciante,K}function A(){Object.keys(v).forEach(K=>{Array.isArray(v[K])?v[K]=[]:typeof v[K]=="boolean"?v[K]=!1:typeof v[K]=="number"?v[K]=1:K==="coordinates"?v[K]=null:v[K]=""}),Object.keys(w).forEach(K=>w[K]="")}function N(){window.$toast?window.$toast.info("Terminos y Condiciones","1. La informacion sera utilizada solo para atender la denuncia. 2. Las denuncias falsas tienen consecuencias legales. 3. Datos protegidos segun Ley 1581 de 2012.",15e3):alert(`Trminos y Condiciones:

1. La informacin proporcionada ser utilizada nicamente para atender la denuncia.
2. Las denuncias falsas pueden tener consecuencias legales.
3. Los datos personales sern protegidos segn la Ley 1581 de 2012.
4. El tiempo de respuesta depende de la urgencia y disponibilidad de recursos.`)}function k(){const K=document.querySelector("#canalRecepcion-select"),W=document.querySelector("#complaintType-select"),H=document.querySelector("#prioridad-select"),F=document.querySelector("#description"),R=document.querySelector("#address input");K&&K.value&&(v.canalRecepcion=K.value),W&&W.value&&(v.complaintType=W.value),H&&H.value&&(v.prioridad=H.value),F&&F.value&&(v.description=F.value),R&&R.value&&(v.address=R.value)}function T(K){K&&(v.address=K)}async function I(){var K,W,H,F,R;if(k(),await _i(),!m()){window.scrollTo({top:0,behavior:"smooth"});return}l.value=!0;try{const z=y();console.log("Enviando denuncia al backend:",z);const x=await i.crearDenuncia(z);console.log("Respuesta del backend:",x);const $=(x==null?void 0:x.ticket)||((K=x==null?void 0:x.data)==null?void 0:K.ticket)||"N/A";window.$toast?window.$toast.success("Denuncia registrada",`Numero de caso: ${$}. Guarde este numero para consultar el estado de su denuncia.`,1e4):alert(`Denuncia registrada exitosamente.

Numero de caso: ${$}

Guarde este numero para consultar el estado de su denuncia.`),n("submitted",$),A()}catch(z){console.error("Error al enviar denuncia:",z);let x="No se pudo registrar la denuncia. Por favor intente nuevamente.";if((H=(W=z.response)==null?void 0:W.data)!=null&&H.errors){const $=z.response.data.errors,Z=Object.values($)[0];x=Array.isArray(Z)?Z[0]:Z}else(R=(F=z.response)==null?void 0:F.data)!=null&&R.message?x=z.response.data.message:z.message&&(x=z.message);window.$toast?window.$toast.error("Error al registrar",x):alert(`Error: ${x}`)}finally{l.value=!1}}async function j(){if(!v.address||v.address.trim().length<5){window.$toast&&window.$toast.warning("Direccin muy corta","Ingrese una direccin ms completa para buscar");return}if(!r.value){console.error("MapSelector ref no disponible");return}c.value=!0;try{await r.value.searchAddress(v.address)?window.$toast&&window.$toast.success("Ubicacin encontrada","Se marc la direccin en el mapa"):window.$toast&&window.$toast.warning("No encontrada","No se encontr la direccin. Intente con ms detalles o marque manualmente en el mapa.")}catch(K){console.error("Error buscando direccin:",K),window.$toast&&window.$toast.error("Error","No se pudo buscar la direccin")}finally{c.value=!1}}return(K,W)=>(D(),M("section",n9,[W[28]||(W[28]=o("div",{class:"form-header"},[o("h2",{class:"h2-tipografia-govco"},"Reportar Denuncia de Maltrato Animal"),o("p",{class:"text2-tipografia-govco"},[je(" Complete el formulario para reportar un caso de maltrato, abandono o situacin de riesgo animal. "),o("strong",null,"No requiere autenticacin.")])],-1)),o("form",{ref_key:"formEl",ref:s,onSubmit:Tt(I,["prevent"]),novalidate:""},[o("div",o9,[W[16]||(W[16]=o("h3",{class:"h5-tipografia-govco section-title"},"Informacin del caso",-1)),o("div",i9,[Ke(pn,{id:"canalRecepcion",modelValue:v.canalRecepcion,"onUpdate:modelValue":W[0]||(W[0]=H=>v.canalRecepcion=H),label:"Canal de recepcin",required:!0,options:d,placeholder:"Seleccionar canal","alert-text":w.canalRecepcion,error:!!w.canalRecepcion,width:"100%"},null,8,["modelValue","alert-text","error"]),Ke(pn,{id:"complaintType",modelValue:v.complaintType,"onUpdate:modelValue":W[1]||(W[1]=H=>v.complaintType=H),label:"Tipo de denuncia",required:!0,options:p,placeholder:"Seleccionar tipo","alert-text":w.complaintType,error:!!w.complaintType,width:"100%"},null,8,["modelValue","alert-text","error"]),Ke(pn,{id:"prioridad",modelValue:v.prioridad,"onUpdate:modelValue":W[2]||(W[2]=H=>v.prioridad=H),label:"Prioridad",required:!0,options:f,placeholder:"Seleccionar prioridad","alert-text":w.prioridad,error:!!w.prioridad,width:"100%"},null,8,["modelValue","alert-text","error"]),o("div",a9,[W[14]||(W[14]=o("label",{for:"description"},[je("Descripcin detallada del caso"),o("span",{"aria-required":"true"},"*")],-1)),$e(o("textarea",{id:"description","onUpdate:modelValue":W[3]||(W[3]=H=>v.description=H),rows:"5",placeholder:"Describa la situacin observada: qu tipo de maltrato o situacin, desde cundo ocurre (si lo sabe), condiciones del animal, comportamiento del presunto responsable, etc."},null,512),[[lt,v.description]]),W[15]||(W[15]=o("span",{class:"info-entradas-de-texto-govco"},"Mnimo 50 caracteres. Sea lo ms detallado posible.",-1)),w.description?(D(),M("span",s9,P(w.description),1)):_e("",!0)])])]),o("div",r9,[W[20]||(W[20]=o("h3",{class:"h5-tipografia-govco section-title"},"Ubicacin del caso",-1)),o("div",l9,[o("div",c9,[W[17]||(W[17]=o("label",{class:"label-desplegable-govco"},[je(" Direccin o referencia"),o("span",{"aria-required":"true"},"*")],-1)),o("div",u9,[$e(o("input",{id:"address","onUpdate:modelValue":W[4]||(W[4]=H=>v.address=H),type:"text",class:ot(["address-input",{error:w.address}]),placeholder:"Ej: Calle 15 #23-45, Barrio El Centro, Cali",onKeyup:Cl(j,["enter"])},null,34),[[lt,v.address]]),o("button",{type:"button",class:"search-address-btn",onClick:j,disabled:c.value,title:"Buscar direccin en el mapa"},[c.value?(D(),M("span",f9,"...")):(D(),M("span",p9,"Buscar"))],8,d9)]),W[18]||(W[18]=o("span",{class:"info-entradas-de-texto-govco"}," Formato: Calle 1C #68-23, Barrio, Cali. Puede editar la direccin despus de seleccionar en el mapa. ",-1)),w.address?(D(),M("span",h9,P(w.address),1)):_e("",!0)]),o("div",m9,[W[19]||(W[19]=o("label",{class:"label-desplegable-govco"},[je(" Ubicacin en el mapa"),o("span",{"aria-required":"true"},"*")],-1)),o("div",v9,[Ke(L0,{ref_key:"mapSelectorRef",ref:r,modelValue:v.coordinates,"onUpdate:modelValue":W[5]||(W[5]=H=>v.coordinates=H),"initial-center":{lat:3.4516,lng:-76.5319},zoom:13,onAddressFound:T},null,8,["modelValue"]),o("p",g9,[v.coordinates?(D(),M("span",_9," Lat: "+P(v.coordinates.lat.toFixed(6))+", Lng: "+P(v.coordinates.lng.toFixed(6)),1)):(D(),M("span",b9," Haga clic en el mapa para marcar la ubicacin. Luego ajuste la direccin arriba si es necesario. "))])]),w.coordinates?(D(),M("span",y9,P(w.coordinates),1)):_e("",!0)])])]),o("div",w9,[W[22]||(W[22]=o("h3",{class:"h5-tipografia-govco section-title"},"Evidencias (fotografias y videos)",-1)),o("div",x9,[o("div",A9,[W[21]||(W[21]=o("div",{class:"evidence-info"},[o("p",{class:"text2-tipografia-govco"}," Adjunte fotografas o videos que documenten la situacin. Las evidencias ayudan a priorizar y atender mejor su denuncia. ")],-1)),Ke(tf,{modelValue:v.evidence,"onUpdate:modelValue":W[6]||(W[6]=H=>v.evidence=H),label:"Fotografas y videos del caso (opcional)",accept:"image/*,video/*","max-files":10,"max-size-m-b":10,"help-text":"Formatos: JPG, PNG, MP4, MOV. Mximo 10 archivos, 10MB cada uno."},null,8,["modelValue"]),w.evidence?(D(),M("span",S9,P(w.evidence),1)):_e("",!0)])])]),o("div",k9,[W[25]||(W[25]=o("h3",{class:"h5-tipografia-govco section-title"},"Datos del denunciante (opcional)",-1)),o("div",C9,[o("div",E9,[$e(o("input",{type:"checkbox",id:"anonymous","onUpdate:modelValue":W[7]||(W[7]=H=>v.isAnonymous=H)},null,512),[[Po,v.isAnonymous]]),W[23]||(W[23]=o("label",{for:"anonymous"},[je(" Deseo realizar esta denuncia de forma "),o("strong",null,"annima")],-1))]),v.isAnonymous?(D(),M("div",L9,[...W[24]||(W[24]=[o("div",{class:"notice-box"},[o("span",{class:"notice-icon"},""),o("p",null,"Su denuncia ser procesada de forma annima. No podremos contactarlo para informacin adicional, pero puede consultar el estado con el nmero de caso que recibir.")],-1)])])):(D(),M(rt,{key:0},[Ke(Hn,{id:"reporterFirstName",modelValue:v.reporterFirstName,"onUpdate:modelValue":W[8]||(W[8]=H=>v.reporterFirstName=H),label:"Nombres",placeholder:"Sus nombres"},null,8,["modelValue"]),Ke(Hn,{id:"reporterLastName",modelValue:v.reporterLastName,"onUpdate:modelValue":W[9]||(W[9]=H=>v.reporterLastName=H),label:"Apellidos",placeholder:"Sus apellidos"},null,8,["modelValue"]),Ke(Hn,{id:"reporterPhone",modelValue:v.reporterPhone,"onUpdate:modelValue":W[10]||(W[10]=H=>v.reporterPhone=H),label:"Telfono de contacto",type:"tel",placeholder:"3001234567"},null,8,["modelValue"]),Ke(Hn,{id:"reporterEmail",modelValue:v.reporterEmail,"onUpdate:modelValue":W[11]||(W[11]=H=>v.reporterEmail=H),label:"Correo electrnico",type:"email",placeholder:"correo@ejemplo.com","help-text":"Para recibir notificaciones del caso"},null,8,["modelValue"]),Ke(Hn,{id:"reporterAddress",modelValue:v.reporterAddress,"onUpdate:modelValue":W[12]||(W[12]=H=>v.reporterAddress=H),label:"Direccin de residencia",placeholder:"Su direccin de residencia",class:"full-width"},null,8,["modelValue"])],64))])]),o("div",N9,[o("div",P9,[$e(o("input",{type:"checkbox",id:"acceptTerms","onUpdate:modelValue":W[13]||(W[13]=H=>v.acceptTerms=H)},null,512),[[Po,v.acceptTerms]]),o("label",$9,[W[26]||(W[26]=je(" Declaro que la informacin proporcionada es verdadera y acepto los ",-1)),o("a",{href:"#",onClick:Tt(N,["prevent"])},"trminos y condiciones"),W[27]||(W[27]=je(" del servicio. ",-1))])]),w.acceptTerms?(D(),M("span",T9,P(w.acceptTerms),1)):_e("",!0)]),o("div",I9,[o("button",{type:"button",onClick:A,class:"govco-btn govco-bg-concrete",disabled:l.value}," Limpiar formulario ",8,D9),o("button",{type:"submit",class:"govco-btn govco-bg-elf-green",disabled:l.value},P(l.value?"Enviando denuncia...":"Enviar denuncia"),9,R9)])],544)]))}},M9=It(O9,[["__scopeId","data-v-33208e3a"]]),F9={class:"status-check"},B9={class:"form-section search-section"},j9={class:"search-container"},z9={class:"entradas-de-texto-govco search-input"},U9=["disabled"],V9={key:0,class:"error-text"},q9={key:0,class:"form-section result-section"},H9={class:"result-header-info"},G9={class:"h4-tipografia-govco"},W9={class:"result-body"},Z9={class:"info-grid"},K9={class:"info-item"},J9={class:"info-value"},Y9={class:"info-item"},X9={class:"info-value"},Q9={class:"info-item full-width"},eI={class:"info-value"},tI={key:0,class:"info-item full-width"},nI={class:"info-value"},oI={class:"timeline-section"},iI={class:"timeline"},aI={class:"timeline-marker"},sI={class:"marker-icon"},rI={class:"timeline-content"},lI={class:"timeline-date"},cI={class:"timeline-title"},uI={class:"timeline-description"},dI={key:0,class:"result-final"},fI={class:"result-icon"},pI={class:"result-info"},hI={class:"result-title"},mI={class:"result-description"},vI={key:1,class:"contact-section"},gI={key:1,class:"form-section not-found-section"},_I={class:"not-found-content"},bI={class:"text2-tipografia-govco"},yI={__name:"ComplaintStatusCheck",setup(e){const t=Br(),n=ve(""),i=ve(!1),s=ve(""),r=ve(null),l=ve(!1),c=ve("");async function d(){if(!n.value.trim()){s.value="Ingrese un numero de caso";return}s.value="",r.value=null,l.value=!1,i.value=!0,c.value=n.value.trim().toUpperCase();try{console.log("Buscando denuncia con ticket:",c.value);const T=await t.consultarTicket(c.value);console.log("Respuesta del backend:",T),T?r.value={caso_numero:T.ticket,tipo_denuncia:T.tipo,urgencia:T.prioridad,fecha_recepcion:T.fecha_registro,estado:T.estado,ubicacion:T.ubicacion,observaciones:T.observaciones,fecha_resolucion:T.fecha_resolucion,timeline:p(T)}:l.value=!0}catch(T){console.error("Error al buscar caso:",T),l.value=!0,s.value=""}finally{i.value=!1}}function p(T){const I=[{tipo:"recepcion",fecha:T.fecha_registro,titulo:"Denuncia recibida",descripcion:"Su denuncia ha sido registrada en el sistema."}];return(T.estado==="en_proceso"||T.estado==="resuelta")&&I.push({tipo:"revision",fecha:T.fecha_registro,titulo:"En proceso",descripcion:"El caso esta siendo atendido por nuestro equipo."}),T.estado==="resuelta"&&I.push({tipo:"cierre",fecha:T.fecha_resolucion||T.fecha_registro,titulo:"Caso resuelto",descripcion:T.resolucion||"El caso ha sido resuelto exitosamente."}),I}function f(T){return{recibida:"Recibida",en_revision:"En revisin",asignada:"Asignada",en_atencion:"En atencin",cerrada:"Cerrada",derivada:"Derivada a autoridades"}[T]||T}function v(T){return{urgente:"URGENTE",alta:"ALTA",media:"MEDIA",baja:"BAJA"}[T]||(T==null?void 0:T.toUpperCase())||""}function w(T){return{maltrato:"Maltrato",abandono:"Abandono",animal_herido:"Animal herido",animal_peligroso:"Animal peligroso",otro:"Otro"}[T]||T}function m(T){return{rescatado:"Animal(es) rescatado(s)",no_encontrado:"No se encontr el animal",derivado:"Derivado a autoridades competentes",sin_merito:"Caso cerrado sin mrito"}[T]||T}function y(T){return{rescatado:"",no_encontrado:"",derivado:"",sin_merito:""}[T]||""}function A(T){return{recepcion:"",revision:"",asignacion:"",en_camino:"",operativo:"",cierre:""}[T]||""}function N(T){return new Date(T).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"})}function k(T){return new Date(T).toLocaleDateString("es-CO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}return(T,I)=>(D(),M("section",F9,[I[15]||(I[15]=o("div",{class:"form-header"},[o("h2",{class:"h2-tipografia-govco"},"Consultar Estado de Denuncia"),o("p",{class:"text2-tipografia-govco"},[je(" Ingrese el nmero de caso para conocer el estado actual de su denuncia. "),o("strong",null,"No requiere autenticacin.")])],-1)),o("div",B9,[o("div",j9,[o("div",z9,[I[1]||(I[1]=o("label",{for:"caseNumber"},"Nmero de caso",-1)),$e(o("input",{type:"text",id:"caseNumber","onUpdate:modelValue":I[0]||(I[0]=j=>n.value=j),placeholder:"Ej: DEN-202411-0001",onKeyup:Cl(d,["enter"])},null,544),[[lt,n.value]]),I[2]||(I[2]=o("span",{class:"info-entradas-de-texto-govco"}," El nmero de caso fue enviado a su correo al registrar la denuncia ",-1))]),o("button",{type:"button",class:"govco-btn govco-bg-marine",disabled:i.value||!n.value.trim(),onClick:d},P(i.value?"Buscando...":"Consultar"),9,U9)]),s.value?(D(),M("span",V9,P(s.value),1)):_e("",!0)]),r.value?(D(),M("div",q9,[o("div",{class:ot(["result-header",`status-${r.value.estado}`])},[o("div",H9,[o("h3",G9,"Caso: "+P(r.value.caso_numero),1),o("span",{class:ot(["status-badge",`badge-${r.value.estado}`])},P(f(r.value.estado)),3)]),o("div",{class:ot(["urgency-indicator",`urgency-${r.value.urgencia}`])},P(v(r.value.urgencia)),3)],2),o("div",W9,[o("div",Z9,[o("div",K9,[I[3]||(I[3]=o("span",{class:"info-label"},"Tipo de denuncia",-1)),o("span",J9,P(w(r.value.tipo_denuncia)),1)]),o("div",Y9,[I[4]||(I[4]=o("span",{class:"info-label"},"Fecha de recepcin",-1)),o("span",X9,P(N(r.value.fecha_recepcion)),1)]),o("div",Q9,[I[5]||(I[5]=o("span",{class:"info-label"},"Direccin",-1)),o("span",eI,P(r.value.ubicacion||"No especificada"),1)]),r.value.observaciones?(D(),M("div",tI,[I[6]||(I[6]=o("span",{class:"info-label"},"Observaciones",-1)),o("span",nI,P(r.value.observaciones),1)])):_e("",!0)]),o("div",oI,[I[7]||(I[7]=o("h4",{class:"h6-tipografia-govco"},"Seguimiento del caso",-1)),o("div",iI,[(D(!0),M(rt,null,ht(r.value.timeline,(j,K)=>(D(),M("div",{key:K,class:ot(["timeline-item",{active:K===r.value.timeline.length-1}])},[o("div",aI,[o("span",sI,P(A(j.tipo)),1)]),o("div",rI,[o("span",lI,P(k(j.fecha)),1),o("span",cI,P(j.titulo),1),o("p",uI,P(j.descripcion),1)])],2))),128))])]),r.value.estado==="cerrada"?(D(),M("div",dI,[I[8]||(I[8]=o("h4",{class:"h6-tipografia-govco"},"Resultado del caso",-1)),o("div",{class:ot(["result-box",`result-${r.value.resultado}`])},[o("span",fI,P(y(r.value.resultado)),1),o("div",pI,[o("span",hI,P(m(r.value.resultado)),1),o("p",mI,P(r.value.resultado_descripcion),1)])],2)])):_e("",!0),r.value.equipo_asignado&&!r.value.es_anonimo?(D(),M("div",vI,[...I[9]||(I[9]=[o("h4",{class:"h6-tipografia-govco"},"Equipo asignado",-1),o("p",{class:"text2-tipografia-govco"}," Su caso est siendo atendido. Si necesita comunicarse, puede hacerlo a travs de los canales oficiales de la Secretara de Bienestar Animal. ",-1)])])):_e("",!0)])])):_e("",!0),l.value?(D(),M("div",gI,[o("div",_I,[I[12]||(I[12]=o("span",{class:"not-found-icon"},"",-1)),I[13]||(I[13]=o("h3",{class:"h5-tipografia-govco"},"Caso no encontrado",-1)),o("p",bI,[I[10]||(I[10]=je(" No se encontr ninguna denuncia con el nmero de caso ",-1)),o("strong",null,P(c.value),1),I[11]||(I[11]=je(". ",-1))]),I[14]||(I[14]=o("ul",{class:"suggestions-list"},[o("li",null,"Verifique que el nmero de caso est escrito correctamente"),o("li",null,"El formato debe ser: DEN-AAAAMM-XXXX (ej: DEN-202411-0001)"),o("li",null,"Si acaba de registrar la denuncia, espere unos minutos e intente nuevamente")],-1))])])):_e("",!0)]))}},wI=It(yI,[["__scopeId","data-v-5b62b6b3"]]),xI={class:"rescue-map"},AI={class:"map-counter"},SI={class:"counter-number"},kI={__name:"RescueMap",props:{complaints:{type:Array,default:()=>[]},center:{type:Object,default:()=>({lat:3.4516,lng:-76.5319})},zoom:{type:Number,default:12}},emits:["select"],setup(e,{emit:t}){const n=e,i=t,s=ve(null);let r=null,l=[];const c={urgente:"#A80521",alta:"#FFAB00",media:"#3366CC",baja:"#737373"};function d(w){const m=c[w]||"#737373";return Ri.divIcon({className:"custom-marker",html:`
      <div class="marker-pin" style="background-color: ${m}">
        <span class="marker-icon">=></span>
      </div>
      <div class="marker-pulse" style="background-color: ${m}"></div>
    `,iconSize:[30,42],iconAnchor:[15,42],popupAnchor:[0,-42]})}function p(w){var A;const m={maltrato:"Maltrato",abandono:"Abandono",animal_herido:"Animal herido",animal_peligroso:"Animal peligroso",otro:"Otro"},y={urgente:"URGENTE",alta:"ALTA",media:"MEDIA",baja:"BAJA"};return`
    <div class="complaint-popup">
      <div class="popup-header">
        <strong>${w.numero_ticket||"Sin ticket"}</strong>
        <span class="popup-urgency urgency-${w.prioridad}">
          ${y[w.prioridad]||((A=w.prioridad)==null?void 0:A.toUpperCase())||""}
        </span>
      </div>
      <div class="popup-type">${m[w.tipo_denuncia]||w.tipo_denuncia||"Sin tipo"}</div>
      <div class="popup-address">${w.ubicacion||"Sin ubicacin"}</div>
      <button class="popup-btn" onclick="window.selectComplaint('${w.id}')">
        Ver detalle
      </button>
    </div>
  `}function f(){l.forEach(w=>{r&&r.removeLayer(w)}),l=[]}function v(){if(r&&(f(),n.complaints.forEach(w=>{if(w.latitud&&w.longitud){const m=parseFloat(w.latitud),y=parseFloat(w.longitud);if(!isNaN(m)&&!isNaN(y)){const A=Ri.marker([m,y],{icon:d(w.prioridad)});A.bindPopup(p(w),{maxWidth:300,className:"custom-popup"}),A.on("click",()=>{i("select",w)}),A.addTo(r),l.push(A)}}}),l.length>0)){const w=Ri.featureGroup(l);r.fitBounds(w.getBounds().pad(.1))}}return Kn(()=>n.complaints,()=>{v()},{deep:!0}),yn(()=>{if(!s.value)return;const w="https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",m="https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",y="https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png";Ri.Marker.prototype.options.icon=Ri.icon({iconRetinaUrl:w,iconUrl:m,shadowUrl:y,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),r=Ri.map(s.value).setView([n.center.lat,n.center.lng],n.zoom),Ri.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; OpenStreetMap contributors"}).addTo(r),v(),window.selectComplaint=A=>{const N=n.complaints.find(k=>k.id===A);N&&i("select",N)}}),vc(()=>{r&&(r.off(),r.remove(),r=null),delete window.selectComplaint}),(w,m)=>(D(),M("div",xI,[o("div",{ref_key:"mapEl",ref:s,class:"map"},null,512),m[1]||(m[1]=Bt('<div class="map-legend" data-v-0378becc><h4 data-v-0378becc>Prioridad</h4><div class="legend-item" data-v-0378becc><span class="legend-marker urgente" data-v-0378becc></span><span data-v-0378becc>Urgente</span></div><div class="legend-item" data-v-0378becc><span class="legend-marker alta" data-v-0378becc></span><span data-v-0378becc>Alta</span></div><div class="legend-item" data-v-0378becc><span class="legend-marker media" data-v-0378becc></span><span data-v-0378becc>Media</span></div><div class="legend-item" data-v-0378becc><span class="legend-marker baja" data-v-0378becc></span><span data-v-0378becc>Baja</span></div></div>',1)),o("div",AI,[o("span",SI,P(e.complaints.length),1),m[0]||(m[0]=o("span",{class:"counter-label"},"denuncias activas",-1))])]))}},CI=It(kI,[["__scopeId","data-v-0378becc"]]),EI={class:"complaint-list"},LI={class:"form-section filters-section"},NI={class:"filters-grid"},PI={class:"filter-field"},$I=["value"],TI={class:"filter-field"},II=["value"],DI={class:"filter-field"},RI=["value"],OI={class:"filter-field"},MI={class:"form-section"},FI={class:"list-header"},BI={class:"h5-tipografia-govco"},jI={class:"sort-options"},zI={key:0,class:"loading-state"},UI={key:1,class:"empty-state"},VI={key:2,class:"complaints-grid"},qI=["onClick"],HI={class:"card-header"},GI={class:"case-info"},WI={class:"case-number"},ZI={class:"case-date"},KI={class:"badges"},JI={class:"card-content"},YI={class:"complaint-type"},XI={class:"type-icon"},QI={class:"type-label"},eD={class:"complaint-description"},tD={class:"complaint-location"},nD={key:0,class:"rescue-info"},oD={class:"rescue-team"},iD={class:"rescue-date"},aD={class:"card-footer"},sD={class:"denunciante-info"},rD={key:0},lD={key:1},cD={key:2},uD={class:"card-actions"},dD=["onClick"],fD=["onClick"],pD={class:"form-section map-section"},hD={class:"map-container"},mD={__name:"ComplaintList",emits:["select","assign"],setup(e,{emit:t}){const n=Br(),i=ve("urgency"),s=un({status:"",urgency:"",type:"",caseNumber:""}),r=We(()=>n.loading),l=[{value:"recibida",text:"Recibida"},{value:"en_revision",text:"En revisin"},{value:"asignada",text:"Asignada"},{value:"en_atencion",text:"En atencin"},{value:"resuelta",text:"Resuelta"},{value:"cerrada",text:"Cerrada"},{value:"desestimada",text:"Desestimada"}],c=[{value:"urgente",text:"Urgente"},{value:"alta",text:"Alta"},{value:"media",text:"Media"},{value:"baja",text:"Baja"}],d=[{value:"maltrato",text:"Maltrato"},{value:"abandono",text:"Abandono"},{value:"animal_herido",text:"Animal herido"},{value:"animal_peligroso",text:"Animal peligroso"},{value:"otro",text:"Otro"}],p=We(()=>n.denuncias||[]);We(()=>({critical:p.value.filter(I=>I.prioridad==="urgente"&&!["resuelta","cerrada","desestimada"].includes(I.estado)).length,high:p.value.filter(I=>I.prioridad==="alta"&&!["resuelta","cerrada","desestimada"].includes(I.estado)).length,pending:p.value.filter(I=>I.estado==="recibida").length,inProgress:p.value.filter(I=>I.estado==="en_atencion").length}));const f=We(()=>{let I=[...p.value];s.status&&(I=I.filter(W=>W.estado===s.status)),s.urgency&&(I=I.filter(W=>W.prioridad===s.urgency)),s.type&&(I=I.filter(W=>W.tipo_denuncia===s.type)),s.caseNumber&&(I=I.filter(W=>{var H;return(H=W.numero_ticket)==null?void 0:H.toLowerCase().includes(s.caseNumber.toLowerCase())}));const j={urgente:0,alta:1,media:2,baja:3},K={recibida:0,en_proceso:1,resuelta:2};return I.sort((W,H)=>i.value==="urgency"?(j[W.prioridad]??4)-(j[H.prioridad]??4):i.value==="date"?new Date(H.fecha_denuncia||H.created_at)-new Date(W.fecha_denuncia||W.created_at):i.value==="status"?(K[W.estado]??3)-(K[H.estado]??3):0),I});function v(){s.status="",s.urgency="",s.type="",s.caseNumber=""}async function w(){const I={};s.status&&(I.estado=s.status),s.urgency&&(I.prioridad=s.urgency),s.type&&(I.tipo_denuncia=s.type),s.caseNumber&&(I.busqueda=s.caseNumber),await n.fetchDenuncias(I)}function m(I){return{urgente:"URGENTE",alta:"ALTA",media:"MEDIA",baja:"BAJA"}[I]||(I==null?void 0:I.toUpperCase())||""}function y(I){return{recibida:"Recibida",en_revision:"En revisin",asignada:"Asignada",en_atencion:"En atencin",resuelta:"Resuelta",cerrada:"Cerrada",desestimada:"Desestimada"}[I]||I}function A(I){return{maltrato:"Maltrato",abandono:"Abandono",animal_herido:"Animal herido",animal_peligroso:"Animal peligroso",otro:"Otro"}[I]||I}function N(I){return{maltrato:"",abandono:"",animal_herido:"",animal_peligroso:"",otro:""}[I]||""}function k(I){if(!I)return"Sin fecha";const j=new Date(I);return isNaN(j.getTime())?"Fecha invlida":j.toLocaleDateString("es-CO",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})}function T(I,j){return I.length<=j?I:I.substring(0,j)+"..."}return yn(async()=>{await n.fetchDenuncias()}),(I,j)=>(D(),M("section",EI,[j[21]||(j[21]=o("div",{class:"form-header"},[o("h2",{class:"h2-tipografia-govco"},"Gestin de Denuncias"),o("p",{class:"text2-tipografia-govco"}," Revise, clasifique y asigne equipos de rescate a las denuncias pendientes. ")],-1)),o("div",LI,[j[13]||(j[13]=o("h3",{class:"h5-tipografia-govco section-title"},"Filtros de bsqueda",-1)),o("div",NI,[o("div",PI,[j[7]||(j[7]=o("label",{for:"filterStatus"},"Estado",-1)),$e(o("select",{id:"filterStatus","onUpdate:modelValue":j[0]||(j[0]=K=>s.status=K),class:"filter-select"},[j[6]||(j[6]=o("option",{value:""},"Todos",-1)),(D(),M(rt,null,ht(l,K=>o("option",{key:K.value,value:K.value},P(K.text),9,$I)),64))],512),[[yt,s.status]])]),o("div",TI,[j[9]||(j[9]=o("label",{for:"filterUrgency"},"Urgencia",-1)),$e(o("select",{id:"filterUrgency","onUpdate:modelValue":j[1]||(j[1]=K=>s.urgency=K),class:"filter-select"},[j[8]||(j[8]=o("option",{value:""},"Todas",-1)),(D(),M(rt,null,ht(c,K=>o("option",{key:K.value,value:K.value},P(K.text),9,II)),64))],512),[[yt,s.urgency]])]),o("div",DI,[j[11]||(j[11]=o("label",{for:"filterType"},"Tipo",-1)),$e(o("select",{id:"filterType","onUpdate:modelValue":j[2]||(j[2]=K=>s.type=K),class:"filter-select"},[j[10]||(j[10]=o("option",{value:""},"Todos",-1)),(D(),M(rt,null,ht(d,K=>o("option",{key:K.value,value:K.value},P(K.text),9,RI)),64))],512),[[yt,s.type]])]),o("div",OI,[j[12]||(j[12]=o("label",{for:"filterCase"},"Nmero de caso",-1)),$e(o("input",{type:"text",id:"filterCase","onUpdate:modelValue":j[3]||(j[3]=K=>s.caseNumber=K),placeholder:"DN-2025-XXXXX",class:"filter-input"},null,512),[[lt,s.caseNumber]])]),o("div",{class:"filter-field filter-actions"},[o("button",{type:"button",class:"govco-btn govco-bg-concrete",onClick:v}," Limpiar "),o("button",{type:"button",class:"govco-btn govco-bg-marine",onClick:w}," Filtrar ")])])]),o("div",MI,[o("div",FI,[o("h3",BI," Denuncias ("+P(f.value.length)+") ",1),o("div",jI,[j[15]||(j[15]=o("label",null,"Ordenar por:",-1)),$e(o("select",{"onUpdate:modelValue":j[4]||(j[4]=K=>i.value=K),class:"sort-select"},[...j[14]||(j[14]=[o("option",{value:"urgency"},"Prioridad",-1),o("option",{value:"date"},"Fecha (ms reciente)",-1)])],512),[[yt,i.value]])])]),r.value?(D(),M("div",zI,[...j[16]||(j[16]=[o("div",{class:"spinner"},null,-1),o("p",null,"Cargando denuncias...",-1)])])):f.value.length===0?(D(),M("div",UI,[...j[17]||(j[17]=[o("span",{class:"empty-icon"},"",-1),o("p",null,"No hay denuncias que coincidan con los filtros seleccionados.",-1)])])):(D(),M("div",VI,[(D(!0),M(rt,null,ht(f.value,K=>{var W;return D(),M("div",{key:K.id,class:ot(["complaint-card",`urgency-border-${K.prioridad}`]),onClick:H=>I.$emit("select",K)},[o("div",HI,[o("div",GI,[o("span",WI,P(K.numero_ticket),1),o("span",ZI,P(k(K.fecha_denuncia||K.created_at)),1)]),o("div",KI,[o("span",{class:ot(["urgency-badge",`urgency-${K.prioridad}`])},P(m(K.prioridad)),3),o("span",{class:ot(["status-badge",`status-${K.estado}`])},P(y(K.estado)),3)])]),o("div",JI,[o("div",YI,[o("span",XI,P(N(K.tipo_denuncia)),1),o("span",QI,P(A(K.tipo_denuncia)),1)]),o("p",eD,P(T(K.descripcion||"",120)),1),o("div",tD,[j[18]||(j[18]=o("span",{class:"location-icon"},"",-1)),o("span",null,P(K.ubicacion||"Sin ubicacin"),1)])]),K.rescates&&K.rescates.length>0?(D(),M("div",nD,[j[19]||(j[19]=o("span",{class:"rescue-icon"},"",-1)),o("span",oD,P(((W=K.rescates[0].equipo_rescate)==null?void 0:W.nombre)||"Equipo asignado"),1),o("span",iD,P(k(K.rescates[0].fecha_programada)),1)])):_e("",!0),o("div",aD,[o("div",sD,[K.es_anonima?(D(),M("span",rD," Annima")):K.denunciante?(D(),M("span",lD,P(K.denunciante.nombres)+" "+P(K.denunciante.apellidos),1)):(D(),M("span",cD,"Sin denunciante"))]),o("div",uD,[!K.rescates||K.rescates.length===0?(D(),M("button",{key:0,type:"button",class:"action-btn assign-btn",onClick:Tt(H=>I.$emit("assign",K),["stop"])}," Asignar equipo ",8,dD)):_e("",!0),o("button",{type:"button",class:"action-btn view-btn",onClick:Tt(H=>I.$emit("select",K),["stop"])}," Ver detalle ",8,fD)])])],10,qI)}),128))]))]),o("div",pD,[j[20]||(j[20]=o("h3",{class:"h5-tipografia-govco section-title"},"Mapa de denuncias activas",-1)),o("div",hD,[Ke(CI,{complaints:f.value.filter(K=>K.estado!=="cerrada"),onSelect:j[5]||(j[5]=K=>I.$emit("select",K))},null,8,["complaints"])])])]))}},vD=It(mD,[["__scopeId","data-v-0ae16d83"]]),gD={class:"rescue-operations"},_D={class:"stats-row"},bD={class:"stat-card stat-active"},yD={class:"stat-number"},wD={class:"stat-card stat-today"},xD={class:"stat-number"},AD={class:"stat-card stat-completed"},SD={class:"stat-number"},kD={class:"stat-card stat-success"},CD={class:"stat-number"},ED={class:"form-section"},LD={key:0,class:"loading-state"},ND={key:1,class:"empty-state"},PD={key:2,class:"operations-grid"},$D={class:"operation-header"},TD={class:"operation-info"},ID={class:"operation-case"},DD={class:"operation-time"},RD={class:"operation-body"},OD={class:"operation-type"},MD={class:"type-icon"},FD={class:"operation-location"},BD={class:"operation-team"},jD={class:"operation-actions"},zD=["onClick"],UD={class:"form-section"},VD={key:0,class:"empty-state"},qD={key:1,class:"operations-list"},HD={class:"item-time"},GD={class:"time-hour"},WD={class:"item-info"},ZD={class:"item-case"},KD={class:"item-type"},JD={class:"item-location"},YD={class:"item-team"},XD={class:"team-badge"},QD={class:"item-actions"},eR=["onClick"],tR={class:"form-section"},nR={key:0,class:"empty-state"},oR={key:1,class:"history-table-container"},iR={class:"history-table"},aR={class:"cell-case"},sR={__name:"RescueOperations",emits:["register-result"],setup(e,{emit:t}){const n=t,i=Br(),s=ve(!1);yn(async()=>{s.value=!0;try{await i.fetchRescates()}catch(N){console.error("Error al cargar rescates:",N)}finally{s.value=!1}});const r=We(()=>i.rescates||[]),l=We(()=>r.value.filter(N=>!N.fecha_ejecucion)),c=We(()=>{const N=new Date().toISOString().split("T")[0];return r.value.filter(k=>k.fecha_ejecucion||!k.fecha_programada?!1:k.fecha_programada.split("T")[0]===N)}),d=We(()=>r.value.filter(N=>N.fecha_ejecucion).sort((N,k)=>new Date(k.fecha_ejecucion)-new Date(N.fecha_ejecucion)).slice(0,10)),p=We(()=>{const k=r.value.filter(H=>H.fecha_ejecucion),T=k.filter(H=>H.exitoso),I=new Date,j=new Date(I.getFullYear(),I.getMonth(),1),K=k.filter(H=>new Date(H.fecha_ejecucion)>=j),W=k.length>0?Math.round(T.length/k.length*100):0;return{active:l.value.length,today:c.value.length,completed:K.length,successRate:W}});function f(N){const k={...N.denuncia,rescate_id:N.id,rescate:N};n("register-result",k)}function v(N){return{maltrato:"Maltrato",abandono:"Abandono",animal_herido:"Animal herido",animal_peligroso:"Animal peligroso",otro:"Otro"}[N]||N||"Sin tipo"}function w(N){return{maltrato:"",abandono:"",animal_herido:"",animal_peligroso:"",otro:""}[N]||""}function m(N){if(!N)return"Sin fecha";const k=new Date(N);return isNaN(k.getTime())?"Fecha invlida":k.toLocaleDateString("es-CO",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})}function y(N){if(!N)return"--:--";const k=new Date(N);return isNaN(k.getTime())?"--:--":k.toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"})}function A(N){if(!N)return"Sin fecha";const k=new Date(N);return isNaN(k.getTime())?"Fecha invlida":k.toLocaleDateString("es-CO",{day:"2-digit",month:"short",year:"numeric"})}return(N,k)=>(D(),M("section",gD,[k[16]||(k[16]=o("div",{class:"form-header"},[o("h2",{class:"h2-tipografia-govco"},"Operativos de Rescate"),o("p",{class:"text2-tipografia-govco"}," Gestione los operativos activos y registre los resultados de las intervenciones. ")],-1)),o("div",_D,[o("div",bD,[o("span",yD,P(p.value.active),1),k[0]||(k[0]=o("span",{class:"stat-label"},"En curso",-1))]),o("div",wD,[o("span",xD,P(p.value.today),1),k[1]||(k[1]=o("span",{class:"stat-label"},"Programados hoy",-1))]),o("div",AD,[o("span",SD,P(p.value.completed),1),k[2]||(k[2]=o("span",{class:"stat-label"},"Completados (mes)",-1))]),o("div",kD,[o("span",CD,P(p.value.successRate)+"%",1),k[3]||(k[3]=o("span",{class:"stat-label"},"Tasa de xito",-1))])]),o("div",ED,[k[9]||(k[9]=o("h3",{class:"h5-tipografia-govco section-title"},"Operativos en curso",-1)),s.value?(D(),M("div",LD,[...k[4]||(k[4]=[o("span",null,"Cargando operativos...",-1)])])):l.value.length===0?(D(),M("div",ND,[...k[5]||(k[5]=[o("span",{class:"empty-icon"},"",-1),o("p",null,"No hay operativos activos en este momento.",-1)])])):(D(),M("div",PD,[(D(!0),M(rt,null,ht(l.value,T=>{var I,j,K,W,H;return D(),M("div",{key:T.id,class:"operation-card active"},[o("div",$D,[o("div",TD,[o("span",ID,P(((I=T.denuncia)==null?void 0:I.numero_ticket)||"Sin ticket"),1),o("span",DD,P(m(T.fecha_programada)),1)]),k[6]||(k[6]=o("span",{class:"operation-status status-active"},"Programado",-1))]),o("div",RD,[o("div",OD,[o("span",MD,P(w((j=T.denuncia)==null?void 0:j.tipo_denuncia)),1),o("span",null,P(v((K=T.denuncia)==null?void 0:K.tipo_denuncia)),1)]),o("div",FD,[k[7]||(k[7]=o("span",{class:"location-icon"},"",-1)),o("span",null,P(((W=T.denuncia)==null?void 0:W.ubicacion)||"Sin ubicacin"),1)]),o("div",BD,[k[8]||(k[8]=o("span",{class:"team-icon"},"",-1)),o("span",null,P(((H=T.equipo_rescate)==null?void 0:H.nombre)||"Equipo asignado"),1)])]),o("div",jD,[o("button",{type:"button",class:"action-btn result-btn",onClick:F=>f(T)}," Registrar resultado ",8,zD)])])}),128))]))]),o("div",UD,[k[12]||(k[12]=o("h3",{class:"h5-tipografia-govco section-title"},"Programados para hoy",-1)),c.value.length===0?(D(),M("div",VD,[...k[10]||(k[10]=[o("span",{class:"empty-icon"},"",-1),o("p",null,"No hay operativos programados para hoy.",-1)])])):(D(),M("div",qD,[(D(!0),M(rt,null,ht(c.value,T=>{var I,j,K,W;return D(),M("div",{key:T.id,class:"operation-item scheduled"},[o("div",HD,[o("span",GD,P(y(T.fecha_programada)),1),k[11]||(k[11]=o("span",{class:"time-label"},"hrs",-1))]),o("div",WD,[o("span",ZD,P(((I=T.denuncia)==null?void 0:I.numero_ticket)||"Sin ticket"),1),o("span",KD,P(v((j=T.denuncia)==null?void 0:j.tipo_denuncia)),1),o("span",JD,P(((K=T.denuncia)==null?void 0:K.ubicacion)||"Sin ubicacin"),1)]),o("div",YD,[o("span",XD,P(((W=T.equipo_rescate)==null?void 0:W.nombre)||"Equipo"),1)]),o("div",QD,[o("button",{type:"button",class:"action-btn result-btn-small",onClick:H=>f(T)}," Registrar resultado ",8,eR)])])}),128))]))]),o("div",tR,[k[15]||(k[15]=o("h3",{class:"h5-tipografia-govco section-title"},"Historial reciente",-1)),d.value.length===0?(D(),M("div",nR,[...k[13]||(k[13]=[o("span",{class:"empty-icon"},"",-1),o("p",null,"No hay operativos completados recientemente.",-1)])])):(D(),M("div",oR,[o("table",iR,[k[14]||(k[14]=o("thead",null,[o("tr",null,[o("th",null,"Caso"),o("th",null,"Fecha ejecucin"),o("th",null,"Tipo"),o("th",null,"Equipo"),o("th",null,"Resultado")])],-1)),o("tbody",null,[(D(!0),M(rt,null,ht(d.value,T=>{var I,j,K;return D(),M("tr",{key:T.id},[o("td",aR,P(((I=T.denuncia)==null?void 0:I.numero_ticket)||"Sin ticket"),1),o("td",null,P(A(T.fecha_ejecucion)),1),o("td",null,P(v((j=T.denuncia)==null?void 0:j.tipo_denuncia)),1),o("td",null,P(((K=T.equipo_rescate)==null?void 0:K.nombre)||"Equipo"),1),o("td",null,[o("span",{class:ot(["result-badge",T.exitoso?"result-exitoso":"result-fallido"])},P(T.exitoso?"Exitoso":"No exitoso"),3)])])}),128))])])]))])]))}},rR=It(sR,[["__scopeId","data-v-2d8a1145"]]),lR={class:"authority-reports"},cR={class:"report-tabs"},uR={key:0,class:"report-content"},dR={class:"form-section"},fR={class:"case-selector"},pR={class:"entradas-de-texto-govco search-field"},hR={class:"search-input-group"},mR={key:0,class:"eligible-cases"},vR={class:"cases-list"},gR=["onClick"],_R={class:"case-main"},bR={class:"case-number"},yR={class:"case-type"},wR={class:"case-meta"},xR={key:0,class:"form-section"},AR={class:"form-grid"},SR={class:"input-like-govco"},kR={class:"desplegable-govco","data-type":"basic"},CR={key:0,class:"alert-desplegable-govco"},ER={key:0,class:"entradas-de-texto-govco"},LR={class:"input-like-govco"},NR={class:"desplegable-govco","data-type":"basic"},PR={class:"input-like-govco"},$R={class:"desplegable-govco","data-type":"basic"},TR=["value"],IR={class:"entradas-de-texto-govco full-width"},DR={class:"entradas-de-texto-govco full-width"},RR={key:1,class:"form-section"},OR={class:"content-options"},MR={class:"checkbox-govco"},FR={class:"checkbox-govco"},BR={for:"includeEvidence"},jR={class:"checkbox-govco"},zR={class:"checkbox-govco"},UR={class:"checkbox-govco"},VR={key:2,class:"form-section preview-section"},qR={class:"report-preview"},HR={class:"preview-header"},GR={class:"preview-doc-info"},WR={class:"doc-type"},ZR={class:"doc-date"},KR={class:"preview-body"},JR={class:"preview-section"},YR={class:"preview-table"},XR={class:"preview-section"},QR={class:"preview-section"},eO={key:0,class:"preview-section"},tO={key:1,class:"preview-section"},nO={class:"preview-placeholder"},oO={class:"preview-footer"},iO={class:"signature-block"},aO={class:"signature-name"},sO={class:"signature-title"},rO={key:3,class:"form-actions"},lO=["disabled"],cO={key:1,class:"report-content"},uO={class:"form-section"},dO={class:"history-filters"},fO={class:"entradas-de-texto-govco"},pO={class:"input-like-govco"},hO={class:"desplegable-govco","data-type":"basic"},mO={class:"history-table-container"},vO={class:"history-table"},gO={class:"cell-case"},_O={class:"actions-cell"},bO=["onClick"],yO=["onClick"],wO={__name:"AuthorityReports",setup(e){const t=ve("generate"),n=ve(""),i=ve(null),s=ve(!1),r=un({authority:"",otherAuthority:"",reportType:"",responsible:"",summary:"",request:"",includeTimeline:!0,includeEvidence:!0,includeVetReport:!1,includeWitness:!1,includeResponsible:!1}),l=un({authority:""}),c=un({date:"",authority:""}),d=ve([{id:1,caso_numero:"DEN-202411-0002",tipo_denuncia:"abandono",fecha_recepcion:"2024-11-10T08:15:00",fecha_cierre:"2024-11-11T15:00:00",resultado:"rescatado",evidencias:["foto1.jpg","foto2.jpg","video1.mp4"]},{id:2,caso_numero:"DEN-202410-0089",tipo_denuncia:"maltrato_fisico",fecha_recepcion:"2024-10-28T10:00:00",fecha_cierre:"2024-10-30T16:00:00",resultado:"derivado",evidencias:["foto1.jpg","foto2.jpg"]}]),p=ve([{id:1,nombre:"Dr. Carlos Martnez",cargo:"Director de Bienestar Animal"},{id:2,nombre:"Dra. Ana Garca",cargo:"Coordinadora de Rescate"},{id:3,nombre:"Ing. Pedro Lpez",cargo:"Jefe de Operaciones"}]),f=ve([{id:1,fecha_envio:"2024-11-10T14:00:00",caso_numero:"DEN-202410-0078",autoridad:"fiscalia",tipo:"denuncia_formal",responsable_nombre:"Dr. Carlos Martnez",estado:"enviado"},{id:2,fecha_envio:"2024-11-05T09:30:00",caso_numero:"DEN-202410-0065",autoridad:"policia",tipo:"informe_tecnico",responsable_nombre:"Dra. Ana Garca",estado:"recibido"}]);function v(){console.log("Buscando caso:",n.value)}function w(z){i.value=z,r.summary=`El presente caso corresponde a una denuncia por ${T(z.tipo_denuncia).toLowerCase()} recibida el ${R(z.fecha_recepcion)}, la cual fue atendida y cerrada con resultado: ${I(z.resultado).toLowerCase()}.`}function m(){console.log("Generando vista previa PDF"),alert("Se abrir una vista previa del PDF en una nueva ventana.")}async function y(){if(!r.authority){l.authority="Seleccione una autoridad destino";return}s.value=!0;try{await new Promise(z=>setTimeout(z,2e3)),alert(`Reporte generado exitosamente.

Se ha registrado el envo a ${j(r.authority)} y se ha creado el evento de auditora correspondiente.`),A(),t.value="history"}catch(z){console.error("Error al generar reporte:",z),alert("Error al generar el reporte. Intente nuevamente.")}finally{s.value=!1}}function A(){i.value=null,Object.keys(r).forEach(z=>{typeof r[z]=="boolean"?r[z]=z==="includeTimeline"||z==="includeEvidence":r[z]=""})}function N(z){console.log("Descargando reporte:",z.id),alert("Se descargar el archivo PDF del reporte.")}function k(z){console.log("Ver auditora:",z.id),alert("Se mostrar el registro de auditora del envo.")}function T(z){return{maltrato_fisico:"Maltrato fsico",abandono:"Abandono",negligencia:"Negligencia",hacinamiento:"Hacinamiento",animal_herido:"Animal herido",envenenamiento:"Envenenamiento"}[z]||z}function I(z){return{rescatado:"Rescatado",no_encontrado:"No encontrado",derivado:"Derivado a autoridades",sin_merito:"Sin mrito"}[z]||z}function j(z){return{fiscalia:"Fiscala General",policia:"Polica Nacional",procuraduria:"Procuradura",personeria:"Personera",otra:"Otra"}[z]||z}function K(z){return{denuncia_formal:"Denuncia formal",informe_tecnico:"Informe tcnico",solicitud_investigacion:"Solicitud de investigacin",remision_competencia:"Remisin por competencia"}[z]||z||"REPORTE OFICIAL"}function W(z){return{enviado:"Enviado",recibido:"Recibido",en_proceso:"En proceso"}[z]||z}function H(z){const x=p.value.find($=>$.id===z);return(x==null?void 0:x.nombre)||"_________________"}function F(z){const x=p.value.find($=>$.id===z);return(x==null?void 0:x.cargo)||"Funcionario responsable"}function R(z){return z?new Date(z).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"}):""}return(z,x)=>{var $,Z;return D(),M("section",lR,[x[52]||(x[52]=o("div",{class:"form-header"},[o("h2",{class:"h2-tipografia-govco"},"Reportes para Autoridades"),o("p",{class:"text2-tipografia-govco"}," Genere reportes formales de casos de maltrato para envo a Fiscala, Polica u otras autoridades competentes. ")],-1)),o("div",cR,[o("button",{type:"button",class:ot(["report-tab",{active:t.value==="generate"}]),onClick:x[0]||(x[0]=b=>t.value="generate")}," Generar nuevo reporte ",2),o("button",{type:"button",class:ot(["report-tab",{active:t.value==="history"}]),onClick:x[1]||(x[1]=b=>t.value="history")}," Historial de envos ",2)]),t.value==="generate"?(D(),M("div",uR,[o("div",dR,[x[18]||(x[18]=o("h3",{class:"h5-tipografia-govco section-title"},"Seleccionar caso",-1)),o("div",fR,[o("div",pR,[x[16]||(x[16]=o("label",{for:"searchCase"},"Buscar por nmero de caso",-1)),o("div",hR,[$e(o("input",{type:"text",id:"searchCase","onUpdate:modelValue":x[2]||(x[2]=b=>n.value=b),placeholder:"DEN-XXXX-XXXX",onKeyup:Cl(v,["enter"])},null,544),[[lt,n.value]]),o("button",{type:"button",class:"search-btn",onClick:v}," Buscar ")])]),d.value.length>0?(D(),M("div",mR,[x[17]||(x[17]=o("p",{class:"cases-label"},"Casos cerrados disponibles para reporte:",-1)),o("div",vR,[(D(!0),M(rt,null,ht(d.value,b=>{var S;return D(),M("div",{key:b.id,class:ot(["case-item",{selected:((S=i.value)==null?void 0:S.id)===b.id}]),onClick:Q=>w(b)},[o("div",_R,[o("span",bR,P(b.caso_numero),1),o("span",yR,P(T(b.tipo_denuncia)),1)]),o("div",wR,[o("span",null,P(R(b.fecha_cierre)),1),o("span",{class:ot(["result-badge",`result-${b.resultado}`])},P(I(b.resultado)),3)])],10,gR)}),128))])])):_e("",!0)])]),i.value?(D(),M("div",xR,[x[29]||(x[29]=o("h3",{class:"h5-tipografia-govco section-title"},"Informacin del reporte",-1)),o("div",AR,[o("div",SR,[x[20]||(x[20]=o("label",{for:"authority",class:"label-desplegable-govco"},[je(" Autoridad destino"),o("span",{"aria-required":"true"},"*")],-1)),o("div",kR,[$e(o("select",{id:"authority","onUpdate:modelValue":x[3]||(x[3]=b=>r.authority=b)},[...x[19]||(x[19]=[Bt('<option disabled value="" data-v-91bf7da0>Seleccionar autoridad</option><option value="fiscalia" data-v-91bf7da0>Fiscala General de la Nacin</option><option value="policia" data-v-91bf7da0>Polica Nacional - CAIA</option><option value="procuraduria" data-v-91bf7da0>Procuradura General</option><option value="personeria" data-v-91bf7da0>Personera Municipal</option><option value="otra" data-v-91bf7da0>Otra autoridad</option>',6)])],512),[[yt,r.authority]])]),l.authority?(D(),M("span",CR,P(l.authority),1)):_e("",!0)]),r.authority==="otra"?(D(),M("div",ER,[x[21]||(x[21]=o("label",{for:"otherAuthority"},[je("Especifique la autoridad"),o("span",{"aria-required":"true"},"*")],-1)),$e(o("input",{type:"text",id:"otherAuthority","onUpdate:modelValue":x[4]||(x[4]=b=>r.otherAuthority=b),placeholder:"Nombre de la autoridad"},null,512),[[lt,r.otherAuthority]])])):_e("",!0),o("div",LR,[x[23]||(x[23]=o("label",{for:"reportType",class:"label-desplegable-govco"},[je(" Tipo de reporte"),o("span",{"aria-required":"true"},"*")],-1)),o("div",NR,[$e(o("select",{id:"reportType","onUpdate:modelValue":x[5]||(x[5]=b=>r.reportType=b)},[...x[22]||(x[22]=[Bt('<option disabled value="" data-v-91bf7da0>Seleccionar tipo</option><option value="denuncia_formal" data-v-91bf7da0>Denuncia formal</option><option value="informe_tecnico" data-v-91bf7da0>Informe tcnico</option><option value="solicitud_investigacion" data-v-91bf7da0>Solicitud de investigacin</option><option value="remision_competencia" data-v-91bf7da0>Remisin por competencia</option>',5)])],512),[[yt,r.reportType]])])]),o("div",PR,[x[25]||(x[25]=o("label",{for:"responsible",class:"label-desplegable-govco"},[je(" Funcionario responsable"),o("span",{"aria-required":"true"},"*")],-1)),o("div",$R,[$e(o("select",{id:"responsible","onUpdate:modelValue":x[6]||(x[6]=b=>r.responsible=b)},[x[24]||(x[24]=o("option",{disabled:"",value:""},"Seleccionar funcionario",-1)),(D(!0),M(rt,null,ht(p.value,b=>(D(),M("option",{key:b.id,value:b.id},P(b.nombre)+" - "+P(b.cargo),9,TR))),128))],512),[[yt,r.responsible]])])]),o("div",IR,[x[26]||(x[26]=o("label",{for:"summary"},[je("Resumen ejecutivo"),o("span",{"aria-required":"true"},"*")],-1)),$e(o("textarea",{id:"summary","onUpdate:modelValue":x[7]||(x[7]=b=>r.summary=b),rows:"4",placeholder:"Resumen de los hechos relevantes del caso..."},null,512),[[lt,r.summary]]),x[27]||(x[27]=o("span",{class:"info-entradas-de-texto-govco"},"Este resumen aparecer en la primera pgina del reporte.",-1))]),o("div",DR,[x[28]||(x[28]=o("label",{for:"request"},[je("Solicitud a la autoridad"),o("span",{"aria-required":"true"},"*")],-1)),$e(o("textarea",{id:"request","onUpdate:modelValue":x[8]||(x[8]=b=>r.request=b),rows:"3",placeholder:"Describa la accin que se solicita a la autoridad competente..."},null,512),[[lt,r.request]])])])])):_e("",!0),i.value?(D(),M("div",RR,[x[34]||(x[34]=o("h3",{class:"h5-tipografia-govco section-title"},"Contenido a incluir",-1)),o("div",OR,[o("div",MR,[$e(o("input",{type:"checkbox",id:"includeTimeline","onUpdate:modelValue":x[9]||(x[9]=b=>r.includeTimeline=b)},null,512),[[Po,r.includeTimeline]]),x[30]||(x[30]=o("label",{for:"includeTimeline"},"Lnea de tiempo del caso",-1))]),o("div",FR,[$e(o("input",{type:"checkbox",id:"includeEvidence","onUpdate:modelValue":x[10]||(x[10]=b=>r.includeEvidence=b)},null,512),[[Po,r.includeEvidence]]),o("label",BR,"Fotografas y videos evidencia ("+P((($=i.value.evidencias)==null?void 0:$.length)||0)+" archivos)",1)]),o("div",jR,[$e(o("input",{type:"checkbox",id:"includeVetReport","onUpdate:modelValue":x[11]||(x[11]=b=>r.includeVetReport=b)},null,512),[[Po,r.includeVetReport]]),x[31]||(x[31]=o("label",{for:"includeVetReport"},"Informe veterinario (si existe)",-1))]),o("div",zR,[$e(o("input",{type:"checkbox",id:"includeWitness","onUpdate:modelValue":x[12]||(x[12]=b=>r.includeWitness=b)},null,512),[[Po,r.includeWitness]]),x[32]||(x[32]=o("label",{for:"includeWitness"},"Declaraciones de testigos",-1))]),o("div",UR,[$e(o("input",{type:"checkbox",id:"includeResponsible","onUpdate:modelValue":x[13]||(x[13]=b=>r.includeResponsible=b)},null,512),[[Po,r.includeResponsible]]),x[33]||(x[33]=o("label",{for:"includeResponsible"},"Informacin del presunto responsable",-1))])])])):_e("",!0),i.value?(D(),M("div",VR,[x[47]||(x[47]=o("h3",{class:"h5-tipografia-govco section-title"},"Vista previa del reporte",-1)),o("div",qR,[o("div",HR,[x[35]||(x[35]=Bt('<div class="preview-logo" data-v-91bf7da0><span class="gov-logo" data-v-91bf7da0></span><div class="gov-text" data-v-91bf7da0><span class="gov-title" data-v-91bf7da0>ALCALDA MUNICIPAL</span><span class="gov-subtitle" data-v-91bf7da0>Secretara de Bienestar Animal</span></div></div>',1)),o("div",GR,[o("span",WR,P(K(r.reportType)),1),o("span",ZR,"Fecha: "+P(R(new Date)),1)])]),o("div",KR,[o("div",JR,[x[41]||(x[41]=o("h4",null,"DATOS DEL CASO",-1)),o("table",YR,[o("tr",null,[x[36]||(x[36]=o("td",null,[o("strong",null,"Nmero de caso:")],-1)),o("td",null,P(i.value.caso_numero),1)]),o("tr",null,[x[37]||(x[37]=o("td",null,[o("strong",null,"Tipo de denuncia:")],-1)),o("td",null,P(T(i.value.tipo_denuncia)),1)]),o("tr",null,[x[38]||(x[38]=o("td",null,[o("strong",null,"Fecha de recepcin:")],-1)),o("td",null,P(R(i.value.fecha_recepcion)),1)]),o("tr",null,[x[39]||(x[39]=o("td",null,[o("strong",null,"Fecha de cierre:")],-1)),o("td",null,P(R(i.value.fecha_cierre)),1)]),o("tr",null,[x[40]||(x[40]=o("td",null,[o("strong",null,"Resultado:")],-1)),o("td",null,P(I(i.value.resultado)),1)])])]),o("div",XR,[x[42]||(x[42]=o("h4",null,"RESUMEN EJECUTIVO",-1)),o("p",null,P(r.summary||"No especificado"),1)]),o("div",QR,[x[43]||(x[43]=o("h4",null,"SOLICITUD",-1)),o("p",null,P(r.request||"No especificada"),1)]),r.includeTimeline?(D(),M("div",eO,[...x[44]||(x[44]=[o("h4",null,"LNEA DE TIEMPO",-1),o("p",{class:"preview-placeholder"},"[Se incluir la lnea de tiempo completa del caso]",-1)])])):_e("",!0),r.includeEvidence?(D(),M("div",tO,[x[45]||(x[45]=o("h4",null,"EVIDENCIAS ADJUNTAS",-1)),o("p",nO,"[Se incluirn "+P(((Z=i.value.evidencias)==null?void 0:Z.length)||0)+" archivos de evidencia]",1)])):_e("",!0)]),o("div",oO,[o("div",iO,[x[46]||(x[46]=o("div",{class:"signature-line"},null,-1)),o("span",aO,P(H(r.responsible)),1),o("span",sO,P(F(r.responsible)),1)])])])])):_e("",!0),i.value?(D(),M("div",rO,[o("button",{type:"button",class:"govco-btn govco-bg-concrete",onClick:A}," Cancelar "),o("button",{type:"button",class:"govco-btn govco-bg-marine",onClick:m}," Vista previa PDF "),o("button",{type:"button",class:"govco-btn govco-bg-elf-green",disabled:s.value,onClick:y},P(s.value?"Generando...":"Generar y enviar"),9,lO)])):_e("",!0)])):_e("",!0),t.value==="history"?(D(),M("div",cO,[o("div",uO,[o("div",dO,[o("div",fO,[x[48]||(x[48]=o("label",{for:"filterDate"},"Fecha",-1)),$e(o("input",{type:"month",id:"filterDate","onUpdate:modelValue":x[14]||(x[14]=b=>c.date=b)},null,512),[[lt,c.date]])]),o("div",pO,[x[50]||(x[50]=o("label",{for:"filterAuthority",class:"label-desplegable-govco"},"Autoridad",-1)),o("div",hO,[$e(o("select",{id:"filterAuthority","onUpdate:modelValue":x[15]||(x[15]=b=>c.authority=b)},[...x[49]||(x[49]=[o("option",{value:""},"Todas",-1),o("option",{value:"fiscalia"},"Fiscala",-1),o("option",{value:"policia"},"Polica",-1),o("option",{value:"procuraduria"},"Procuradura",-1)])],512),[[yt,c.authority]])])])]),o("div",mO,[o("table",vO,[x[51]||(x[51]=o("thead",null,[o("tr",null,[o("th",null,"Fecha envo"),o("th",null,"Caso"),o("th",null,"Autoridad"),o("th",null,"Tipo"),o("th",null,"Responsable"),o("th",null,"Estado"),o("th",null,"Acciones")])],-1)),o("tbody",null,[(D(!0),M(rt,null,ht(f.value,b=>(D(),M("tr",{key:b.id},[o("td",null,P(R(b.fecha_envio)),1),o("td",gO,P(b.caso_numero),1),o("td",null,P(j(b.autoridad)),1),o("td",null,P(K(b.tipo)),1),o("td",null,P(b.responsable_nombre),1),o("td",null,[o("span",{class:ot(["send-status",`status-${b.estado}`])},P(W(b.estado)),3)]),o("td",_O,[o("button",{type:"button",class:"table-btn",onClick:S=>N(b)}," Descargar ",8,bO),o("button",{type:"button",class:"table-btn",onClick:S=>k(b)}," Auditora ",8,yO)])]))),128))])])])])])):_e("",!0)])}}},xO=It(wO,[["__scopeId","data-v-91bf7da0"]]),AO={class:"header-info"},SO={class:"h4-tipografia-govco"},kO={class:"header-badges"},CO={class:"modal-body"},EO={class:"info-row highlight"},LO={class:"info-item"},NO={class:"info-icon"},PO={class:"info-content"},$O={class:"info-value"},TO={class:"info-item"},IO={class:"info-content"},DO={class:"info-value"},RO={class:"section"},OO={class:"description-text"},MO={class:"section"},FO={class:"location-info"},BO={class:"location-details"},jO={class:"location-text"},zO={key:0,class:"coordinates"},UO={class:"section"},VO={key:0,class:"anonymous-notice"},qO={key:1,class:"reporter-info"},HO={class:"reporter-item"},GO={class:"reporter-value"},WO={key:0,class:"reporter-item"},ZO={class:"reporter-value"},KO={key:1,class:"reporter-item"},JO={class:"reporter-value"},YO={key:2,class:"anonymous-notice"},XO={key:0,class:"section"},QO={class:"team-info"},eM={key:0,class:"team-name"},tM={key:1,class:"team-name"},nM={key:2,class:"team-date"},oM={key:1,class:"section"},iM={class:"section-title"},aM={class:"evidence-grid"},sM={class:"evidence-icon"},rM={class:"evidence-name"},lM={key:2,class:"section"},cM={class:"timeline"},uM={class:"timeline-content"},dM={class:"timeline-date"},fM={class:"timeline-title"},pM={class:"modal-footer"},hM={__name:"ComplaintDetailModal",props:{complaint:{type:Object,required:!0}},emits:["close","assign","register-result"],setup(e){function t(l){return{urgente:"URGENTE",alta:"ALTA",media:"MEDIA",baja:"BAJA"}[l]||(l==null?void 0:l.toUpperCase())||""}function n(l){return{recibida:"Recibida",en_revision:"En revisin",asignada:"Asignada",en_atencion:"En atencin",resuelta:"Resuelta",cerrada:"Cerrada",desestimada:"Desestimada"}[l]||l}function i(l){return{maltrato:"Maltrato",abandono:"Abandono",animal_herido:"Animal herido",animal_peligroso:"Animal peligroso",otro:"Otro"}[l]||l}function s(l){return{maltrato:"",abandono:"",animal_herido:"",animal_peligroso:"",otro:""}[l]||""}function r(l){if(!l)return"Sin fecha";const c=new Date(l);return isNaN(c.getTime())?"Fecha invlida":c.toLocaleDateString("es-CO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}return(l,c)=>(D(),M("div",{class:"modal-overlay",onClick:c[5]||(c[5]=d=>l.$emit("close"))},[o("div",{class:"modal-content",onClick:c[4]||(c[4]=Tt(()=>{},["stop"]))},[o("div",{class:ot(["modal-header",`urgency-bg-${e.complaint.prioridad}`])},[o("div",AO,[o("h3",SO,P(e.complaint.numero_ticket),1),o("div",kO,[o("span",{class:ot(["urgency-badge",`urgency-${e.complaint.prioridad}`])},P(t(e.complaint.prioridad)),3),o("span",{class:ot(["status-badge",`status-${e.complaint.estado}`])},P(n(e.complaint.estado)),3)])]),o("button",{onClick:c[0]||(c[0]=d=>l.$emit("close")),class:"modal-close"},"")],2),o("div",CO,[o("div",EO,[o("div",LO,[o("span",NO,P(s(e.complaint.tipo_denuncia)),1),o("div",PO,[c[6]||(c[6]=o("span",{class:"info-label"},"Tipo de denuncia",-1)),o("span",$O,P(i(e.complaint.tipo_denuncia)),1)])]),o("div",TO,[c[8]||(c[8]=o("span",{class:"info-icon"},"",-1)),o("div",IO,[c[7]||(c[7]=o("span",{class:"info-label"},"Fecha de recepcin",-1)),o("span",DO,P(r(e.complaint.fecha_denuncia||e.complaint.created_at)),1)])])]),o("div",RO,[c[9]||(c[9]=o("h4",{class:"section-title"},"Descripcin del caso",-1)),o("p",OO,P(e.complaint.descripcion),1)]),o("div",MO,[c[11]||(c[11]=o("h4",{class:"section-title"},"Ubicacin",-1)),o("div",FO,[c[10]||(c[10]=o("span",{class:"location-icon"},"",-1)),o("div",BO,[o("span",jO,P(e.complaint.ubicacion||"Sin ubicacin especificada"),1),e.complaint.latitud&&e.complaint.longitud?(D(),M("span",zO,P(Number(e.complaint.latitud).toFixed(5))+", "+P(Number(e.complaint.longitud).toFixed(5)),1)):_e("",!0)])])]),o("div",UO,[c[17]||(c[17]=o("h4",{class:"section-title"},"Denunciante",-1)),e.complaint.es_anonima?(D(),M("div",VO,[...c[12]||(c[12]=[o("span",{class:"notice-icon"},"",-1),o("span",null,"Denuncia annima",-1)])])):e.complaint.denunciante?(D(),M("div",qO,[o("div",HO,[c[13]||(c[13]=o("span",{class:"reporter-label"},"Nombre:",-1)),o("span",GO,P(e.complaint.denunciante.nombres)+" "+P(e.complaint.denunciante.apellidos),1)]),e.complaint.denunciante.telefono?(D(),M("div",WO,[c[14]||(c[14]=o("span",{class:"reporter-label"},"Telfono:",-1)),o("span",ZO,P(e.complaint.denunciante.telefono),1)])):_e("",!0),e.complaint.denunciante.email?(D(),M("div",KO,[c[15]||(c[15]=o("span",{class:"reporter-label"},"Email:",-1)),o("span",JO,P(e.complaint.denunciante.email),1)])):_e("",!0)])):(D(),M("div",YO,[...c[16]||(c[16]=[o("span",{class:"notice-icon"},"",-1),o("span",null,"Sin informacin de denunciante",-1)])]))]),e.complaint.responsable_id||e.complaint.responsable?(D(),M("div",XO,[c[18]||(c[18]=o("h4",{class:"section-title"},"Responsable asignado",-1)),o("div",QO,[e.complaint.responsable?(D(),M("span",eM,P(e.complaint.responsable.nombres)+" "+P(e.complaint.responsable.apellidos),1)):(D(),M("span",tM,"Operador asignado")),e.complaint.fecha_asignacion?(D(),M("span",nM," Asignado: "+P(r(e.complaint.fecha_asignacion)),1)):_e("",!0)])])):_e("",!0),e.complaint.evidencias&&e.complaint.evidencias.length>0?(D(),M("div",oM,[o("h4",iM,"Evidencias ("+P(e.complaint.evidencias.length)+")",1),o("div",aM,[(D(!0),M(rt,null,ht(e.complaint.evidencias,(d,p)=>(D(),M("div",{key:p,class:"evidence-thumb"},[o("span",sM,P(d.includes("video")?"":""),1),o("span",rM,P(d),1)]))),128))])])):_e("",!0),e.complaint.timeline&&e.complaint.timeline.length>0?(D(),M("div",lM,[c[20]||(c[20]=o("h4",{class:"section-title"},"Lnea de tiempo",-1)),o("div",cM,[(D(!0),M(rt,null,ht(e.complaint.timeline,(d,p)=>(D(),M("div",{key:p,class:"timeline-item"},[c[19]||(c[19]=o("div",{class:"timeline-marker"},null,-1)),o("div",uM,[o("span",dM,P(r(d.fecha)),1),o("span",fM,P(d.titulo),1)])]))),128))])])):_e("",!0)]),o("div",pM,[o("button",{onClick:c[1]||(c[1]=d=>l.$emit("close")),class:"govco-btn govco-bg-concrete"}," Cerrar "),!e.complaint.responsable_id&&e.complaint.estado!=="resuelta"?(D(),M("button",{key:0,onClick:c[2]||(c[2]=d=>l.$emit("assign",e.complaint)),class:"govco-btn govco-bg-marine"}," Asignar operador ")):_e("",!0),e.complaint.responsable_id&&e.complaint.estado==="en_proceso"?(D(),M("button",{key:1,onClick:c[3]||(c[3]=d=>l.$emit("register-result",e.complaint)),class:"govco-btn govco-bg-elf-green"}," Registrar resultado ")):_e("",!0)])])]))}},mM=It(hM,[["__scopeId","data-v-ca23ce7e"]]),vM={class:"modal-header"},gM={class:"header-info"},_M={class:"header-subtitle"},bM={class:"modal-body"},yM={class:"complaint-summary"},wM={class:"summary-row"},xM={class:"summary-value"},AM={class:"summary-row"},SM={class:"summary-row"},kM={class:"summary-value"},CM={class:"form-group"},EM=["value","disabled"],LM={key:0,class:"team-info"},NM={class:"team-members"},PM={class:"team-vehicle"},$M={class:"form-row"},TM={class:"form-group"},IM=["min"],DM={class:"form-group"},RM={class:"form-group"},OM={class:"priority-options"},MM=["value"],FM={class:"form-group"},BM={class:"char-count"},jM={class:"modal-footer"},zM=["disabled"],UM={key:0},VM={key:1},qM={__name:"RescueAssignmentModal",props:{complaint:{type:Object,required:!0}},emits:["close","assigned"],setup(e,{emit:t}){const n=e,i=t,s=ve({equipo_id:"",fecha_programada:"",hora_programada:"",prioridad:"media",observaciones:""}),r=ve(!1),l=ve([{id:1,nombre:"Equipo Alfa",miembros:4,vehiculo:"Camioneta 4x4",ocupado:!1},{id:2,nombre:"Equipo Beta",miembros:3,vehiculo:"Van de rescate",ocupado:!0},{id:3,nombre:"Equipo Gamma",miembros:5,vehiculo:"Ambulancia veterinaria",ocupado:!1},{id:4,nombre:"Equipo Delta",miembros:3,vehiculo:"Motocicleta",ocupado:!1}]),c=[{value:"urgente",label:"URGENTE"},{value:"alta",label:"ALTA"},{value:"media",label:"MEDIA"},{value:"baja",label:"BAJA"}],d=We(()=>new Date().toISOString().split("T")[0]),p=We(()=>l.value.find(y=>y.id===s.value.equipo_id)),f=We(()=>s.value.equipo_id&&s.value.fecha_programada&&s.value.hora_programada);function v(y){return{maltrato:"Maltrato",abandono:"Abandono",animal_herido:"Animal herido",animal_peligroso:"Animal peligroso",otro:"Otro"}[y]||y||"Sin tipo"}function w(y){return{urgente:"URGENTE",alta:"ALTA",media:"MEDIA",baja:"BAJA"}[y]||(y==null?void 0:y.toUpperCase())||""}async function m(){var y,A,N,k,T;if(!(!f.value||r.value)){r.value=!0;try{const I=`${s.value.fecha_programada} ${s.value.hora_programada}:00`,j={denuncia_id:n.complaint.id,fecha_programada:I,equipo_rescate:{id:s.value.equipo_id,nombre:(y=p.value)==null?void 0:y.nombre,miembros:(A=p.value)==null?void 0:A.miembros,vehiculo:(N=p.value)==null?void 0:N.vehiculo},observaciones:s.value.observaciones||null},K=await jo.createRescate(j);i("assigned",K.data),i("close")}catch(I){console.error("Error al asignar equipo:",I),alert(((T=(k=I.response)==null?void 0:k.data)==null?void 0:T.message)||"Error al asignar el equipo. Intente nuevamente.")}finally{r.value=!1}}}return(y,A)=>(D(),M("div",{class:"modal-overlay",onClick:A[8]||(A[8]=N=>y.$emit("close"))},[o("div",{class:"modal-content",onClick:A[7]||(A[7]=Tt(()=>{},["stop"]))},[o("div",vM,[o("div",gM,[A[9]||(A[9]=o("h3",{class:"h4-tipografia-govco"},"Asignar equipo de rescate",-1)),o("p",_M,P(e.complaint.numero_ticket||"Sin ticket"),1)]),o("button",{onClick:A[0]||(A[0]=N=>y.$emit("close")),class:"modal-close"},"")]),o("div",bM,[o("div",yM,[o("div",wM,[A[10]||(A[10]=o("span",{class:"summary-label"},"Tipo:",-1)),o("span",xM,P(v(e.complaint.tipo_denuncia)),1)]),o("div",AM,[A[11]||(A[11]=o("span",{class:"summary-label"},"Prioridad:",-1)),o("span",{class:ot(["urgency-badge",`urgency-${e.complaint.prioridad}`])},P(w(e.complaint.prioridad)),3)]),o("div",SM,[A[12]||(A[12]=o("span",{class:"summary-label"},"Ubicacin:",-1)),o("span",kM,P(e.complaint.ubicacion||"Sin ubicacin"),1)])]),o("form",{onSubmit:Tt(m,["prevent"]),class:"assignment-form"},[o("div",CM,[A[14]||(A[14]=o("label",{class:"form-label required"},"Equipo de rescate",-1)),$e(o("select",{"onUpdate:modelValue":A[1]||(A[1]=N=>s.value.equipo_id=N),class:"form-control",required:""},[A[13]||(A[13]=o("option",{value:"",disabled:""},"Seleccione un equipo",-1)),(D(!0),M(rt,null,ht(l.value,N=>(D(),M("option",{key:N.id,value:N.id,disabled:N.ocupado},P(N.nombre)+" "+P(N.ocupado?"(Ocupado)":""),9,EM))),128))],512),[[yt,s.value.equipo_id]]),p.value?(D(),M("p",LM,[o("span",NM,P(p.value.miembros)+" miembros",1),o("span",PM,P(p.value.vehiculo),1)])):_e("",!0)]),o("div",$M,[o("div",TM,[A[15]||(A[15]=o("label",{class:"form-label required"},"Fecha programada",-1)),$e(o("input",{type:"date","onUpdate:modelValue":A[2]||(A[2]=N=>s.value.fecha_programada=N),class:"form-control",min:d.value,required:""},null,8,IM),[[lt,s.value.fecha_programada]])]),o("div",DM,[A[16]||(A[16]=o("label",{class:"form-label required"},"Hora programada",-1)),$e(o("input",{type:"time","onUpdate:modelValue":A[3]||(A[3]=N=>s.value.hora_programada=N),class:"form-control",required:""},null,512),[[lt,s.value.hora_programada]])])]),o("div",RM,[A[17]||(A[17]=o("label",{class:"form-label"},"Prioridad de atencin",-1)),o("div",OM,[(D(),M(rt,null,ht(c,N=>o("label",{key:N.value,class:ot(["priority-option",{active:s.value.prioridad===N.value}])},[$e(o("input",{type:"radio","onUpdate:modelValue":A[4]||(A[4]=k=>s.value.prioridad=k),value:N.value,class:"priority-radio"},null,8,MM),[[Ql,s.value.prioridad]]),o("span",{class:ot(["priority-badge-small",`urgency-${N.value}`])},P(N.label),3)],2)),64))])]),o("div",FM,[A[18]||(A[18]=o("label",{class:"form-label"},"Observaciones",-1)),$e(o("textarea",{"onUpdate:modelValue":A[5]||(A[5]=N=>s.value.observaciones=N),class:"form-control textarea",rows:"3",placeholder:"Indicaciones adicionales para el equipo de rescate...",maxlength:"500"},null,512),[[lt,s.value.observaciones]]),o("span",BM,P(s.value.observaciones.length)+"/500",1)])],32)]),o("div",jM,[o("button",{onClick:A[6]||(A[6]=N=>y.$emit("close")),class:"govco-btn govco-bg-concrete"}," Cancelar "),o("button",{onClick:m,class:"govco-btn govco-bg-marine",disabled:!f.value||r.value},[r.value?(D(),M("span",UM,"Asignando...")):(D(),M("span",VM,"Asignar equipo"))],8,zM)])])]))}},HM=It(qM,[["__scopeId","data-v-3840581f"]]),GM={class:"modal-header"},WM={class:"header-info"},ZM={class:"header-subtitle"},KM={class:"stepper"},JM=["onClick"],YM={class:"step-number"},XM={key:0},QM={key:1},eF={class:"step-label"},tF={class:"modal-body"},nF={class:"operation-summary"},oF={class:"summary-row"},iF={class:"summary-item"},aF={class:"summary-content"},sF={class:"summary-value"},rF={class:"summary-item"},lF={class:"summary-content"},cF={class:"summary-value"},uF={class:"summary-item full-width"},dF={class:"summary-content"},fF={class:"summary-value"},pF={key:0,class:"step-content"},hF={class:"form-group"},mF={class:"result-options"},vF={class:"form-group"},gF={key:0,class:"form-group"},_F={class:"form-row"},bF={class:"form-group"},yF=["max"],wF={class:"form-group"},xF={key:1,class:"step-content"},AF={class:"form-group"},SF={class:"result-options"},kF={class:"animal-section"},CF={class:"form-row"},EF={class:"form-group"},LF={class:"form-group"},NF={class:"form-row"},PF={class:"form-group"},$F={class:"form-group"},TF={class:"animal-section"},IF={class:"form-row"},DF={class:"form-group"},RF={class:"form-group"},OF={class:"form-row"},MF={class:"form-group"},FF={class:"form-group"},BF={class:"form-group"},jF={class:"animal-section"},zF={class:"form-row"},UF={class:"form-group"},VF={class:"form-group"},qF={class:"form-group"},HF={class:"animal-section"},GF={class:"form-row"},WF={class:"form-group"},ZF={class:"form-group"},KF={class:"animal-section"},JF={class:"photo-upload-area"},YF={key:0,class:"photos-preview"},XF=["src","alt"],QF=["onClick"],eB={key:0,class:"photo-badge"},tB={key:1,class:"info-box"},nB={key:2,class:"step-content"},oB={class:"summary-card"},iB={class:"summary-section"},aB={class:"summary-value"},sB={class:"summary-section"},rB={class:"summary-value"},lB={class:"summary-section"},cB={class:"summary-value text-wrap"},uB={key:0,class:"summary-section"},dB={class:"summary-value text-wrap"},fB={key:1,class:"summary-section animal-summary"},pB={class:"summary-value animal-details"},hB={class:"animal-info-grid"},mB={class:"animal-info-item"},vB={class:"info-value"},gB={key:0,class:"animal-info-item"},_B={class:"info-value"},bB={class:"animal-info-item"},yB={class:"info-value"},wB={key:1,class:"animal-info-item"},xB={class:"info-value"},AB={key:2,class:"animal-info-item"},SB={class:"info-value"},kB={key:3,class:"animal-info-item"},CB={class:"info-value"},EB={class:"animal-info-item"},LB={class:"animal-info-item"},NB={class:"info-value"},PB={class:"animal-info-item"},$B={class:"info-value"},TB={key:0,class:"animal-photos-summary"},IB={class:"info-value"},DB={key:2,class:"summary-section"},RB={class:"final-status"},OB={class:"status-note"},MB={class:"modal-footer"},FB=["disabled"],BB=["disabled"],jB={key:0},zB={key:1},UB={__name:"RescueResultModal",props:{complaint:{type:Object,required:!0}},emits:["close","saved"],setup(e,{emit:t}){const n=e,i=t,s=Br(),r=ve(!1),l=ve(null),c=ve(0),d=We(()=>f.value.exitoso===!1?[{id:"resultado",label:"Resultado"},{id:"cierre",label:"Cierre"}]:[{id:"resultado",label:"Resultado"},{id:"animal",label:"Animal"},{id:"cierre",label:"Cierre"}]),p=We(()=>d.value.length),f=ve({exitoso:null,observaciones:"",motivo_fallo:"",fecha_ejecucion:new Date().toISOString().split("T")[0],hora_ejecucion:new Date().toTimeString().slice(0,5),animal_rescatado:null,animal:{nombre:"",especie:"",raza:"",sexo:"desconocido",color:"",tamanio:"",edad_aproximada:null,peso_actual:null,senias_particulares:"",estado_salud:"",estado:"",esterilizacion:null,observaciones:"",destino:"",fotos:[]}});function v(){var b;(b=l.value)==null||b.click()}function w(b){const S=b.target.files;if(!S||S.length===0)return;const Q=10*1024*1024,U=["image/jpeg","image/jpg","image/png"];for(const le of S){if(!U.includes(le.type)){window.$toast&&window.$toast.warning("Archivo no vlido",`${le.name} no es un formato permitido (JPG/PNG).`);continue}if(le.size>Q){window.$toast&&window.$toast.warning("Archivo muy grande",`${le.name} supera el lmite de 10 MB.`);continue}const xe=new FileReader;xe.onload=ke=>{f.value.animal.fotos.push({file:le,preview:ke.target.result})},xe.readAsDataURL(le)}b.target.value=""}function m(b){f.value.animal.fotos.splice(b,1)}const y=We(()=>new Date().toISOString().split("T")[0]),A=We(()=>{var S;const b=n.complaint.rescate;return(S=b==null?void 0:b.equipo_rescate)!=null&&S.nombre?b.equipo_rescate.nombre:"Equipo asignado"}),N=We(()=>{if(c.value===0){const b=f.value.exitoso!==null&&f.value.observaciones.trim()!==""&&f.value.fecha_ejecucion&&f.value.hora_ejecucion;return f.value.exitoso===!1?b&&f.value.motivo_fallo.trim()!=="":b}return c.value===1?f.value.exitoso===!1?!0:f.value.animal_rescatado===null?!1:f.value.animal_rescatado===!1?!0:f.value.animal.especie!==""&&f.value.animal.estado_salud!==""&&f.value.animal.estado!==""&&f.value.animal.destino!=="":!0}),k=We(()=>{const b=f.value.exitoso!==null&&f.value.observaciones.trim()!==""&&f.value.fecha_ejecucion&&f.value.hora_ejecucion;return f.value.exitoso===!1?b&&f.value.motivo_fallo.trim()!=="":f.value.animal_rescatado===!0?b&&f.value.animal.especie!==""&&f.value.animal.estado_salud!==""&&f.value.animal.estado!==""&&f.value.animal.destino!=="":b&&f.value.animal_rescatado!==null});function T(){N.value&&c.value<p.value-1&&c.value++}function I(){c.value>0&&c.value--}function j(b){b<c.value&&(c.value=b)}function K(b){if(!b)return"Sin fecha";const S=new Date(b);return isNaN(S.getTime())?"Fecha invlida":S.toLocaleDateString("es-CO",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function W(b){return{en_refugio:"En refugio",en_tratamiento:"En tratamiento",en_adopcion:"En adopcin",adoptado:"Adoptado",fallecido:"Fallecido",en_calle:"En calle"}[b]||b||"No especificado"}function H(b){return{critico:"Crtico",grave:"Grave",estable:"Estable",bueno:"Bueno",excelente:"Excelente"}[b]||b||"No especificado"}function F(b){return{refugio:"Refugio municipal",clinica_veterinaria:"Clnica veterinaria",hogar_paso:"Hogar de paso",liberado:"Liberado",fallecido:"Fallecido en sitio"}[b]||b||"No especificado"}function R(b){return{canino:"Canino (Perro)",felino:"Felino (Gato)",equino:"Equino",ave:"Ave",otro:"Otro"}[b]||b||"No especificada"}function z(b){return{macho:"Macho",hembra:"Hembra",desconocido:"Desconocido"}[b]||b||"Desconocido"}function x(b){return{pequenio:"Pequeo",mediano:"Mediano",grande:"Grande",muy_grande:"Muy grande"}[b]||b||"No especificado"}function $(b){if(!b)return"Desconocida";const S=Math.floor(b/12),Q=b%12,U=[];return S>0&&U.push(`${S} ao${S>1?"s":""}`),Q>0&&U.push(`${Q} mes${Q>1?"es":""}`),U.join(" y ")||"Desconocida"}async function Z(){var b,S,Q,U,le,xe;if(!(!k.value||r.value)){r.value=!0;try{const ke=n.complaint.rescate_id||((b=n.complaint.rescate)==null?void 0:b.id),Le=n.complaint.id;if(!ke)throw new Error("No se encontr el ID del rescate");const X=`${f.value.fecha_ejecucion} ${f.value.hora_ejecucion}:00`;let he=null;if(f.value.exitoso&&f.value.animal_rescatado&&f.value.animal.especie){console.log("Registrando animal rescatado...");const Y={nombre:f.value.animal.nombre||null,especie:f.value.animal.especie,raza:f.value.animal.raza||null,sexo:f.value.animal.sexo||"desconocido",color:f.value.animal.color||null,tamanio:f.value.animal.tamanio||null,edad_aproximada:f.value.animal.edad_aproximada||null,peso_actual:f.value.animal.peso_actual||null,senias_particulares:f.value.animal.senias_particulares||null,estado_salud:f.value.animal.estado_salud,estado:f.value.animal.estado,esterilizacion:f.value.animal.esterilizacion,observaciones:f.value.animal.observaciones||null,fecha_rescate:f.value.fecha_ejecucion,ubicacion_rescate:n.complaint.ubicacion||n.complaint.direccion||null,procedencia:"rescate"};if(f.value.animal.fotos.length>0){const fe=new FormData;Object.entries(Y).forEach(([se,de])=>{de==null||de===""||(typeof de=="boolean"?fe.append(se,de?"1":"0"):fe.append(se,String(de)))});const ae=(S=f.value.animal.fotos[0])==null?void 0:S.file;ae&&fe.append("foto_principal",ae),f.value.animal.fotos.slice(1).forEach(se=>{se.file&&fe.append("galeria_fotos[]",se.file)});const te=await Xe.post("/animals",fe);he=((Q=te.data)==null?void 0:Q.data)??te.data}else{const fe=await Xe.post("/animals",Y);he=((U=fe.data)==null?void 0:U.data)??fe.data}console.log("Animal registrado:",he)}const J={exitoso:f.value.exitoso,observaciones:f.value.observaciones,fecha_ejecucion:X,motivo_fallo:f.value.exitoso===!1?f.value.motivo_fallo:null,estado_animal_rescate:f.value.animal_rescatado?f.value.animal.estado_salud:null,destino:f.value.animal_rescatado?f.value.animal.destino:null,animal_id:(he==null?void 0:he.id)||null};if(await jo.updateRescate(ke,J),he!=null&&he.id)try{await jo.vincularAnimal(ke,he.id),console.log("Animal vinculado al rescate")}catch(Y){console.warn("No se pudo vincular animal al rescate:",Y)}const V={estado:f.value.exitoso?"resuelta":"cerrada",observaciones_resolucion:f.value.observaciones};if(await jo.actualizarEstado(Le,V),await Promise.all([s.fetchRescates(),s.fetchDenuncias()]),window.$toast){const Y=he?`El operativo fue exitoso y se registr el animal (${he.codigo_unico||"ID: "+he.id}).`:`El operativo ha sido marcado como ${f.value.exitoso?"exitoso":"no exitoso"}.`;window.$toast.success("Resultado registrado",Y)}i("saved"),i("close")}catch(ke){console.error("Error al registrar resultado:",ke);const Le=((xe=(le=ke.response)==null?void 0:le.data)==null?void 0:xe.message)||"Error al guardar el resultado. Intente nuevamente.";window.$toast?window.$toast.error("Error",Le):alert(Le)}finally{r.value=!1}}}return(b,S)=>{var Q;return D(),M("div",{class:"modal-overlay",onClick:S[27]||(S[27]=U=>b.$emit("close"))},[o("div",{class:"modal-content modal-large",onClick:S[26]||(S[26]=Tt(()=>{},["stop"]))},[o("div",GM,[o("div",WM,[S[28]||(S[28]=o("h3",{class:"h4-tipografia-govco"},"Registrar resultado del operativo",-1)),o("p",ZM,P(e.complaint.numero_ticket||"Sin ticket"),1)]),o("button",{onClick:S[0]||(S[0]=U=>b.$emit("close")),class:"modal-close"},"")]),o("div",KM,[(D(!0),M(rt,null,ht(d.value,(U,le)=>(D(),M("div",{key:U.id,class:ot(["step",{active:c.value===le,completed:c.value>le,clickable:le<c.value}]),onClick:xe=>j(le)},[o("div",YM,[c.value>le?(D(),M("span",XM,"")):(D(),M("span",QM,P(le+1),1))]),o("span",eF,P(U.label),1)],10,JM))),128))]),o("div",tF,[o("div",nF,[o("div",oF,[o("div",iF,[S[30]||(S[30]=o("span",{class:"summary-icon"},"",-1)),o("div",aF,[S[29]||(S[29]=o("span",{class:"summary-label"},"Equipo",-1)),o("span",sF,P(A.value),1)])]),o("div",rF,[S[32]||(S[32]=o("span",{class:"summary-icon"},"",-1)),o("div",lF,[S[31]||(S[31]=o("span",{class:"summary-label"},"Programado",-1)),o("span",cF,P(K((Q=e.complaint.rescate)==null?void 0:Q.fecha_programada)),1)])])]),o("div",uF,[S[34]||(S[34]=o("span",{class:"summary-icon"},"",-1)),o("div",dF,[S[33]||(S[33]=o("span",{class:"summary-label"},"Ubicacin",-1)),o("span",fF,P(e.complaint.ubicacion||"Sin ubicacin"),1)])])]),c.value===0?(D(),M("div",pF,[o("form",{onSubmit:S[7]||(S[7]=Tt(()=>{},["prevent"])),class:"result-form"},[o("div",hF,[S[41]||(S[41]=o("label",{class:"form-label required"},"Resultado del operativo",-1)),o("div",mF,[o("label",{class:ot(["result-option",{active:f.value.exitoso===!0}])},[$e(o("input",{type:"radio","onUpdate:modelValue":S[1]||(S[1]=U=>f.value.exitoso=U),value:!0,class:"result-radio"},null,512),[[Ql,f.value.exitoso]]),S[35]||(S[35]=o("span",{class:"result-icon-big success"},"",-1)),S[36]||(S[36]=o("span",{class:"result-label"},"Exitoso",-1)),S[37]||(S[37]=o("span",{class:"result-desc"},"Se complet el rescate",-1))],2),o("label",{class:ot(["result-option",{active:f.value.exitoso===!1}])},[$e(o("input",{type:"radio","onUpdate:modelValue":S[2]||(S[2]=U=>f.value.exitoso=U),value:!1,class:"result-radio"},null,512),[[Ql,f.value.exitoso]]),S[38]||(S[38]=o("span",{class:"result-icon-big error"},"",-1)),S[39]||(S[39]=o("span",{class:"result-label"},"No exitoso",-1)),S[40]||(S[40]=o("span",{class:"result-desc"},"No se pudo completar",-1))],2)])]),o("div",vF,[S[42]||(S[42]=o("label",{class:"form-label required"},"Descripcin del resultado",-1)),$e(o("textarea",{"onUpdate:modelValue":S[3]||(S[3]=U=>f.value.observaciones=U),class:"form-control textarea",rows:"4",placeholder:"Describa detalladamente lo encontrado en el lugar y las acciones realizadas...",required:""},null,512),[[lt,f.value.observaciones]])]),f.value.exitoso===!1?(D(),M("div",gF,[S[43]||(S[43]=o("label",{class:"form-label required"},"Motivo del fallo",-1)),$e(o("textarea",{"onUpdate:modelValue":S[4]||(S[4]=U=>f.value.motivo_fallo=U),class:"form-control textarea",rows:"3",placeholder:"Indique por qu no se pudo completar el rescate...",required:""},null,512),[[lt,f.value.motivo_fallo]])])):_e("",!0),o("div",_F,[o("div",bF,[S[44]||(S[44]=o("label",{class:"form-label required"},"Fecha de atencin",-1)),$e(o("input",{type:"date","onUpdate:modelValue":S[5]||(S[5]=U=>f.value.fecha_ejecucion=U),class:"form-control",max:y.value,required:""},null,8,yF),[[lt,f.value.fecha_ejecucion]])]),o("div",wF,[S[45]||(S[45]=o("label",{class:"form-label required"},"Hora de atencin",-1)),$e(o("input",{type:"time","onUpdate:modelValue":S[6]||(S[6]=U=>f.value.hora_ejecucion=U),class:"form-control",required:""},null,512),[[lt,f.value.hora_ejecucion]])])])],32)])):_e("",!0),c.value===1?(D(),M("div",xF,[S[81]||(S[81]=o("div",{class:"step-intro"},[o("p",null,"Registre la informacin completa del animal rescatado para vincularlo al sistema.")],-1)),o("form",{onSubmit:S[24]||(S[24]=Tt(()=>{},["prevent"])),class:"result-form"},[o("div",AF,[S[50]||(S[50]=o("label",{class:"form-label required"},"Se rescat un animal?",-1)),o("div",SF,[o("label",{class:ot(["result-option small",{active:f.value.animal_rescatado===!0}])},[$e(o("input",{type:"radio","onUpdate:modelValue":S[8]||(S[8]=U=>f.value.animal_rescatado=U),value:!0,class:"result-radio"},null,512),[[Ql,f.value.animal_rescatado]]),S[46]||(S[46]=o("span",{class:"result-icon-big"},"",-1)),S[47]||(S[47]=o("span",{class:"result-label"},"S",-1))],2),o("label",{class:ot(["result-option small",{active:f.value.animal_rescatado===!1}])},[$e(o("input",{type:"radio","onUpdate:modelValue":S[9]||(S[9]=U=>f.value.animal_rescatado=U),value:!1,class:"result-radio"},null,512),[[Ql,f.value.animal_rescatado]]),S[48]||(S[48]=o("span",{class:"result-icon-big"},"",-1)),S[49]||(S[49]=o("span",{class:"result-label"},"No",-1))],2)])]),f.value.animal_rescatado===!0?(D(),M(rt,{key:0},[o("div",kF,[S[57]||(S[57]=o("h5",{class:"section-title"},"Identificacin del animal",-1)),o("div",CF,[o("div",EF,[S[51]||(S[51]=o("label",{class:"form-label"},"Nombre (opcional)",-1)),$e(o("input",{type:"text","onUpdate:modelValue":S[10]||(S[10]=U=>f.value.animal.nombre=U),class:"form-control",placeholder:"Si se conoce el nombre..."},null,512),[[lt,f.value.animal.nombre]])]),o("div",LF,[S[53]||(S[53]=o("label",{class:"form-label required"},"Especie",-1)),$e(o("select",{"onUpdate:modelValue":S[11]||(S[11]=U=>f.value.animal.especie=U),class:"form-control",required:""},[...S[52]||(S[52]=[Bt('<option value="" data-v-4c90fe48>Seleccione...</option><option value="canino" data-v-4c90fe48>Canino (Perro)</option><option value="felino" data-v-4c90fe48>Felino (Gato)</option><option value="equino" data-v-4c90fe48>Equino</option><option value="ave" data-v-4c90fe48>Ave</option><option value="otro" data-v-4c90fe48>Otro</option>',6)])],512),[[yt,f.value.animal.especie]])])]),o("div",NF,[o("div",PF,[S[54]||(S[54]=o("label",{class:"form-label"},"Raza (aproximada)",-1)),$e(o("input",{type:"text","onUpdate:modelValue":S[12]||(S[12]=U=>f.value.animal.raza=U),class:"form-control",placeholder:"Ej: Mestizo, Labrador, Criollo..."},null,512),[[lt,f.value.animal.raza]])]),o("div",$F,[S[56]||(S[56]=o("label",{class:"form-label"},"Sexo",-1)),$e(o("select",{"onUpdate:modelValue":S[13]||(S[13]=U=>f.value.animal.sexo=U),class:"form-control"},[...S[55]||(S[55]=[o("option",{value:"desconocido"},"Desconocido",-1),o("option",{value:"macho"},"Macho",-1),o("option",{value:"hembra"},"Hembra",-1)])],512),[[yt,f.value.animal.sexo]])])])]),o("div",TF,[S[65]||(S[65]=o("h5",{class:"section-title"},"Caractersticas fsicas",-1)),o("div",IF,[o("div",DF,[S[58]||(S[58]=o("label",{class:"form-label"},"Color",-1)),$e(o("input",{type:"text","onUpdate:modelValue":S[14]||(S[14]=U=>f.value.animal.color=U),class:"form-control",placeholder:"Ej: Negro, Blanco con manchas caf..."},null,512),[[lt,f.value.animal.color]])]),o("div",RF,[S[60]||(S[60]=o("label",{class:"form-label"},"Tamao",-1)),$e(o("select",{"onUpdate:modelValue":S[15]||(S[15]=U=>f.value.animal.tamanio=U),class:"form-control"},[...S[59]||(S[59]=[Bt('<option value="" data-v-4c90fe48>Seleccione...</option><option value="pequenio" data-v-4c90fe48>Pequeo</option><option value="mediano" data-v-4c90fe48>Mediano</option><option value="grande" data-v-4c90fe48>Grande</option><option value="muy_grande" data-v-4c90fe48>Muy grande</option>',5)])],512),[[yt,f.value.animal.tamanio]])])]),o("div",OF,[o("div",MF,[S[61]||(S[61]=o("label",{class:"form-label"},"Edad aproximada (meses)",-1)),$e(o("input",{type:"number","onUpdate:modelValue":S[16]||(S[16]=U=>f.value.animal.edad_aproximada=U),class:"form-control",min:"0",placeholder:"Ej: 24 (para 2 aos)"},null,512),[[lt,f.value.animal.edad_aproximada,void 0,{number:!0}]]),S[62]||(S[62]=o("span",{class:"form-hint"},"Ingrese en meses (12 = 1 ao)",-1))]),o("div",FF,[S[63]||(S[63]=o("label",{class:"form-label"},"Peso aproximado (kg)",-1)),$e(o("input",{type:"number","onUpdate:modelValue":S[17]||(S[17]=U=>f.value.animal.peso_actual=U),class:"form-control",min:"0",step:"0.1",placeholder:"Ej: 15.5"},null,512),[[lt,f.value.animal.peso_actual,void 0,{number:!0}]])])]),o("div",BF,[S[64]||(S[64]=o("label",{class:"form-label"},"Seas particulares",-1)),$e(o("textarea",{"onUpdate:modelValue":S[18]||(S[18]=U=>f.value.animal.senias_particulares=U),class:"form-control textarea",rows:"2",placeholder:"Cicatrices, marcas, collar, microchip visible, etc..."},null,512),[[lt,f.value.animal.senias_particulares]])])]),o("div",jF,[S[71]||(S[71]=o("h5",{class:"section-title"},"Estado de salud al rescate",-1)),o("div",zF,[o("div",UF,[S[67]||(S[67]=o("label",{class:"form-label required"},"Estado de salud",-1)),$e(o("select",{"onUpdate:modelValue":S[19]||(S[19]=U=>f.value.animal.estado_salud=U),class:"form-control",required:""},[...S[66]||(S[66]=[Bt('<option value="" data-v-4c90fe48>Seleccione...</option><option value="critico" data-v-4c90fe48>Crtico - Requiere atencin inmediata</option><option value="grave" data-v-4c90fe48>Grave - Requiere atencin urgente</option><option value="estable" data-v-4c90fe48>Estable - Condicin controlada</option><option value="bueno" data-v-4c90fe48>Bueno - Sin problemas aparentes</option><option value="excelente" data-v-4c90fe48>Excelente - Muy buen estado</option>',6)])],512),[[yt,f.value.animal.estado_salud]])]),o("div",VF,[S[69]||(S[69]=o("label",{class:"form-label"},"Est esterilizado?",-1)),$e(o("select",{"onUpdate:modelValue":S[20]||(S[20]=U=>f.value.animal.esterilizacion=U),class:"form-control"},[...S[68]||(S[68]=[o("option",{value:null},"Desconocido",-1),o("option",{value:!0},"S",-1),o("option",{value:!1},"No",-1)])],512),[[yt,f.value.animal.esterilizacion]])])]),o("div",qF,[S[70]||(S[70]=o("label",{class:"form-label"},"Observaciones mdicas",-1)),$e(o("textarea",{"onUpdate:modelValue":S[21]||(S[21]=U=>f.value.animal.observaciones=U),class:"form-control textarea",rows:"2",placeholder:"Lesiones, enfermedades visibles, comportamiento, etc..."},null,512),[[lt,f.value.animal.observaciones]])])]),o("div",HF,[S[76]||(S[76]=o("h5",{class:"section-title"},"Destino del animal",-1)),o("div",GF,[o("div",WF,[S[73]||(S[73]=o("label",{class:"form-label required"},"Estado inicial",-1)),$e(o("select",{"onUpdate:modelValue":S[22]||(S[22]=U=>f.value.animal.estado=U),class:"form-control",required:""},[...S[72]||(S[72]=[Bt('<option value="" data-v-4c90fe48>Seleccione...</option><option value="en_refugio" data-v-4c90fe48>En refugio</option><option value="en_tratamiento" data-v-4c90fe48>En tratamiento mdico</option><option value="en_adopcion" data-v-4c90fe48>Disponible para adopcin</option><option value="fallecido" data-v-4c90fe48>Fallecido</option>',5)])],512),[[yt,f.value.animal.estado]])]),o("div",ZF,[S[75]||(S[75]=o("label",{class:"form-label required"},"Destino",-1)),$e(o("select",{"onUpdate:modelValue":S[23]||(S[23]=U=>f.value.animal.destino=U),class:"form-control",required:""},[...S[74]||(S[74]=[Bt('<option value="" data-v-4c90fe48>Seleccione...</option><option value="refugio" data-v-4c90fe48>Refugio municipal</option><option value="clinica_veterinaria" data-v-4c90fe48>Clnica veterinaria</option><option value="hogar_paso" data-v-4c90fe48>Hogar de paso</option><option value="liberado" data-v-4c90fe48>Liberado (fauna silvestre)</option><option value="fallecido" data-v-4c90fe48>Fallecido en sitio</option>',6)])],512),[[yt,f.value.animal.destino]])])])]),o("div",KF,[S[79]||(S[79]=o("h5",{class:"section-title"},"Fotografas del animal",-1)),o("div",JF,[o("input",{type:"file",ref_key:"fileInput",ref:l,onChange:w,accept:"image/jpeg,image/jpg,image/png",multiple:"",class:"file-input-hidden"},null,544),o("button",{type:"button",onClick:v,class:"upload-btn"},[...S[77]||(S[77]=[o("span",{class:"upload-icon"},"",-1),o("span",null,"Agregar fotografas",-1)])]),S[78]||(S[78]=o("p",{class:"upload-hint"},"JPG o PNG. Mximo 10 MB por archivo.",-1))]),f.value.animal.fotos.length>0?(D(),M("div",YF,[(D(!0),M(rt,null,ht(f.value.animal.fotos,(U,le)=>(D(),M("div",{key:le,class:"photo-item"},[o("img",{src:U.preview,alt:`Foto ${le+1}`},null,8,XF),o("button",{type:"button",onClick:xe=>m(le),class:"photo-remove",title:"Eliminar foto"},"",8,QF),le===0?(D(),M("span",eB,"Principal")):_e("",!0)]))),128))])):_e("",!0)])],64)):_e("",!0),f.value.animal_rescatado===!1?(D(),M("div",tB,[...S[80]||(S[80]=[o("span",{class:"info-icon"},"",-1),o("p",null,"El operativo fue exitoso pero no se rescat ningn animal. Puede continuar al cierre del caso.",-1)])])):_e("",!0)],32)])):_e("",!0),c.value===2?(D(),M("div",nB,[S[100]||(S[100]=o("div",{class:"step-intro"},[o("p",null,"Revise la informacin y confirme el cierre del operativo.")],-1)),o("div",oB,[S[98]||(S[98]=o("h4",null,"Resumen del operativo",-1)),o("div",iB,[S[82]||(S[82]=o("div",{class:"summary-label"},"Resultado:",-1)),o("div",aB,[o("span",{class:ot(f.value.exitoso?"badge-success":"badge-error")},P(f.value.exitoso?" Exitoso":" No exitoso"),3)])]),o("div",sB,[S[83]||(S[83]=o("div",{class:"summary-label"},"Fecha de atencin:",-1)),o("div",rB,P(f.value.fecha_ejecucion)+" "+P(f.value.hora_ejecucion),1)]),o("div",lB,[S[84]||(S[84]=o("div",{class:"summary-label"},"Observaciones:",-1)),o("div",cB,P(f.value.observaciones||"Sin observaciones"),1)]),f.value.exitoso===!1?(D(),M("div",uB,[S[85]||(S[85]=o("div",{class:"summary-label"},"Motivo del fallo:",-1)),o("div",dB,P(f.value.motivo_fallo),1)])):_e("",!0),f.value.exitoso&&f.value.animal_rescatado?(D(),M("div",fB,[S[96]||(S[96]=o("div",{class:"summary-label"},"Animal rescatado:",-1)),o("div",pB,[o("div",hB,[o("div",mB,[S[86]||(S[86]=o("span",{class:"info-label"},"Especie:",-1)),o("span",vB,P(R(f.value.animal.especie)),1)]),f.value.animal.raza?(D(),M("div",gB,[S[87]||(S[87]=o("span",{class:"info-label"},"Raza:",-1)),o("span",_B,P(f.value.animal.raza),1)])):_e("",!0),o("div",bB,[S[88]||(S[88]=o("span",{class:"info-label"},"Sexo:",-1)),o("span",yB,P(z(f.value.animal.sexo)),1)]),f.value.animal.color?(D(),M("div",wB,[S[89]||(S[89]=o("span",{class:"info-label"},"Color:",-1)),o("span",xB,P(f.value.animal.color),1)])):_e("",!0),f.value.animal.tamanio?(D(),M("div",AB,[S[90]||(S[90]=o("span",{class:"info-label"},"Tamao:",-1)),o("span",SB,P(x(f.value.animal.tamanio)),1)])):_e("",!0),f.value.animal.edad_aproximada?(D(),M("div",kB,[S[91]||(S[91]=o("span",{class:"info-label"},"Edad:",-1)),o("span",CB,P($(f.value.animal.edad_aproximada)),1)])):_e("",!0),o("div",EB,[S[92]||(S[92]=o("span",{class:"info-label"},"Estado salud:",-1)),o("span",{class:ot(["info-value",`health-${f.value.animal.estado_salud}`])},P(H(f.value.animal.estado_salud)),3)]),o("div",LB,[S[93]||(S[93]=o("span",{class:"info-label"},"Estado:",-1)),o("span",NB,P(W(f.value.animal.estado)),1)]),o("div",PB,[S[94]||(S[94]=o("span",{class:"info-label"},"Destino:",-1)),o("span",$B,P(F(f.value.animal.destino)),1)])]),f.value.animal.fotos.length>0?(D(),M("div",TB,[S[95]||(S[95]=o("span",{class:"info-label"},"Fotos:",-1)),o("span",IB,P(f.value.animal.fotos.length)+" fotografa(s) adjunta(s)",1)])):_e("",!0)])])):_e("",!0),f.value.exitoso&&f.value.animal_rescatado===!1?(D(),M("div",DB,[...S[97]||(S[97]=[o("div",{class:"summary-label"},"Animal rescatado:",-1),o("div",{class:"summary-value"},"No se rescat ningn animal",-1)])])):_e("",!0)]),o("div",RB,[S[99]||(S[99]=o("label",{class:"form-label"},"Estado final de la denuncia:",-1)),o("div",{class:ot(["status-badge",f.value.exitoso?"status-resuelta":"status-cerrada"])},P(f.value.exitoso?"Resuelta":"Cerrada"),3),o("p",OB,P(f.value.exitoso?"La denuncia ser marcada como resuelta exitosamente.":"La denuncia ser cerrada debido a que el operativo no fue exitoso."),1)])])):_e("",!0)]),o("div",MB,[c.value>0?(D(),M("button",{key:0,onClick:I,class:"govco-btn govco-bg-concrete"}," Anterior ")):(D(),M("button",{key:1,onClick:S[25]||(S[25]=U=>b.$emit("close")),class:"govco-btn govco-bg-concrete"}," Cancelar ")),c.value<p.value-1?(D(),M("button",{key:2,onClick:T,class:"govco-btn govco-bg-elf-green",disabled:!N.value}," Siguiente ",8,FB)):(D(),M("button",{key:3,onClick:Z,class:"govco-btn govco-bg-elf-green",disabled:!k.value||r.value},[r.value?(D(),M("span",jB,"Guardando...")):(D(),M("span",zB,"Finalizar y cerrar"))],8,BB))])])])}}},VB=It(UB,[["__scopeId","data-v-4c90fe48"]]),qB={class:"complaints-view"},HB={class:"complaints-tabs"},GB=["onClick"],WB=["innerHTML"],ZB={class:"complaints-tab-content"},KB={__name:"ComplaintsView",setup(e){const t=gu(),n=Br(),i=ve("report"),s=ve(null),r=ve(!1),l=ve(null),c=ve(!1),d=ve(null),p=We(()=>{var H;const W=((H=t.userRole)==null?void 0:H.toLowerCase())||"";return W.includes("admin")||W.includes("administrador")?"admin":W.includes("director")?"director":W.includes("operador")?"operator":"citizen"}),f=We(()=>n.totalPendientes||0),v=We(()=>{var W;return((W=n.rescates)==null?void 0:W.length)||0});yn(async()=>{p.value!=="citizen"&&await Promise.all([n.fetchDenuncias({per_page:10}).catch(()=>{}),n.fetchUrgentes().catch(()=>{}),n.fetchRescates().catch(()=>{})])});const w=[{id:"report",label:"Reportar denuncia",icon:`<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
      <line x1="12" y1="9" x2="12" y2="13"></line>
      <line x1="12" y1="17" x2="12.01" y2="17"></line>
    </svg>`,roles:["citizen","operator","director","admin"],badge:null,badgeClass:""},{id:"status",label:"Consultar estado",icon:`<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="11" cy="11" r="8"></circle>
      <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
    </svg>`,roles:["citizen","operator","director","admin"],badge:null,badgeClass:""},{id:"complaints",label:"Denuncias",icon:`<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
      <polyline points="14 2 14 8 20 8"></polyline>
      <line x1="16" y1="13" x2="8" y2="13"></line>
      <line x1="16" y1="17" x2="8" y2="17"></line>
    </svg>`,roles:["operator","director","admin"],badge:f,badgeClass:"badge-critical"},{id:"operations",label:"Operativos",icon:`<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="10"></circle>
      <polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>
    </svg>`,roles:["operator","director","admin"],badge:v,badgeClass:"badge-warning"},{id:"reports",label:"Reportes autoridades",icon:`<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
      <polyline points="14 2 14 8 20 8"></polyline>
      <line x1="12" y1="18" x2="12" y2="12"></line>
      <line x1="9" y1="15" x2="15" y2="15"></line>
    </svg>`,roles:["director","admin"],badge:null,badgeClass:""}],m=We(()=>w.filter(W=>W.roles.includes(p.value)));function y(W){window.$toast?window.$toast.success("Denuncia registrada",`Numero de caso: ${W}. Guarde este numero para consultar el estado de su denuncia.`,1e4):alert(`Denuncia registrada exitosamente.

Nmero de caso: ${W}

Guarde este nmero para consultar el estado de su denuncia.`),i.value="status"}function A(W){s.value=W}function N(W){l.value=W,r.value=!0,s.value=null}function k(){r.value=!1,l.value=null}async function T(){k(),await n.fetchDenuncias(),await n.fetchRescates(),window.$toast&&window.$toast.success("Equipo asignado","El equipo de rescate ha sido asignado correctamente.")}function I(W){d.value=W,c.value=!0,s.value=null}function j(){c.value=!1,d.value=null}function K(){j()}return(W,H)=>(D(),M("div",qB,[H[1]||(H[1]=o("header",{class:"complaints-header"},[o("h1",{class:"h2-tipografia-govco"}," Denuncias y Rescate Animal "),o("p",{class:"text2-tipografia-govco"}," Reporta casos de maltrato, consulta el estado de tu denuncia y gestiona operativos de rescate. ")],-1)),o("nav",HB,[(D(!0),M(rt,null,ht(m.value,F=>(D(),M("button",{key:F.id,type:"button",class:ot(["complaints-tab-btn",{active:i.value===F.id}]),onClick:R=>i.value=F.id},[o("span",{class:"tab-icon",innerHTML:F.icon},null,8,WB),je(" "+P(F.label)+" ",1),F.badge?(D(),M("span",{key:0,class:ot(["tab-badge",F.badgeClass])},P(F.badge),3)):_e("",!0)],10,GB))),128))]),o("section",ZB,[i.value==="report"?(D(),nn(M9,{key:0,onSubmitted:y})):i.value==="status"?(D(),nn(wI,{key:1})):i.value==="complaints"?(D(),nn(vD,{key:2,onSelect:A,onAssign:N})):i.value==="operations"?(D(),nn(rR,{key:3,onRegisterResult:I})):i.value==="reports"?(D(),nn(xO,{key:4})):_e("",!0)]),s.value?(D(),nn(mM,{key:0,complaint:s.value,onClose:H[0]||(H[0]=F=>s.value=null),onAssign:N,onRegisterResult:I},null,8,["complaint"])):_e("",!0),r.value?(D(),nn(HM,{key:1,complaint:l.value,onClose:k,onAssigned:T},null,8,["complaint"])):_e("",!0),c.value?(D(),nn(VB,{key:2,complaint:d.value,onClose:j,onSaved:K},null,8,["complaint"])):_e("",!0)]))}},JB=It(KB,[["__scopeId","data-v-ee1f6fb2"]]),YB={class:"adoptions-catalog"},XB={class:"filters-card card-govco"},QB={class:"card-govco-body"},ej={class:"filters-grid"},tj={class:"list-header"},nj={class:"text2-tipografia-govco"},oj={key:0,class:"state-card"},ij={key:1,class:"state-card"},aj={key:2,class:"cards-grid"},sj={class:"image-carousel"},rj={class:"carousel-slide"},lj=["src","alt"],cj=["src","alt"],uj={key:0,class:"carousel-indicators"},dj=["onClick"],fj=["onClick"],pj=["onClick"],hj={class:"status-pill badge-govco badge-govco-primary"},mj={key:2,class:"photo-counter"},vj={class:"card-govco-body"},gj={class:"h5-tipografia-govco"},_j={class:"text2-tipografia-govco meta"},bj={key:0,class:"text2-tipografia-govco age-info"},yj={class:"text2-tipografia-govco description"},wj=["onClick"],xj={__name:"AdoptionList",props:{animals:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1}},emits:["update:filters","request-adoption"],setup(e,{emit:t}){const n=e,i=t,s=un({species:n.filters.species||"",size:n.filters.size||"",ageRange:n.filters.ageRange||"",sex:n.filters.sex||""});Kn(()=>n.filters,k=>{s.species=k.species||"",s.size=k.size||"",s.ageRange=k.ageRange||"",s.sex=k.sex||""},{deep:!0});function r(){i("update:filters",{...s})}function l(k){return k?k.charAt(0).toUpperCase()+k.slice(1):""}function c(k){return k?k.startsWith("http")||k.startsWith("data:")||k.startsWith("blob:")?k:k.includes("/storage/")?k.startsWith("/")?k:`/${k}`:`/storage/${k.replace(/^\/+/,"")}`:"/placeholder-animal.jpg"}function d(k){const T=k.galeria_urls||k.galeria_fotos||[];return Array.isArray(T)?T.map(I=>c(I)):[]}function p(k){return 1+d(k).length}function f(k,T){k._currentSlide=T}function v(k){const T=p(k),I=k._currentSlide||0;k._currentSlide=(I+1)%T}function w(k){const T=p(k),I=k._currentSlide||0;k._currentSlide=I===0?T-1:I-1}function m(k){k.target.src="/placeholder-animal.jpg"}function y(k){return{canino:"Perro",felino:"Gato",equino:"Equino",ave:"Ave",otro:"Otro"}[k==null?void 0:k.toLowerCase()]||l(k)||"No especificada"}function A(k){return{pequenio:"Pequeo",mediano:"Mediano",grande:"Grande",muy_grande:"Muy grande"}[k]||k||"N/A"}function N(k){if(!k)return"";const T=Math.floor(k/12),I=k%12,j=[];return T>0&&j.push(`${T} ao${T>1?"s":""}`),I>0&&j.push(`${I} mes${I>1?"es":""}`),j.join(" y ")||""}return(k,T)=>(D(),M("section",YB,[o("div",XB,[T[12]||(T[12]=o("div",{class:"card-govco-header"},[o("h2",{class:"h4-tipografia-govco govcolor-blue-dark"},"Filtra tu bsqueda")],-1)),o("div",QB,[o("div",ej,[o("div",null,[T[5]||(T[5]=o("label",{for:"f-species",class:"label-govco"},"Especie",-1)),$e(o("select",{id:"f-species",class:"input-govco","onUpdate:modelValue":T[0]||(T[0]=I=>s.species=I),onChange:r},[...T[4]||(T[4]=[o("option",{value:""},"Todas",-1),o("option",{value:"canino"},"Perros",-1),o("option",{value:"felino"},"Gatos",-1)])],544),[[yt,s.species]])]),o("div",null,[T[7]||(T[7]=o("label",{for:"f-size",class:"label-govco"},"Tamao",-1)),$e(o("select",{id:"f-size",class:"input-govco","onUpdate:modelValue":T[1]||(T[1]=I=>s.size=I),onChange:r},[...T[6]||(T[6]=[Bt('<option value="" data-v-2eb9a27d>Todos</option><option value="pequenio" data-v-2eb9a27d>Pequeo</option><option value="mediano" data-v-2eb9a27d>Mediano</option><option value="grande" data-v-2eb9a27d>Grande</option><option value="muy_grande" data-v-2eb9a27d>Muy grande</option>',5)])],544),[[yt,s.size]])]),o("div",null,[T[9]||(T[9]=o("label",{for:"f-age",class:"label-govco"},"Edad",-1)),$e(o("select",{id:"f-age",class:"input-govco","onUpdate:modelValue":T[2]||(T[2]=I=>s.ageRange=I),onChange:r},[...T[8]||(T[8]=[o("option",{value:""},"Todas",-1),o("option",{value:"young"},"Cachorro/Joven (< 2 aos)",-1),o("option",{value:"adult"},"Adulto (28 aos)",-1),o("option",{value:"senior"},"Senior (> 8 aos)",-1)])],544),[[yt,s.ageRange]])]),o("div",null,[T[11]||(T[11]=o("label",{for:"f-sex",class:"label-govco"},"Sexo",-1)),$e(o("select",{id:"f-sex",class:"input-govco","onUpdate:modelValue":T[3]||(T[3]=I=>s.sex=I),onChange:r},[...T[10]||(T[10]=[o("option",{value:""},"Ambos",-1),o("option",{value:"macho"},"Macho",-1),o("option",{value:"hembra"},"Hembra",-1)])],544),[[yt,s.sex]])])])])]),o("div",tj,[T[13]||(T[13]=o("h2",{class:"h4-tipografia-govco govcolor-blue-dark"}," Animales disponibles para adopcin ",-1)),o("span",nj,P(e.animals.length)+" resultado(s) ",1)]),e.loading?(D(),M("div",oj," Cargando animales... ")):e.animals.length?(D(),M("div",aj,[(D(!0),M(rt,null,ht(e.animals,I=>(D(),M("article",{key:I.id,class:"animal-card card-govco"},[o("div",sj,[o("div",{class:"carousel-container",style:Wa({transform:`translateX(-${(I._currentSlide||0)*100}%)`})},[o("div",rj,[o("img",{src:c(I.foto_url||I.photoUrl),alt:I.name||I.nombre,onError:m},null,40,lj)]),(D(!0),M(rt,null,ht(d(I),(j,K)=>(D(),M("div",{key:K,class:"carousel-slide"},[o("img",{src:j,alt:`${I.name||I.nombre} - Foto ${K+2}`,onError:m},null,40,cj)]))),128))],4),p(I)>1?(D(),M("div",uj,[(D(!0),M(rt,null,ht(p(I),(j,K)=>(D(),M("button",{key:K,class:ot(["indicator",{active:(I._currentSlide||0)===K}]),onClick:W=>f(I,K)},null,10,dj))),128))])):_e("",!0),p(I)>1?(D(),M(rt,{key:1},[o("button",{class:"carousel-arrow prev",onClick:Tt(j=>w(I),["stop"])},"",8,fj),o("button",{class:"carousel-arrow next",onClick:Tt(j=>v(I),["stop"])},"",8,pj)],64)):_e("",!0),o("span",hj,P(I.statusLabel||"Disponible"),1),p(I)>1?(D(),M("span",mj,P((I._currentSlide||0)+1)+"/"+P(p(I)),1)):_e("",!0)]),o("div",vj,[o("h3",gj,P(I.name||I.nombre||I.codigo_unico),1),o("p",_j,P(y(I.species||I.especie))+"  "+P(l(I.sex||I.sexo))+"  "+P(A(I.size||I.tamanio)),1),I.edad_formateada||I.edad_aproximada?(D(),M("p",bj,P(I.edad_formateada||N(I.edad_aproximada)),1)):_e("",!0),o("p",yj,P(I.shortDescription||I.observaciones||`${I.raza||"Mestizo"} de ${I.color||"color variado"}.`),1),o("button",{type:"button",class:"btn-govco btn-govco-primary",onClick:j=>k.$emit("request-adoption",I)}," Quiero adoptar ",8,wj)])]))),128))])):(D(),M("div",ij," No hay animales disponibles con los filtros seleccionados. "))]))}},Aj=It(xj,[["__scopeId","data-v-2eb9a27d"]]);async function Sj(e={}){return(await Xe.get("/animals/catalogo-adopcion",{params:e})).data}async function kj(){return(await Xe.get("/adopciones/estadisticas")).data}async function N0(){return(await Xe.get("/adopciones/pendientes")).data}async function Cj(e={}){return(await Xe.get("/adopciones",{params:e})).data}async function P0(e,t,n={},i={}){const s=new FormData;return s.append("animal_id",t),Object.keys(e).forEach(l=>{const c=e[l];c!=null&&(typeof c=="boolean"?s.append(`adoptante[${l}]`,c?"1":"0"):s.append(`adoptante[${l}]`,c))}),Object.keys(n).forEach(l=>{const c=n[l];c!=null&&(typeof c=="boolean"?s.append(l,c?"1":"0"):s.append(l,c))}),i.copia_cedula&&s.append("copia_cedula",i.copia_cedula),i.comprobante_domicilio&&s.append("comprobante_domicilio",i.comprobante_domicilio),(await Xe.post("/adopciones/solicitud",s,{headers:{"Content-Type":"multipart/form-data"}})).data}async function Ej(e){return(await Xe.post("/adopciones",e)).data}async function Lj(e){return(await Xe.get(`/adopciones/${e}`)).data}async function _h(e,t){return(await Xe.put(`/adopciones/${e}/evaluar`,t)).data}async function Nj(e,t=""){return _h(e,{estado:"aprobada",resultado_evaluacion:"favorable",observaciones:t})}async function Pj(e,t=""){return _h(e,{estado:"rechazada",resultado_evaluacion:"desfavorable",observaciones:t})}async function $j(e){return(await Xe.get(`/adopciones/${e}/contrato`)).data}async function $0(e){return(await Xe.get(`/adopciones/${e}/contrato/descargar`,{responseType:"blob"})).data}async function Tj(e,t){return(await Xe.post(`/adopciones/${e}/contrato/firmar`,{firma:t,acepta_terminos:!0})).data}async function Ij(e){return(await Xe.get(`/adopciones/${e}/estado-contrato`)).data}async function Dj(e){return $0(e)}async function Rj(e,t,n=null){const i={tipo_documento:e,numero_documento:t};return n&&(i.codigo_adopcion=n),(await Xe.get("/adopciones/consulta-publica",{params:i})).data}async function Oj(e,t,n,i){return(await Xe.post(`/adopciones/${e}/contrato/firmar-publico`,{tipo_documento:t,numero_documento:n,firma:i,acepta_terminos:!0})).data}async function Mj(){return(await Xe.get("/visitas-seguimiento/pendientes")).data}async function Fj(){return(await Xe.get("/visitas-seguimiento/requieren-visita")).data}async function Bj(e={}){return(await Xe.get("/visitas-seguimiento",{params:e})).data}async function T0(e){return(await Xe.post("/visitas-seguimiento",e)).data}async function jj(e){return(await Xe.get(`/visitas-seguimiento/${e}`)).data}async function I0(e,t,n=[]){const i=new FormData;return t.resultado&&i.append("resultado",t.resultado),t.fecha_realizada&&i.append("fecha_realizada",t.fecha_realizada),t.observaciones&&i.append("observaciones",t.observaciones),t.recomendaciones&&i.append("recomendaciones",t.recomendaciones),t.condiciones_hogar&&Object.keys(t.condiciones_hogar).forEach(r=>{t.condiciones_hogar[r]&&i.append(`condiciones_hogar[${r}]`,t.condiciones_hogar[r])}),t.estado_animal&&Object.keys(t.estado_animal).forEach(r=>{t.estado_animal[r]&&i.append(`estado_animal[${r}]`,t.estado_animal[r])}),n&&n.length>0&&n.forEach(r=>{i.append("fotos_respaldo[]",r)}),(await Xe.post(`/visitas-seguimiento/${e}/registrar`,i,{headers:{"Content-Type":"multipart/form-data"}})).data}async function zj(e){return(await Xe.delete(`/visitas-seguimiento/${e}`)).data}async function Uj(e,t,n=""){return(await Xe.put(`/visitas-seguimiento/${e}/reprogramar`,{fecha_programada:t,observaciones:n})).data}async function Vj(e){return(await Xe.get(`/visitas-seguimiento/adopcion/${e}`)).data}async function qj(){return N0()}async function Hj(e,t){return T0({adopcion_id:e,...t})}async function Gj(e,t){return console.warn("saveHomeVisitReport is deprecated, use registerFollowUpResult instead"),t}async function Wj(e,t){return I0(e,t)}async function Zj(e){return(await Xe.get("/adopciones",{params:{estado:"completada",busqueda:e}})).data}async function Kj(){return(await Xe.get("/adopciones/devoluciones/motivos")).data}async function Jj(e={}){return(await Xe.get("/adopciones/devoluciones",{params:e})).data}async function Yj(){return(await Xe.get("/adopciones/devoluciones/estadisticas")).data}async function Xj(e){return(await Xe.get(`/adopciones/devoluciones/${e}`)).data}async function Qj(e,t){return(await Xe.post(`/adopciones/${e}/devolucion`,t)).data}async function ez(e,t){return(await Xe.put(`/adopciones/devoluciones/${e}/revision`,t)).data}async function tz(e){return(await Xe.get(`/animals/${e}`)).data}async function nz(e){return console.warn("registerContractSignature is not implemented in backend"),{success:!1,message:"Not implemented"}}const lo={fetchAdoptableAnimals:Sj,fetchAdoptionStats:kj,fetchPendingAdoptions:N0,fetchAdoptionRequests:Cj,submitAdoptionRequest:P0,submitAdoptionRequestSimple:Ej,fetchAdoptionRequest:Lj,evaluateAdoptionRequest:_h,approveAdoptionRequest:Nj,rejectAdoptionRequest:Pj,fetchAdoptionContract:$j,downloadAdoptionContract:$0,signAdoptionContract:Tj,fetchContractStatus:Ij,generateAdoptionContract:Dj,consultarAdopcionPublica:Rj,firmarContratoPublico:Oj,fetchPendingFollowUps:Mj,fetchRequireVisit:Fj,fetchFollowUpVisits:Bj,scheduleFollowUpVisit:T0,fetchFollowUpVisit:jj,registerFollowUpResult:I0,deleteFollowUpVisit:zj,rescheduleFollowUpVisit:Uj,fetchVisitsByAdoption:Vj,fetchReturnReasons:Kj,fetchReturns:Jj,fetchReturnStats:Yj,fetchReturn:Xj,registerReturn:Qj,completeReturnReview:ez,fetchApprovedRequestsWithoutContract:qj,scheduleHomeVisit:Hj,saveHomeVisitReport:Gj,saveFollowUpResult:Wj,fetchActiveAdoptionsBySearch:Zj,fetchAnimalAdoptionHistory:tz,registerContractSignature:nz},oz={class:"modal-backdrop",role:"dialog","aria-modal":"true"},iz={class:"modal-container"},az={class:"modal-header"},sz={key:0,class:"text2-tipografia-govco"},rz={class:"form-section"},lz={class:"form-grid"},cz={class:"entradas-de-texto-govco"},uz={class:"entradas-de-texto-govco"},dz={class:"entradas-de-texto-govco"},fz={class:"entradas-de-texto-govco"},pz={class:"entradas-de-texto-govco"},hz=["max"],mz={class:"entradas-de-texto-govco"},vz={class:"entradas-de-texto-govco full-width"},gz={class:"form-section"},_z={class:"form-grid"},bz={class:"entradas-de-texto-govco full-width"},yz={class:"entradas-de-texto-govco"},wz={class:"entradas-de-texto-govco"},xz={class:"entradas-de-texto-govco"},Az={class:"form-section"},Sz={class:"form-grid"},kz={class:"entradas-de-texto-govco full-width"},Cz={class:"entradas-de-texto-govco full-width"},Ez={class:"entradas-de-texto-govco full-width"},Lz={class:"form-section"},Nz={class:"form-grid"},Pz={class:"file-upload-field"},$z={class:"file-input-wrapper"},Tz={key:0,class:"file-info"},Iz={class:"file-name"},Dz={class:"file-upload-field"},Rz={class:"file-input-wrapper"},Oz={key:0,class:"file-info"},Mz={class:"file-name"},Fz={class:"form-section"},Bz={class:"checkbox-group"},jz={class:"checkbox-label"},zz={class:"checkbox-label"},Uz={key:0,class:"alert-govco alert-govco-danger"},Vz={class:"modal-actions"},qz=["disabled"],Hz=["disabled"],Gz={key:0},Wz={key:1},Zz={__name:"AdoptionForm",props:{animal:{type:Object,default:null},loading:{type:Boolean,default:!1}},emits:["close","submitted"],setup(e,{emit:t}){const n=e,i=t,s=un({nombres:"",apellidos:"",tipo_documento:"",numero_documento:"",fecha_nacimiento:"",telefono:"",email:"",direccion:"",tipo_vivienda:"",tiene_patio:"false",num_personas_hogar:null,experiencia_animales:"",motivo_adopcion:"",descripcion_hogar:"",acepta_visita_seguimiento:!0,acceptTerms:!1}),r=un({copia_cedula:null,comprobante_domicilio:null}),l=ve(!1),c=ve(""),d=We(()=>{const m=new Date;return m.setFullYear(m.getFullYear()-18),m.toISOString().split("T")[0]}),p=We(()=>s.nombres&&s.apellidos&&s.tipo_documento&&s.numero_documento&&s.fecha_nacimiento&&s.telefono&&s.email&&s.direccion&&s.tipo_vivienda&&s.motivo_adopcion&&r.copia_cedula&&r.comprobante_domicilio&&s.acceptTerms);function f(m,y){const A=y.target.files[0];if(A){if(A.size>5*1024*1024){c.value=`El archivo ${m==="copia_cedula"?"de cedula":"de domicilio"} excede el tamano maximo de 5MB`,y.target.value="";return}r[m]=A,c.value=""}}function v(m){r[m]=null;const y=document.getElementById(m);y&&(y.value="")}async function w(){var m,y,A,N,k;if(p.value){c.value="",l.value=!0;try{const T={nombres:s.nombres,apellidos:s.apellidos,tipo_documento:s.tipo_documento,numero_documento:s.numero_documento,fecha_nacimiento:s.fecha_nacimiento,telefono:s.telefono,email:s.email,direccion:s.direccion,tipo_vivienda:s.tipo_vivienda,tiene_patio:s.tiene_patio==="true",experiencia_animales:s.experiencia_animales||null,num_personas_hogar:s.num_personas_hogar||null},I={motivo_adopcion:s.motivo_adopcion,descripcion_hogar:s.descripcion_hogar||null,acepta_visita_seguimiento:s.acepta_visita_seguimiento},j={copia_cedula:r.copia_cedula,comprobante_domicilio:r.comprobante_domicilio},K=await P0(T,(m=n.animal)==null?void 0:m.id,I,j);i("submitted",K)}catch(T){if(console.error("Error al enviar solicitud:",T),(A=(y=T.response)==null?void 0:y.data)!=null&&A.errors){const I=T.response.data.errors,j=Object.values(I)[0];c.value=Array.isArray(j)?j[0]:j}else(k=(N=T.response)==null?void 0:N.data)!=null&&k.message?c.value=T.response.data.message:c.value="Error al enviar la solicitud. Por favor intente nuevamente."}finally{l.value=!1}}}return(m,y)=>(D(),M("div",oz,[o("div",iz,[o("header",az,[o("div",null,[y[23]||(y[23]=o("h2",{class:"h4-tipografia-govco govcolor-blue-dark"}," Solicitud de Adopcion ",-1)),e.animal?(D(),M("p",sz,[y[22]||(y[22]=je(" Animal: ",-1)),o("strong",null,P(e.animal.nombre||e.animal.name||e.animal.codigo_unico),1)])):_e("",!0)]),o("button",{type:"button",class:"close-btn","aria-label":"Cerrar",onClick:y[0]||(y[0]=A=>m.$emit("close"))},"  ")]),o("form",{class:"modal-body",onSubmit:Tt(w,["prevent"])},[o("fieldset",rz,[y[32]||(y[32]=o("legend",{class:"h5-tipografia-govco"},"Datos Personales del Adoptante",-1)),o("div",lz,[o("div",cz,[y[24]||(y[24]=o("label",{for:"nombres"},[je("Nombres"),o("span",{class:"required"},"*")],-1)),$e(o("input",{id:"nombres","onUpdate:modelValue":y[1]||(y[1]=A=>s.nombres=A),type:"text",maxlength:"100",required:"",placeholder:"Ingrese sus nombres"},null,512),[[lt,s.nombres]])]),o("div",uz,[y[25]||(y[25]=o("label",{for:"apellidos"},[je("Apellidos"),o("span",{class:"required"},"*")],-1)),$e(o("input",{id:"apellidos","onUpdate:modelValue":y[2]||(y[2]=A=>s.apellidos=A),type:"text",maxlength:"100",required:"",placeholder:"Ingrese sus apellidos"},null,512),[[lt,s.apellidos]])]),o("div",dz,[y[27]||(y[27]=o("label",{for:"tipo_documento"},[je("Tipo de documento"),o("span",{class:"required"},"*")],-1)),$e(o("select",{id:"tipo_documento","onUpdate:modelValue":y[3]||(y[3]=A=>s.tipo_documento=A),class:"input-govco",required:""},[...y[26]||(y[26]=[Bt('<option value="" data-v-99b38fd4>Seleccione...</option><option value="CC" data-v-99b38fd4>Cedula de Ciudadania</option><option value="CE" data-v-99b38fd4>Cedula de Extranjeria</option><option value="TI" data-v-99b38fd4>Tarjeta de Identidad</option><option value="PA" data-v-99b38fd4>Pasaporte</option><option value="PEP" data-v-99b38fd4>Permiso Especial de Permanencia</option>',6)])],512),[[yt,s.tipo_documento]])]),o("div",fz,[y[28]||(y[28]=o("label",{for:"numero_documento"},[je("Numero de documento"),o("span",{class:"required"},"*")],-1)),$e(o("input",{id:"numero_documento","onUpdate:modelValue":y[4]||(y[4]=A=>s.numero_documento=A),type:"text",maxlength:"20",required:"",placeholder:"Ej: 1234567890"},null,512),[[lt,s.numero_documento]])]),o("div",pz,[y[29]||(y[29]=o("label",{for:"fecha_nacimiento"},[je("Fecha de nacimiento"),o("span",{class:"required"},"*")],-1)),$e(o("input",{id:"fecha_nacimiento","onUpdate:modelValue":y[5]||(y[5]=A=>s.fecha_nacimiento=A),type:"date",max:d.value,required:""},null,8,hz),[[lt,s.fecha_nacimiento]])]),o("div",mz,[y[30]||(y[30]=o("label",{for:"telefono"},[je("Telefono de contacto"),o("span",{class:"required"},"*")],-1)),$e(o("input",{id:"telefono","onUpdate:modelValue":y[6]||(y[6]=A=>s.telefono=A),type:"tel",maxlength:"20",required:"",placeholder:"Ej: 3001234567"},null,512),[[lt,s.telefono]])]),o("div",vz,[y[31]||(y[31]=o("label",{for:"email"},[je("Correo electronico"),o("span",{class:"required"},"*")],-1)),$e(o("input",{id:"email","onUpdate:modelValue":y[7]||(y[7]=A=>s.email=A),type:"email",maxlength:"100",required:"",placeholder:"correo@ejemplo.com"},null,512),[[lt,s.email]])])])]),o("fieldset",gz,[y[39]||(y[39]=o("legend",{class:"h5-tipografia-govco"},"Informacion de Vivienda",-1)),o("div",_z,[o("div",bz,[y[33]||(y[33]=o("label",{for:"direccion"},[je("Direccion de residencia"),o("span",{class:"required"},"*")],-1)),$e(o("input",{id:"direccion","onUpdate:modelValue":y[8]||(y[8]=A=>s.direccion=A),type:"text",maxlength:"300",required:"",placeholder:"Calle/Carrera, numero, barrio, ciudad"},null,512),[[lt,s.direccion]])]),o("div",yz,[y[35]||(y[35]=o("label",{for:"tipo_vivienda"},[je("Tipo de vivienda"),o("span",{class:"required"},"*")],-1)),$e(o("select",{id:"tipo_vivienda","onUpdate:modelValue":y[9]||(y[9]=A=>s.tipo_vivienda=A),class:"input-govco",required:""},[...y[34]||(y[34]=[Bt('<option value="" data-v-99b38fd4>Seleccione...</option><option value="casa" data-v-99b38fd4>Casa</option><option value="apartamento" data-v-99b38fd4>Apartamento</option><option value="finca" data-v-99b38fd4>Finca</option><option value="otro" data-v-99b38fd4>Otro</option>',5)])],512),[[yt,s.tipo_vivienda]])]),o("div",wz,[y[37]||(y[37]=o("label",{for:"tiene_patio"},"Tiene patio o zona verde?",-1)),$e(o("select",{id:"tiene_patio","onUpdate:modelValue":y[10]||(y[10]=A=>s.tiene_patio=A),class:"input-govco"},[...y[36]||(y[36]=[o("option",{value:"false"},"No",-1),o("option",{value:"true"},"Si",-1)])],512),[[yt,s.tiene_patio]])]),o("div",xz,[y[38]||(y[38]=o("label",{for:"num_personas_hogar"},"Personas en el hogar",-1)),$e(o("input",{id:"num_personas_hogar","onUpdate:modelValue":y[11]||(y[11]=A=>s.num_personas_hogar=A),type:"number",min:"1",max:"20",placeholder:"Ej: 4"},null,512),[[lt,s.num_personas_hogar,void 0,{number:!0}]])])])]),o("fieldset",Az,[y[43]||(y[43]=o("legend",{class:"h5-tipografia-govco"},"Experiencia y Motivacion",-1)),o("div",Sz,[o("div",kz,[y[40]||(y[40]=o("label",{for:"experiencia_animales"},"Experiencia previa con animales",-1)),$e(o("textarea",{id:"experiencia_animales","onUpdate:modelValue":y[12]||(y[12]=A=>s.experiencia_animales=A),rows:"3",maxlength:"1000",class:"textarea-govco",placeholder:"Describa su experiencia previa con mascotas (tipos de animales, tiempo que los tuvo, etc.)"},null,512),[[lt,s.experiencia_animales]])]),o("div",Cz,[y[41]||(y[41]=o("label",{for:"motivo_adopcion"},[je("Por que desea adoptar?"),o("span",{class:"required"},"*")],-1)),$e(o("textarea",{id:"motivo_adopcion","onUpdate:modelValue":y[13]||(y[13]=A=>s.motivo_adopcion=A),rows:"3",maxlength:"1000",class:"textarea-govco",required:"",placeholder:"Explique sus razones para querer adoptar a este animal"},null,512),[[lt,s.motivo_adopcion]])]),o("div",Ez,[y[42]||(y[42]=o("label",{for:"descripcion_hogar"},"Descripcion de su hogar",-1)),$e(o("textarea",{id:"descripcion_hogar","onUpdate:modelValue":y[14]||(y[14]=A=>s.descripcion_hogar=A),rows:"2",maxlength:"500",class:"textarea-govco",placeholder:"Describa las condiciones de su hogar para recibir al animal"},null,512),[[lt,s.descripcion_hogar]])])])]),o("fieldset",Lz,[y[48]||(y[48]=o("legend",{class:"h5-tipografia-govco"},"Documentos Requeridos",-1)),o("div",Nz,[o("div",Pz,[y[44]||(y[44]=o("label",{for:"copia_cedula"},[je(" Copia del documento de identidad"),o("span",{class:"required"},"*")],-1)),o("div",$z,[o("input",{id:"copia_cedula",type:"file",accept:".pdf,.jpg,.jpeg,.png",required:"",onChange:y[15]||(y[15]=A=>f("copia_cedula",A))},null,32),r.copia_cedula?(D(),M("div",Tz,[o("span",Iz,P(r.copia_cedula.name),1),o("button",{type:"button",class:"remove-file",onClick:y[16]||(y[16]=A=>v("copia_cedula"))},"  ")])):_e("",!0)]),y[45]||(y[45]=o("small",{class:"file-hint"},"Formatos: PDF, JPG, PNG. Max: 5MB",-1))]),o("div",Dz,[y[46]||(y[46]=o("label",{for:"comprobante_domicilio"},[je(" Comprobante de domicilio"),o("span",{class:"required"},"*")],-1)),o("div",Rz,[o("input",{id:"comprobante_domicilio",type:"file",accept:".pdf,.jpg,.jpeg,.png",required:"",onChange:y[17]||(y[17]=A=>f("comprobante_domicilio",A))},null,32),r.comprobante_domicilio?(D(),M("div",Oz,[o("span",Mz,P(r.comprobante_domicilio.name),1),o("button",{type:"button",class:"remove-file",onClick:y[18]||(y[18]=A=>v("comprobante_domicilio"))},"  ")])):_e("",!0)]),y[47]||(y[47]=o("small",{class:"file-hint"},"Recibo de servicios publicos o extracto bancario (max 3 meses)",-1))])])]),o("fieldset",Fz,[y[51]||(y[51]=o("legend",{class:"h5-tipografia-govco"},"Compromisos",-1)),o("div",Bz,[o("label",jz,[$e(o("input",{type:"checkbox","onUpdate:modelValue":y[19]||(y[19]=A=>s.acepta_visita_seguimiento=A)},null,512),[[Po,s.acepta_visita_seguimiento]]),y[49]||(y[49]=o("span",null,"Acepto recibir visitas de seguimiento posteriores a la adopcion",-1))]),o("label",zz,[$e(o("input",{type:"checkbox","onUpdate:modelValue":y[20]||(y[20]=A=>s.acceptTerms=A),required:""},null,512),[[Po,s.acceptTerms]]),y[50]||(y[50]=o("span",null,[je(" Confirmo que la informacion suministrada es veridica y me comprometo a brindar cuidado responsable al animal, incluyendo alimentacion adecuada, atencion veterinaria y un ambiente seguro. "),o("span",{class:"required"},"*")],-1))])])]),c.value?(D(),M("div",Uz,P(c.value),1)):_e("",!0),o("div",Vz,[o("button",{type:"button",class:"btn-govco btn-govco-outline",onClick:y[21]||(y[21]=A=>m.$emit("close")),disabled:e.loading}," Cancelar ",8,qz),o("button",{type:"submit",class:"btn-govco btn-govco-primary",disabled:e.loading||!p.value},[e.loading?(D(),M("span",Wz,"Enviando...")):(D(),M("span",Gz,"Enviar Solicitud"))],8,Hz)])],32)])]))}},Kz=It(Zz,[["__scopeId","data-v-99b38fd4"]]),Jz={class:"adoptions-view"},Yz={class:"adoptions-container"},Xz={class:"adoptions-header"},Qz={class:"header-actions"},eU={__name:"AdoptionsView",setup(e){const t=un({species:"",size:"",ageRange:"",sex:""}),n=ve([]),i=ve(!1),s=ve(!1),r=ve(null),l=ve(!1),c=We(()=>n.value.filter(m=>{const y=m.especie||m.species,A=m.tamanio||m.size,N=m.sexo||m.sex,k=m.edad_aproximada?Math.floor(m.edad_aproximada/12):m.ageInYears??m.age;return!(t.species&&y!==t.species||t.size&&A!==t.size||t.sex&&N!==t.sex||t.ageRange&&(t.ageRange==="young"&&k>=2||t.ageRange==="adult"&&(k<2||k>8)||t.ageRange==="senior"&&k<=8))}));async function d(){i.value=!0;try{const m=await Ga.getCatalogoAdopcion(),y=m.data||m,A=Array.isArray(y)?y:y.data||[];n.value=A.map(N=>({...N,_currentSlide:0,name:N.nombre||N.codigo_unico,species:N.especie,sex:N.sexo,size:N.tamanio,statusLabel:"Disponible",photoUrl:N.foto_url})),console.log(` Catlogo de adopcin: ${n.value.length} animales cargados`)}catch(m){console.error("Error al cargar animales:",m),n.value=[]}finally{i.value=!1}}function p(m){Object.assign(t,m)}function f(m){r.value=m,s.value=!0}function v(){s.value=!1,r.value=null}async function w(m){console.log("Solicitud de adopcion enviada:",m),window.$toast?window.$toast.success("Solicitud enviada exitosamente","Tu solicitud de adopcion fue enviada correctamente. Nos pondremos en contacto contigo pronto para continuar con el proceso."):alert("Tu solicitud de adopcion fue enviada exitosamente. Te contactaremos pronto."),v(),await d()}return yn(d),(m,y)=>(D(),M("section",Jz,[o("div",Yz,[o("header",Xz,[y[2]||(y[2]=o("div",null,[o("h1",{class:"h2-tipografia-govco govcolor-blue-dark"}," Adopciones Responsables "),o("p",{class:"text2-tipografia-govco"}," Encuentra tu compaero ideal. Todos nuestros animales estn vacunados, esterilizados y listos para formar parte de tu familia. ")],-1)),o("div",Qz,[Ke(Ka(xp),{to:"/adopciones/consultar",class:"btn-govco btn-govco-outline"},{default:gn(()=>[...y[0]||(y[0]=[je(" Consultar mi solicitud ",-1)])]),_:1}),Ke(Ka(xp),{to:"/adopciones/coordinador",class:"btn-govco btn-govco-secondary"},{default:gn(()=>[...y[1]||(y[1]=[je(" Ver gestin de adopciones ",-1)])]),_:1})])]),Ke(Aj,{animals:c.value,filters:t,loading:i.value,"onUpdate:filters":p,onRequestAdoption:f},null,8,["animals","filters","loading"]),s.value?(D(),nn(Kz,{key:0,animal:r.value,loading:l.value,onClose:v,onSubmitted:w},null,8,["animal","loading"])):_e("",!0)])]))}},tU=It(eU,[["__scopeId","data-v-3708e57f"]]),g1={async getDashboard(){return(await Xe.get("/reportes/dashboard")).data},async getIndicadores(){return(await Xe.get("/reportes/indicadores")).data},async getAdopcionesStats(){return(await Xe.get("/adopciones/estadisticas")).data},async getDenunciasRecientes(e=5){return(await Xe.get("/denuncias",{params:{per_page:e,order_by:"created_at",order:"desc"}})).data},async getAlertas(){return(await Xe.get("/reportes/alertas")).data},async getEstadisticasGenerales(){return(await Xe.get("/reportes/estadisticas")).data},async exportarReporte(e,t={}){return(await Xe.get(`/reportes/exportar/${e}`,{params:t,responseType:"blob"})).data}},nU={class:"executive-dashboard"},oU={key:0,class:"loading-overlay"},iU={key:1,class:"error-banner"},aU={class:"dashboard-header"},sU={class:"header-right"},rU={class:"date-filter"},lU={key:0,class:"custom-dates"},cU={class:"last-update"},uU={class:"kpis-grid"},dU={class:"kpi-card kpi-animals"},fU={class:"kpi-content"},pU={class:"kpi-value"},hU={class:"kpi-card kpi-adoptions"},mU={class:"kpi-content"},vU={class:"kpi-value"},gU={class:"kpi-card kpi-complaints"},_U={class:"kpi-content"},bU={class:"kpi-value"},yU={class:"kpi-subtitle"},wU={class:"kpi-card kpi-vaccinations"},xU={class:"kpi-content"},AU={class:"kpi-value"},SU={class:"kpi-subtitle"},kU={class:"secondary-kpis"},CU={class:"secondary-kpi"},EU={class:"secondary-value"},LU={class:"secondary-kpi"},NU={class:"secondary-value"},PU={class:"secondary-kpi"},$U={class:"secondary-value"},TU={class:"secondary-kpi"},IU={class:"secondary-value"},DU={class:"charts-grid"},RU={class:"chart-card"},OU={class:"chart-header"},MU={class:"chart-container",ref:"adoptionsChart"},FU={class:"mock-chart line-chart"},BU={class:"chart-bars"},jU={class:"chart-label"},zU={class:"chart-card"},UU={class:"chart-header"},VU={class:"chart-container",ref:"complaintsChart"},qU={class:"chart-card"},HU={class:"chart-header"},GU={class:"chart-container",ref:"vaccinationChart"},WU={class:"mock-chart gauge-chart"},ZU={class:"gauge-container"},KU={class:"gauge-center"},JU={class:"gauge-value"},YU={class:"chart-card"},XU={class:"chart-header"},QU={class:"chart-container",ref:"speciesChart"},eV={class:"mock-chart horizontal-bar"},tV={class:"h-bar-label"},nV={class:"h-bar-container"},oV={class:"h-bar-value"},iV={key:0,class:"no-data"},aV={class:"bottom-grid"},sV={class:"recent-section"},rV={class:"recent-list"},lV={key:0,class:"no-data"},cV={class:"recent-content"},uV={class:"recent-title"},dV={class:"recent-subtitle"},fV={class:"recent-meta"},pV={class:"recent-date"},hV={class:"alerts-section"},mV={class:"alerts-list"},vV={class:"alert-icon"},gV={class:"alert-content"},_V={class:"alert-title"},bV={class:"alert-description"},yV={class:"alert-time"},wV={__name:"ExecutiveDashboard",setup(e){const t=ve("month"),n=ve(""),i=ve(""),s=ve(""),r=ve(!0),l=ve(null);let c=null;const d=ve(null),p=ve([]),f=We(()=>{if(!d.value)return{totalAnimals:0,animalsTrend:0,adoptionsMonth:0,adoptionsTrend:0,activeComplaints:0,criticalComplaints:0,vaccinationRate:0,vaccinationsMonth:0,rescuesMonth:0,sterilizations:0,pendingAdoptions:0,avgResponseTime:0};const{animales:z,adopciones:x,denuncias:$,veterinaria:Z}=d.value,b=z.en_refugio>0?Math.round(Z.vacunas_mes/z.en_refugio*100):0;return{totalAnimals:z.total||0,animalsTrend:z.ingresos_mes>0?(z.ingresos_mes/z.total*100).toFixed(1):0,adoptionsMonth:x.aprobadas_mes||0,adoptionsTrend:x.tasa_aprobacion||0,activeComplaints:$.pendientes||0,criticalComplaints:$.urgentes||0,vaccinationRate:Math.min(b,100),vaccinationsMonth:Z.vacunas_mes||0,rescuesMonth:z.ingresos_mes||0,sterilizations:Z.esterilizaciones_mes||0,pendingAdoptions:x.pendientes||0,avgResponseTime:4.2}}),v=We(()=>{var z,x;return(x=(z=d.value)==null?void 0:z.tendencias)!=null&&x.adopciones?d.value.tendencias.adopciones.map($=>$.mes.split(" ")[0]):["Jul","Ago","Sep","Oct","Nov","Dic"]}),w=We(()=>{var $,Z;if(!((Z=($=d.value)==null?void 0:$.tendencias)!=null&&Z.adopciones))return[0,0,0,0,0,0];const z=d.value.tendencias.adopciones.map(b=>b.cantidad),x=Math.max(...z,1);return z.map(b=>b/x*100)}),m=We(()=>{var Z,b;if(!((b=(Z=d.value)==null?void 0:Z.animales)!=null&&b.por_especie))return[];const z=d.value.animales.por_especie,x=Object.values(z).reduce((S,Q)=>S+Q,0),$={perro:"#3366CC",gato:"#068460",equino:"#FFAB00",otro:"#737373"};return Object.entries(z).map(([S,Q])=>({label:S.charAt(0).toUpperCase()+S.slice(1),cantidad:Q,porcentaje:x>0?Math.round(Q/x*100):0,color:$[S]||"#737373"})).sort((S,Q)=>Q.cantidad-S.cantidad)});We(()=>{var Z,b;if(!((b=(Z=d.value)==null?void 0:Z.denuncias)!=null&&b.por_tipo))return[];const z=d.value.denuncias.por_tipo,x=Object.values(z).reduce((S,Q)=>S+Q,0),$={maltrato:"#A80521",abandono:"#FFAB00",negligencia:"#3366CC",otros:"#068460"};return Object.entries(z).map(([S,Q])=>({label:S.charAt(0).toUpperCase()+S.slice(1),cantidad:Q,porcentaje:x>0?Math.round(Q/x*100):0,color:$[S]||"#737373"}))});const y=We(()=>{const z=[];let x=1;if(d.value){const{denuncias:$,veterinaria:Z,adopciones:b,animales:S}=d.value;($==null?void 0:$.urgentes)>0&&z.push({id:x++,type:"critical",title:`${$.urgentes} denuncia(s) urgente(s)`,description:"Requieren atencin inmediata (SLA < 4 horas)",time:"Ahora"}),($==null?void 0:$.sin_asignar)>0&&z.push({id:x++,type:"critical",title:`${$.sin_asignar} denuncia(s) sin asignar`,description:"Requieren asignacin de funcionario",time:"Ahora"}),(b==null?void 0:b.pendientes)>5&&z.push({id:x++,type:"warning",title:`${b.pendientes} solicitudes de adopcin pendientes`,description:"Esperando evaluacin",time:"Ahora"}),($==null?void 0:$.pendientes)>10&&z.push({id:x++,type:"warning",title:`${$.pendientes} denuncias pendientes`,description:"Acumulacin de casos por resolver",time:"Ahora"}),(Z==null?void 0:Z.consultas_hoy)===0&&z.push({id:x++,type:"info",title:"Sin consultas veterinarias hoy",description:"Da disponible para programar citas",time:"Hoy"}),(S==null?void 0:S.ingresos_mes)>0&&z.push({id:x++,type:"info",title:`${S.ingresos_mes} nuevo(s) ingreso(s) este mes`,description:"Animales registrados recientemente",time:"Este mes"}),(Z==null?void 0:Z.esterilizaciones_mes)>0&&z.push({id:x++,type:"info",title:`${Z.esterilizaciones_mes} esterilizacin(es) realizadas`,description:"Procedimientos completados este mes",time:"Este mes"})}return z.length===0&&z.push({id:0,type:"info",title:"Sistema operando normalmente",description:"No hay alertas pendientes",time:"Ahora"}),z.slice(0,5)});function A(z){return z>=0?"trend-up":"trend-down"}function N(z){return`${z>=0?"+":""}${z}%`}function k(z){return{critical:"",warning:"",info:""}[z]||""}function T(z){return{maltrato:"",abandono:"",animal_herido:"",animal_peligroso:"",negligencia:"",otro:""}[z]||""}function I(z){return{maltrato:"Maltrato Animal",abandono:"Abandono",animal_herido:"Animal Herido",animal_peligroso:"Animal Peligroso",negligencia:"Negligencia",otro:"Otro"}[z]||z||"Sin tipo"}function j(z){return{recibida:"Recibida",en_proceso:"En proceso",en_revision:"En revisin",asignada:"Asignada",en_atencion:"En atencin",resuelta:"Resuelta",cerrada:"Cerrada",desestimada:"Desestimada"}[z]||z||"Sin estado"}function K(z){if(!z)return"";try{const x=new Date(z),Z=new Date-x,b=Math.floor(Z/(1e3*60*60));if(b<1)return"Hace menos de 1 hora";if(b<24)return`Hace ${b} hora${b>1?"s":""}`;const S=Math.floor(b/24);return S<7?`Hace ${S} da${S>1?"s":""}`:x.toLocaleDateString("es-CO",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return z}}function W(){const z=new Date;s.value=z.toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"})}function H(z){console.log(`Exportando grfico "${z}" como PNG...`)}async function F(){var z;r.value=!0,l.value=null;try{const[x,$]=await Promise.allSettled([g1.getDashboard(),g1.getDenunciasRecientes(5)]);if(x.status==="fulfilled"&&(d.value=x.value.data||x.value),$.status==="fulfilled"){const Z=$.value;let b=[];(z=Z==null?void 0:Z.data)!=null&&z.data&&Array.isArray(Z.data.data)?b=Z.data.data:Array.isArray(Z==null?void 0:Z.data)?b=Z.data:Array.isArray(Z)&&(b=Z),p.value=b.map(S=>({id:S.id,tipo_denuncia:S.tipo_denuncia,prioridad:S.prioridad,estado:S.estado,direccion:S.ubicacion||S.direccion,created_at:S.created_at||S.fecha_denuncia,numero_ticket:S.numero_ticket}))}W()}catch(x){console.error("Error al cargar dashboard:",x),l.value="Error al cargar los datos del dashboard"}finally{r.value=!1}}async function R(){await F()}return yn(async()=>{await F(),c=setInterval(R,6e4)}),vc(()=>{c&&clearInterval(c)}),(z,x)=>(D(),M("section",nU,[r.value?(D(),M("div",oU,[...x[7]||(x[7]=[o("div",{class:"loading-spinner"},"Cargando dashboard...",-1)])])):_e("",!0),l.value?(D(),M("div",iU,[je(P(l.value)+" ",1),o("button",{onClick:F,class:"retry-btn"},"Reintentar")])):_e("",!0),o("div",aU,[x[12]||(x[12]=o("div",{class:"header-left"},[o("h2",{class:"h3-tipografia-govco"},"Dashboard Ejecutivo"),o("p",{class:"text2-tipografia-govco"}," Indicadores clave en tiempo real del Sistema de Bienestar Animal ")],-1)),o("div",sU,[o("div",rU,[x[9]||(x[9]=o("label",null,"Periodo:",-1)),$e(o("select",{"onUpdate:modelValue":x[0]||(x[0]=$=>t.value=$),class:"date-select"},[...x[8]||(x[8]=[Bt('<option value="today" data-v-51c3ce9f>Hoy</option><option value="week" data-v-51c3ce9f>Esta semana</option><option value="month" data-v-51c3ce9f>Este mes</option><option value="quarter" data-v-51c3ce9f>Este trimestre</option><option value="year" data-v-51c3ce9f>Este ao</option><option value="custom" data-v-51c3ce9f>Personalizado</option>',6)])],512),[[yt,t.value]])]),t.value==="custom"?(D(),M("div",lU,[$e(o("input",{type:"date","onUpdate:modelValue":x[1]||(x[1]=$=>n.value=$)},null,512),[[lt,n.value]]),x[10]||(x[10]=o("span",null,"a",-1)),$e(o("input",{type:"date","onUpdate:modelValue":x[2]||(x[2]=$=>i.value=$)},null,512),[[lt,i.value]])])):_e("",!0),o("div",cU,[x[11]||(x[11]=o("span",{class:"update-icon"},"",-1)),o("span",null,"Actualizado: "+P(s.value),1)])])]),o("div",uU,[o("div",dU,[x[14]||(x[14]=o("div",{class:"kpi-icon"},"",-1)),o("div",fU,[o("span",pU,P(f.value.totalAnimals.toLocaleString()),1),x[13]||(x[13]=o("span",{class:"kpi-label"},"Animales Registrados",-1)),o("span",{class:ot(["kpi-trend",A(f.value.animalsTrend)])},P(N(f.value.animalsTrend))+" vs mes anterior ",3)])]),o("div",hU,[x[16]||(x[16]=o("div",{class:"kpi-icon"},"",-1)),o("div",mU,[o("span",vU,P(f.value.adoptionsMonth),1),x[15]||(x[15]=o("span",{class:"kpi-label"},"Adopciones del Mes",-1)),o("span",{class:ot(["kpi-trend",A(f.value.adoptionsTrend)])},P(N(f.value.adoptionsTrend))+" vs mes anterior ",3)])]),o("div",gU,[x[18]||(x[18]=o("div",{class:"kpi-icon"},"",-1)),o("div",_U,[o("span",bU,P(f.value.activeComplaints),1),x[17]||(x[17]=o("span",{class:"kpi-label"},"Denuncias Activas",-1)),o("span",yU,P(f.value.criticalComplaints)+" criticas",1)])]),o("div",wU,[x[20]||(x[20]=o("div",{class:"kpi-icon"},"",-1)),o("div",xU,[o("span",AU,P(f.value.vaccinationRate)+"%",1),x[19]||(x[19]=o("span",{class:"kpi-label"},"Cobertura Vacunacin",-1)),o("span",SU,P(f.value.vaccinationsMonth)+" este mes",1)])])]),o("div",kU,[o("div",CU,[o("span",EU,P(f.value.rescuesMonth),1),x[21]||(x[21]=o("span",{class:"secondary-label"},"Rescates del mes",-1))]),o("div",LU,[o("span",NU,P(f.value.sterilizations),1),x[22]||(x[22]=o("span",{class:"secondary-label"},"Esterilizaciones",-1))]),o("div",PU,[o("span",$U,P(f.value.pendingAdoptions),1),x[23]||(x[23]=o("span",{class:"secondary-label"},"Adopciones pendientes",-1))]),o("div",TU,[o("span",IU,P(f.value.avgResponseTime)+"h",1),x[24]||(x[24]=o("span",{class:"secondary-label"},"Tiempo resp. promedio",-1))])]),o("div",DU,[o("div",RU,[o("div",OU,[x[25]||(x[25]=o("h3",{class:"h5-tipografia-govco"},"Tendencia de Adopciones",-1)),o("button",{type:"button",class:"export-btn",onClick:x[3]||(x[3]=$=>H("adoptions"))},"  PNG ")]),o("div",MU,[o("div",FU,[o("div",BU,[(D(!0),M(rt,null,ht(w.value,($,Z)=>(D(),M("div",{key:Z,class:"chart-bar-container"},[o("div",{class:"chart-bar",style:Wa({height:`${$}%`})},null,4),o("span",jU,P(v.value[Z]),1)]))),128))]),x[26]||(x[26]=o("div",{class:"chart-legend"},[o("span",{class:"legend-item"},[o("span",{class:"legend-dot adoptions"}),je(" Adopciones")])],-1))])],512)]),o("div",zU,[o("div",UU,[x[27]||(x[27]=o("h3",{class:"h5-tipografia-govco"},"Denuncias por Tipo",-1)),o("button",{type:"button",class:"export-btn",onClick:x[4]||(x[4]=$=>H("complaints"))},"  PNG ")]),o("div",VU,[...x[28]||(x[28]=[Bt('<div class="mock-chart pie-chart" data-v-51c3ce9f><div class="pie-container" data-v-51c3ce9f><div class="pie-slice" style="--percentage:35;--color:#A80521;--offset:0;" data-v-51c3ce9f></div><div class="pie-slice" style="--percentage:25;--color:#FFAB00;--offset:35;" data-v-51c3ce9f></div><div class="pie-slice" style="--percentage:20;--color:#3366CC;--offset:60;" data-v-51c3ce9f></div><div class="pie-slice" style="--percentage:20;--color:#068460;--offset:80;" data-v-51c3ce9f></div></div><div class="pie-legend" data-v-51c3ce9f><div class="legend-row" data-v-51c3ce9f><span class="dot" style="background:#A80521;" data-v-51c3ce9f></span> Maltrato (35%)</div><div class="legend-row" data-v-51c3ce9f><span class="dot" style="background:#FFAB00;" data-v-51c3ce9f></span> Abandono (25%)</div><div class="legend-row" data-v-51c3ce9f><span class="dot" style="background:#3366CC;" data-v-51c3ce9f></span> Negligencia (20%)</div><div class="legend-row" data-v-51c3ce9f><span class="dot" style="background:#068460;" data-v-51c3ce9f></span> Otros (20%)</div></div></div>',1)])],512)]),o("div",qU,[o("div",HU,[x[29]||(x[29]=o("h3",{class:"h5-tipografia-govco"},"Cobertura de Vacunacion",-1)),o("button",{type:"button",class:"export-btn",onClick:x[5]||(x[5]=$=>H("vaccination"))},"  PNG ")]),o("div",GU,[o("div",WU,[o("div",ZU,[x[31]||(x[31]=o("div",{class:"gauge-bg"},null,-1)),o("div",{class:"gauge-fill",style:Wa({"--fill":f.value.vaccinationRate})},null,4),o("div",KU,[o("span",JU,P(f.value.vaccinationRate)+"%",1),x[30]||(x[30]=o("span",{class:"gauge-label"},"Cobertura",-1))])]),x[32]||(x[32]=Bt('<div class="gauge-info" data-v-51c3ce9f><div class="info-row" data-v-51c3ce9f><span data-v-51c3ce9f>Rabia:</span><div class="progress-bar" data-v-51c3ce9f><div class="progress-fill" style="width:92%;" data-v-51c3ce9f></div></div><span data-v-51c3ce9f>92%</span></div><div class="info-row" data-v-51c3ce9f><span data-v-51c3ce9f>Triple:</span><div class="progress-bar" data-v-51c3ce9f><div class="progress-fill" style="width:78%;" data-v-51c3ce9f></div></div><span data-v-51c3ce9f>78%</span></div><div class="info-row" data-v-51c3ce9f><span data-v-51c3ce9f>Parvovirus:</span><div class="progress-bar" data-v-51c3ce9f><div class="progress-fill" style="width:85%;" data-v-51c3ce9f></div></div><span data-v-51c3ce9f>85%</span></div></div>',1))])],512)]),o("div",YU,[o("div",XU,[x[33]||(x[33]=o("h3",{class:"h5-tipografia-govco"},"Animales por Especie",-1)),o("button",{type:"button",class:"export-btn",onClick:x[6]||(x[6]=$=>H("species"))},"  PNG ")]),o("div",QU,[o("div",eV,[(D(!0),M(rt,null,ht(m.value,$=>(D(),M("div",{key:$.label,class:"h-bar-row"},[o("span",tV,P($.label),1),o("div",nV,[o("div",{class:"h-bar-fill",style:Wa({width:$.porcentaje+"%",background:$.color})},null,4)]),o("span",oV,P($.cantidad.toLocaleString()),1)]))),128)),m.value.length===0?(D(),M("div",iV," Sin datos de especies ")):_e("",!0)])],512)])]),o("div",aV,[o("div",sV,[x[34]||(x[34]=o("h3",{class:"h5-tipografia-govco"},"Denuncias Recientes",-1)),o("div",rV,[p.value.length===0?(D(),M("div",lV," No hay denuncias recientes ")):_e("",!0),(D(!0),M(rt,null,ht(p.value,$=>(D(),M("div",{key:$.id,class:"recent-item"},[o("div",{class:ot(["recent-icon",`priority-${$.prioridad||"media"}`])},P(T($.tipo_denuncia)),3),o("div",cV,[o("span",uV,P(I($.tipo_denuncia)),1),o("span",dV,P($.direccion||"Sin direccin"),1)]),o("div",fV,[o("span",{class:ot(["recent-status",`status-${$.estado}`])},P(j($.estado)),3),o("span",pV,P(K($.created_at)),1)])]))),128))])]),o("div",hV,[x[35]||(x[35]=o("h3",{class:"h5-tipografia-govco"},"Alertas del Sistema",-1)),o("div",mV,[(D(!0),M(rt,null,ht(y.value,$=>(D(),M("div",{key:$.id,class:ot(["alert-item",`alert-${$.type}`])},[o("span",vV,P(k($.type)),1),o("div",gV,[o("span",_V,P($.title),1),o("span",bV,P($.description),1)]),o("span",yV,P($.time),1)],2))),128))])])])]))}},xV=It(wV,[["__scopeId","data-v-51c3ce9f"]]),AV={class:"custom-reports"},SV={class:"reports-layout"},kV={class:"config-panel"},CV={class:"form-group"},EV={class:"form-group"},LV={class:"date-range"},NV={key:0,class:"dynamic-filters"},PV={class:"form-group"},$V={class:"form-group"},TV={key:1,class:"dynamic-filters"},IV={class:"form-group"},DV={class:"form-group"},RV={class:"form-group"},OV={key:2,class:"dynamic-filters"},MV={class:"form-group"},FV={key:3,class:"dynamic-filters"},BV={class:"form-group"},jV={class:"form-group"},zV={class:"columns-selection"},UV=["value"],VV={class:"form-group"},qV={class:"action-buttons"},HV=["disabled"],GV={class:"preview-panel"},WV={key:0,class:"empty-state"},ZV={key:1,class:"loading-state"},KV={key:2,class:"report-preview"},JV={class:"preview-header"},YV={class:"preview-info"},XV={class:"record-count"},QV={class:"export-buttons"},eq={class:"preview-table-container"},tq={class:"preview-table"},nq={key:0,class:"pagination"},oq=["disabled"],iq={class:"page-info"},aq=["disabled"],sq={key:1,class:"stats-summary"},rq={class:"stats-grid"},lq={class:"stat-item"},cq={class:"stat-value"},uq={key:0,class:"stat-item"},dq={class:"stat-value"},fq={key:1,class:"stat-item"},pq={class:"stat-value"},hq={class:"saved-reports"},mq={class:"saved-reports-list"},vq={class:"saved-info"},gq={class:"saved-name"},_q={class:"saved-date"},bq={class:"saved-actions"},yq=["onClick"],wq=["onClick"],xq={key:0,class:"no-saved"},Qu=10,Aq={__name:"CustomReports",setup(e){const t=ve(!1),n=ve(!1),i=ve(1),s=ve(!0),r=ve({type:"",startDate:"",endDate:"",filters:{species:"",status:"",complaintType:"",priority:"",adoptionStatus:"",vaccineType:""},columns:[],groupBy:""}),l={animals:[{id:"id",label:"ID"},{id:"nombre",label:"Nombre"},{id:"especie",label:"Especie"},{id:"raza",label:"Raza"},{id:"edad",label:"Edad"},{id:"estado",label:"Estado"},{id:"fecha_registro",label:"Fecha Registro"},{id:"ubicacion",label:"Ubicacion"}],adoptions:[{id:"id",label:"ID"},{id:"animal",label:"Animal"},{id:"adoptante",label:"Adoptante"},{id:"fecha_solicitud",label:"Fecha Solicitud"},{id:"fecha_adopcion",label:"Fecha Adopcion"},{id:"estado",label:"Estado"},{id:"seguimiento",label:"Seguimiento"}],complaints:[{id:"id",label:"ID"},{id:"tipo",label:"Tipo"},{id:"fecha",label:"Fecha"},{id:"ubicacion",label:"Ubicacion"},{id:"estado",label:"Estado"},{id:"prioridad",label:"Prioridad"},{id:"asignado",label:"Asignado a"}],vaccinations:[{id:"id",label:"ID"},{id:"animal",label:"Animal"},{id:"vacuna",label:"Vacuna"},{id:"fecha",label:"Fecha"},{id:"veterinario",label:"Veterinario"},{id:"proxima",label:"Proxima Dosis"}],rescues:[{id:"id",label:"ID"},{id:"fecha",label:"Fecha"},{id:"ubicacion",label:"Ubicacion"},{id:"animales",label:"Animales"},{id:"estado",label:"Estado"},{id:"responsable",label:"Responsable"}],users:[{id:"id",label:"ID"},{id:"nombre",label:"Nombre"},{id:"email",label:"Email"},{id:"rol",label:"Rol"},{id:"estado",label:"Estado"},{id:"ultimo_acceso",label:"Ultimo Acceso"}]},c=ve([]),d=ve([{id:1,name:"Adopciones Q4 2024",type:"adoptions",createdAt:"2024-11-15"},{id:2,name:"Denuncias Criticas",type:"complaints",createdAt:"2024-11-20"}]),p=We(()=>l[r.value.type]||[]),f=We(()=>{const H=l[r.value.type]||[];return r.value.columns.map(F=>{const R=H.find(z=>z.id===F);return R?R.label:F})}),v=We(()=>r.value.type&&r.value.startDate&&r.value.endDate&&r.value.columns.length>0),w=We(()=>Math.ceil(c.value.length/Qu)),m=We(()=>{const H=(i.value-1)*Qu,F=H+Qu;return c.value.slice(H,F)});Kn(()=>r.value.type,H=>{H&&l[H]&&(r.value.columns=l[H].slice(0,5).map(F=>F.id)),r.value.filters={species:"",status:"",complaintType:"",priority:"",adoptionStatus:"",vaccineType:""},n.value=!1});function y(){return{animals:"Reporte de Animales Registrados",adoptions:"Reporte de Adopciones",complaints:"Reporte de Denuncias",vaccinations:"Reporte de Vacunaciones",rescues:"Reporte de Operativos de Rescate",users:"Reporte de Usuarios"}[r.value.type]||"Reporte"}function A(H){return H?new Date(H).toLocaleDateString("es-CO"):"-"}function N(){t.value=!0,n.value=!1,setTimeout(()=>{c.value=k(),t.value=!1,n.value=!0,i.value=1},1500)}function k(){var F;const H={animals:()=>Array.from({length:25},(R,z)=>({id:`AN-${1e3+z}`,nombre:["Luna","Max","Bella","Rocky","Milo"][z%5],especie:["Perro","Gato","Perro","Gato","Equino"][z%5],raza:["Mestizo","Criollo","Labrador","Siames","Criollo"][z%5],edad:`${z%10+1} aos`,estado:["Disponible","Adoptado","En tratamiento"][z%3],fecha_registro:"2024-11-"+String(z%28+1).padStart(2,"0"),ubicacion:["Sede Norte","Sede Sur","Sede Centro"][z%3]})),adoptions:()=>Array.from({length:18},(R,z)=>({id:`AD-${2e3+z}`,animal:["Luna","Max","Bella"][z%3],adoptante:["Juan Perez","Maria Lopez","Carlos Ruiz"][z%3],fecha_solicitud:"2024-11-"+String(z%20+1).padStart(2,"0"),fecha_adopcion:z%2===0?"2024-11-"+String(z%20+5).padStart(2,"0"):"-",estado:["Completada","En proceso","Cancelada"][z%3],seguimiento:z%2===0?"Realizado":"Pendiente"})),complaints:()=>Array.from({length:30},(R,z)=>({id:`DN-${3e3+z}`,tipo:["Maltrato","Abandono","Negligencia"][z%3],fecha:"2024-11-"+String(z%28+1).padStart(2,"0"),ubicacion:["Calle 10 #5-20","Av. Principal","Barrio Centro"][z%3],estado:["Pendiente","En proceso","Resuelto"][z%3],prioridad:["Critica","Alta","Media","Baja"][z%4],asignado:["Inspector A","Inspector B","Sin asignar"][z%3]})),vaccinations:()=>Array.from({length:20},(R,z)=>({id:`VC-${4e3+z}`,animal:["Luna","Max","Bella","Rocky"][z%4],vacuna:["Rabia","Triple","Parvovirus"][z%3],fecha:"2024-11-"+String(z%28+1).padStart(2,"0"),veterinario:["Dr. Garcia","Dra. Martinez"][z%2],proxima:"2025-05-"+String(z%28+1).padStart(2,"0")})),rescues:()=>Array.from({length:12},(R,z)=>({id:`RS-${5e3+z}`,fecha:"2024-11-"+String(z%28+1).padStart(2,"0"),ubicacion:["Zona Rural","Centro Urbano","Periferia"][z%3],animales:`${z%5+1}`,estado:["Completado","En curso"][z%2],responsable:["Equipo A","Equipo B"][z%2]})),users:()=>Array.from({length:15},(R,z)=>({id:`US-${6e3+z}`,nombre:["Admin Sistema","Juan Inspector","Maria Veterinaria"][z%3],email:["admin@gov.co","jinspector@gov.co","mvet@gov.co"][z%3],rol:["Administrador","Inspector","Veterinario"][z%3],estado:["Activo","Activo","Inactivo"][z%3],ultimo_acceso:"2024-11-"+String(z%10+15).padStart(2,"0")}))};return((F=H[r.value.type])==null?void 0:F.call(H))||[]}function T(H){return H==="criticas"?c.value.filter(F=>F.prioridad==="Critica").length:H==="completadas"?c.value.filter(F=>F.estado==="Completada").length:0}function I(H){alert(`Exportando reporte en formato ${{pdf:"PDF",xlsx:"Excel",csv:"CSV"}[H]}...
Archivo: ${y().replace(/ /g,"_")}.${H}`)}function j(){r.value={type:"",startDate:"",endDate:"",filters:{species:"",status:"",complaintType:"",priority:"",adoptionStatus:"",vaccineType:""},columns:[],groupBy:""},n.value=!1,c.value=[]}function K(H){r.value.type=H.type,alert(`Cargando reporte: ${H.name}`)}function W(H){confirm("Eliminar este reporte guardado?")&&(d.value=d.value.filter(F=>F.id!==H))}return(H,F)=>(D(),M("section",AV,[F[46]||(F[46]=o("div",{class:"reports-header"},[o("div",{class:"header-left"},[o("h2",{class:"h3-tipografia-govco"},"Reportes Personalizados"),o("p",{class:"text2-tipografia-govco"}," Configure y genere reportes segun sus necesidades ")])],-1)),o("div",SV,[o("div",kV,[F[38]||(F[38]=o("h3",{class:"h5-tipografia-govco"},"Configurar Reporte",-1)),o("div",CV,[F[18]||(F[18]=o("label",{class:"form-label"},"Tipo de Reporte *",-1)),$e(o("select",{"onUpdate:modelValue":F[0]||(F[0]=R=>r.value.type=R),class:"form-select"},[...F[17]||(F[17]=[Bt('<option value="" data-v-e3672432>Seleccione un tipo</option><option value="animals" data-v-e3672432>Animales Registrados</option><option value="adoptions" data-v-e3672432>Adopciones</option><option value="complaints" data-v-e3672432>Denuncias</option><option value="vaccinations" data-v-e3672432>Vacunaciones</option><option value="rescues" data-v-e3672432>Operativos de Rescate</option><option value="users" data-v-e3672432>Usuarios del Sistema</option>',7)])],512),[[yt,r.value.type]])]),o("div",EV,[F[20]||(F[20]=o("label",{class:"form-label"},"Rango de Fechas *",-1)),o("div",LV,[$e(o("input",{type:"date","onUpdate:modelValue":F[1]||(F[1]=R=>r.value.startDate=R),class:"form-input"},null,512),[[lt,r.value.startDate]]),F[19]||(F[19]=o("span",null,"a",-1)),$e(o("input",{type:"date","onUpdate:modelValue":F[2]||(F[2]=R=>r.value.endDate=R),class:"form-input"},null,512),[[lt,r.value.endDate]])])]),r.value.type==="animals"?(D(),M("div",NV,[o("div",PV,[F[22]||(F[22]=o("label",{class:"form-label"},"Especie",-1)),$e(o("select",{"onUpdate:modelValue":F[3]||(F[3]=R=>r.value.filters.species=R),class:"form-select"},[...F[21]||(F[21]=[Bt('<option value="" data-v-e3672432>Todas</option><option value="perro" data-v-e3672432>Perros</option><option value="gato" data-v-e3672432>Gatos</option><option value="equino" data-v-e3672432>Equinos</option><option value="otro" data-v-e3672432>Otros</option>',5)])],512),[[yt,r.value.filters.species]])]),o("div",$V,[F[24]||(F[24]=o("label",{class:"form-label"},"Estado",-1)),$e(o("select",{"onUpdate:modelValue":F[4]||(F[4]=R=>r.value.filters.status=R),class:"form-select"},[...F[23]||(F[23]=[o("option",{value:""},"Todos",-1),o("option",{value:"disponible"},"Disponible",-1),o("option",{value:"adoptado"},"Adoptado",-1),o("option",{value:"en_tratamiento"},"En tratamiento",-1)])],512),[[yt,r.value.filters.status]])])])):_e("",!0),r.value.type==="complaints"?(D(),M("div",TV,[o("div",IV,[F[26]||(F[26]=o("label",{class:"form-label"},"Tipo de Denuncia",-1)),$e(o("select",{"onUpdate:modelValue":F[5]||(F[5]=R=>r.value.filters.complaintType=R),class:"form-select"},[...F[25]||(F[25]=[o("option",{value:""},"Todas",-1),o("option",{value:"maltrato"},"Maltrato",-1),o("option",{value:"abandono"},"Abandono",-1),o("option",{value:"negligencia"},"Negligencia",-1)])],512),[[yt,r.value.filters.complaintType]])]),o("div",DV,[F[28]||(F[28]=o("label",{class:"form-label"},"Estado",-1)),$e(o("select",{"onUpdate:modelValue":F[6]||(F[6]=R=>r.value.filters.status=R),class:"form-select"},[...F[27]||(F[27]=[o("option",{value:""},"Todos",-1),o("option",{value:"pendiente"},"Pendiente",-1),o("option",{value:"en_proceso"},"En proceso",-1),o("option",{value:"resuelto"},"Resuelto",-1)])],512),[[yt,r.value.filters.status]])]),o("div",RV,[F[30]||(F[30]=o("label",{class:"form-label"},"Prioridad",-1)),$e(o("select",{"onUpdate:modelValue":F[7]||(F[7]=R=>r.value.filters.priority=R),class:"form-select"},[...F[29]||(F[29]=[Bt('<option value="" data-v-e3672432>Todas</option><option value="critica" data-v-e3672432>Critica</option><option value="alta" data-v-e3672432>Alta</option><option value="media" data-v-e3672432>Media</option><option value="baja" data-v-e3672432>Baja</option>',5)])],512),[[yt,r.value.filters.priority]])])])):_e("",!0),r.value.type==="adoptions"?(D(),M("div",OV,[o("div",MV,[F[32]||(F[32]=o("label",{class:"form-label"},"Estado de Adopcion",-1)),$e(o("select",{"onUpdate:modelValue":F[8]||(F[8]=R=>r.value.filters.adoptionStatus=R),class:"form-select"},[...F[31]||(F[31]=[o("option",{value:""},"Todos",-1),o("option",{value:"completada"},"Completada",-1),o("option",{value:"en_proceso"},"En proceso",-1),o("option",{value:"cancelada"},"Cancelada",-1)])],512),[[yt,r.value.filters.adoptionStatus]])])])):_e("",!0),r.value.type==="vaccinations"?(D(),M("div",FV,[o("div",BV,[F[34]||(F[34]=o("label",{class:"form-label"},"Tipo de Vacuna",-1)),$e(o("select",{"onUpdate:modelValue":F[9]||(F[9]=R=>r.value.filters.vaccineType=R),class:"form-select"},[...F[33]||(F[33]=[Bt('<option value="" data-v-e3672432>Todas</option><option value="rabia" data-v-e3672432>Antirrabica</option><option value="triple" data-v-e3672432>Triple Felina/Canina</option><option value="parvovirus" data-v-e3672432>Parvovirus</option><option value="otra" data-v-e3672432>Otra</option>',5)])],512),[[yt,r.value.filters.vaccineType]])])])):_e("",!0),o("div",jV,[F[35]||(F[35]=o("label",{class:"form-label"},"Columnas a Incluir",-1)),o("div",zV,[(D(!0),M(rt,null,ht(p.value,R=>(D(),M("label",{key:R.id,class:"checkbox-label"},[$e(o("input",{type:"checkbox",value:R.id,"onUpdate:modelValue":F[10]||(F[10]=z=>r.value.columns=z)},null,8,UV),[[Po,r.value.columns]]),je(" "+P(R.label),1)]))),128))])]),o("div",VV,[F[37]||(F[37]=o("label",{class:"form-label"},"Agrupar por",-1)),$e(o("select",{"onUpdate:modelValue":F[11]||(F[11]=R=>r.value.groupBy=R),class:"form-select"},[...F[36]||(F[36]=[Bt('<option value="" data-v-e3672432>Sin agrupacion</option><option value="day" data-v-e3672432>Dia</option><option value="week" data-v-e3672432>Semana</option><option value="month" data-v-e3672432>Mes</option><option value="species" data-v-e3672432>Especie</option><option value="status" data-v-e3672432>Estado</option>',6)])],512),[[yt,r.value.groupBy]])]),o("div",qV,[o("button",{type:"button",class:"btn-preview",onClick:N,disabled:!v.value}," Vista Previa ",8,HV),o("button",{type:"button",class:"btn-reset",onClick:j}," Limpiar ")])]),o("div",GV,[!n.value&&!t.value?(D(),M("div",WV,[...F[39]||(F[39]=[o("div",{class:"empty-icon"},"",-1),o("h4",null,"Configure su reporte",-1),o("p",null,'Seleccione el tipo de reporte y los filtros deseados, luego presione "Vista Previa"',-1)])])):_e("",!0),t.value?(D(),M("div",ZV,[...F[40]||(F[40]=[o("div",{class:"spinner"},null,-1),o("p",null,"Generando reporte...",-1)])])):_e("",!0),n.value&&!t.value?(D(),M("div",KV,[o("div",JV,[o("div",YV,[o("h4",null,P(y()),1),o("p",null,"Periodo: "+P(A(r.value.startDate))+" - "+P(A(r.value.endDate)),1),o("p",XV,P(c.value.length)+" registros encontrados",1)]),o("div",QV,[o("button",{type:"button",class:"export-btn pdf",onClick:F[12]||(F[12]=R=>I("pdf"))},"  PDF "),o("button",{type:"button",class:"export-btn excel",onClick:F[13]||(F[13]=R=>I("xlsx"))},"  Excel "),o("button",{type:"button",class:"export-btn csv",onClick:F[14]||(F[14]=R=>I("csv"))},"  CSV ")])]),o("div",eq,[o("table",tq,[o("thead",null,[o("tr",null,[(D(!0),M(rt,null,ht(f.value,R=>(D(),M("th",{key:R},P(R),1))),128))])]),o("tbody",null,[(D(!0),M(rt,null,ht(m.value,(R,z)=>(D(),M("tr",{key:z},[(D(!0),M(rt,null,ht(r.value.columns,x=>(D(),M("td",{key:x},P(R[x]||"-"),1))),128))]))),128))])])]),c.value.length>Qu?(D(),M("div",nq,[o("button",{type:"button",onClick:F[15]||(F[15]=R=>i.value--),disabled:i.value===1,class:"page-btn"}," Anterior ",8,oq),o("span",iq," Pagina "+P(i.value)+" de "+P(w.value),1),o("button",{type:"button",onClick:F[16]||(F[16]=R=>i.value++),disabled:i.value===w.value,class:"page-btn"}," Siguiente ",8,aq)])):_e("",!0),s.value?(D(),M("div",sq,[F[44]||(F[44]=o("h5",null,"Resumen Estadistico",-1)),o("div",rq,[o("div",lq,[o("span",cq,P(c.value.length),1),F[41]||(F[41]=o("span",{class:"stat-label"},"Total Registros",-1))]),r.value.type==="complaints"?(D(),M("div",uq,[o("span",dq,P(T("criticas")),1),F[42]||(F[42]=o("span",{class:"stat-label"},"Casos Criticos",-1))])):_e("",!0),r.value.type==="adoptions"?(D(),M("div",fq,[o("span",pq,P(T("completadas")),1),F[43]||(F[43]=o("span",{class:"stat-label"},"Completadas",-1))])):_e("",!0)])])):_e("",!0)])):_e("",!0)])]),o("div",hq,[F[45]||(F[45]=o("h3",{class:"h5-tipografia-govco"},"Reportes Guardados",-1)),o("div",mq,[(D(!0),M(rt,null,ht(d.value,R=>(D(),M("div",{key:R.id,class:"saved-report-item"},[o("div",vq,[o("span",gq,P(R.name),1),o("span",_q,P(R.createdAt),1)]),o("div",bq,[o("button",{type:"button",class:"action-btn",onClick:z=>K(R)}," Cargar ",8,yq),o("button",{type:"button",class:"action-btn delete",onClick:z=>W(R.id)}," Eliminar ",8,wq)])]))),128)),d.value.length===0?(D(),M("p",xq," No hay reportes guardados ")):_e("",!0)])])]))}},Sq=It(Aq,[["__scopeId","data-v-e3672432"]]),kq={class:"user-management"},Cq={class:"management-header"},Eq={class:"header-right"},Lq={class:"filters-bar"},Nq={class:"search-box"},Pq={class:"filter-group"},$q=["value"],Tq={class:"filter-group"},Iq={class:"stats-cards"},Dq={class:"stat-card"},Rq={class:"stat-value"},Oq={class:"stat-card active"},Mq={class:"stat-value"},Fq={class:"stat-card inactive"},Bq={class:"stat-value"},jq={class:"stat-card blocked"},zq={class:"stat-value"},Uq={class:"users-table-container"},Vq={class:"users-table"},qq={class:"user-cell"},Hq={class:"user-avatar"},Gq={class:"user-info"},Wq={class:"user-name"},Zq={class:"user-email"},Kq={class:"actions-cell"},Jq=["onClick"],Yq=["onClick"],Xq=["onClick","title"],Qq=["onClick"],eH={key:0,class:"no-results"},tH={class:"pagination"},nH=["disabled"],oH={class:"page-info"},iH=["disabled"],aH={class:"roles-section"},sH={class:"roles-grid"},rH={class:"role-header"},lH={class:"role-name"},cH={class:"role-count"},uH={class:"role-description"},dH={class:"role-permissions"},fH={key:0,class:"more-permissions"},pH={class:"role-actions"},hH=["onClick"],mH={class:"modal-content"},vH={class:"modal-header"},gH={class:"modal-body"},_H={class:"form-row"},bH={class:"form-group"},yH={class:"form-group"},wH={class:"form-row"},xH={class:"form-group"},AH={class:"form-group"},SH={class:"form-row"},kH={class:"form-group"},CH={class:"form-group"},EH=["value"],LH={class:"form-row"},NH={class:"form-group"},PH={class:"form-group"},$H={class:"mfa-section"},TH={class:"checkbox-label"},IH={class:"form-actions"},DH={type:"submit",class:"btn-save"},RH={class:"modal-content view-modal"},OH={class:"modal-body"},MH={class:"user-detail-header"},FH={class:"user-avatar-large"},BH={class:"user-detail-info"},jH={class:"detail-grid"},zH={class:"detail-item"},UH={class:"detail-value"},VH={class:"detail-item"},qH={class:"detail-value"},HH={class:"detail-item"},GH={class:"detail-value"},WH={class:"detail-item"},ZH={class:"detail-value"},KH={class:"detail-item"},JH={class:"detail-value"},YH={class:"detail-item"},XH={class:"detail-value"},QH={class:"detail-item"},eG={class:"detail-value"},tG={class:"activity-section"},nG={class:"activity-list"},oG={class:"activity-icon"},iG={class:"activity-text"},aG={class:"activity-time"},sG=10,rG={__name:"UserManagement",setup(e){const t=ve(""),n=ve(""),i=ve(""),s=ve(1),r=ve(!1),l=ve(!1),c=ve("create"),d=ve(null),p=ve({total:45,active:38,inactive:5,blocked:2}),f=ve([{id:"admin",name:"Administrador",description:"Acceso completo al sistema",userCount:3,permissions:["usuarios","reportes","configuracion","auditoria"]},{id:"director",name:"Director",description:"Visualizacion de KPIs y reportes",userCount:2,permissions:["dashboard","reportes","estadisticas"]},{id:"veterinario",name:"Veterinario",description:"Gestin de salud animal",userCount:12,permissions:["animales","vacunacin","historias_clinicas"]},{id:"inspector",name:"Inspector",description:"Atencin de denuncias y rescates",userCount:15,permissions:["denuncias","rescates","operativos"]},{id:"adoptante",name:"Gestor de Adopciones",description:"Proceso de adopciones",userCount:8,permissions:["adopciones","seguimiento","animales_lectura"]},{id:"consulta",name:"Solo Consulta",description:"Visualizacion sin edicion",userCount:5,permissions:["lectura_general"]}]),v=ve([{id:1,nombre:"Carlos Alberto Ramirez",email:"caramirez@gov.co",tipoDocumento:"CC",documento:"79.852.147",telefono:"3001234567",rol:"admin",rolNombre:"Administrador",estado:"activo",mfaEnabled:!0,dependencia:"direccion",ultimoAcceso:"2024-11-27T10:30:00",fechaCreacion:"2023-01-15"},{id:2,nombre:"Maria Elena Lopez",email:"melopez@gov.co",tipoDocumento:"CC",documento:"52.741.963",telefono:"3109876543",rol:"director",rolNombre:"Director",estado:"activo",mfaEnabled:!0,dependencia:"direccion",ultimoAcceso:"2024-11-27T08:15:00",fechaCreacion:"2023-02-20"},{id:3,nombre:"Juan David Martinez",email:"jdmartinez@gov.co",tipoDocumento:"CC",documento:"80.123.456",telefono:"3205551234",rol:"veterinario",rolNombre:"Veterinario",estado:"activo",mfaEnabled:!1,dependencia:"veterinaria",ultimoAcceso:"2024-11-26T16:45:00",fechaCreacion:"2023-05-10"},{id:4,nombre:"Ana Patricia Gonzalez",email:"apgonzalez@gov.co",tipoDocumento:"CC",documento:"51.987.654",telefono:"3157894561",rol:"inspector",rolNombre:"Inspector",estado:"activo",mfaEnabled:!1,dependencia:"denuncias",ultimoAcceso:"2024-11-27T09:00:00",fechaCreacion:"2023-06-05"},{id:5,nombre:"Roberto Carlos Vega",email:"rcvega@gov.co",tipoDocumento:"CC",documento:"79.456.123",telefono:"3001112233",rol:"adoptante",rolNombre:"Gestor de Adopciones",estado:"inactivo",mfaEnabled:!1,dependencia:"adopciones",ultimoAcceso:"2024-11-15T14:20:00",fechaCreacion:"2023-08-12"},{id:6,nombre:"Sandra Milena Torres",email:"smtorres@gov.co",tipoDocumento:"CC",documento:"52.369.147",telefono:"3208887766",rol:"inspector",rolNombre:"Inspector",estado:"bloqueado",mfaEnabled:!1,dependencia:"operaciones",ultimoAcceso:"2024-10-20T11:30:00",fechaCreacion:"2023-04-18"}]),w=ve({nombre:"",tipoDocumento:"CC",documento:"",email:"",telefono:"",rol:"",dependencia:"",estado:"activo",mfaEnabled:!1}),m=ve([{icon:"=",text:"Actualizo registro de animal AN-1234",time:"Hace 2 horas"},{icon:"",text:"Completo adopcion AD-5678",time:"Hace 5 horas"},{icon:"=",text:"Inicio sesion desde 192.168.1.50",time:"Ayer 16:30"},{icon:"=",text:"Genero reporte de adopciones",time:"Hace 2 dias"}]),y=We(()=>{let Z=v.value;if(t.value){const b=t.value.toLowerCase();Z=Z.filter(S=>S.nombre.toLowerCase().includes(b)||S.email.toLowerCase().includes(b)||S.documento.includes(b))}return n.value&&(Z=Z.filter(b=>b.rol===n.value)),i.value&&(Z=Z.filter(b=>b.estado===i.value)),Z}),A=We(()=>Math.max(1,Math.ceil(y.value.length/sG)));function N(Z){return Z?Z.split(" ").map(b=>b[0]).slice(0,2).join("").toUpperCase():"??"}function k(Z){return Z?Z.charAt(0).toUpperCase()+Z.slice(1):""}function T(Z){return Z?new Date(Z).toLocaleDateString("es-CO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function I(Z){return{admin:"role-admin",director:"role-director",veterinario:"role-vet",inspector:"role-inspector",adoptante:"role-adoptante",consulta:"role-consulta"}[Z]||""}function j(Z,b=null){c.value=Z,Z==="edit"&&b?w.value={...b}:w.value={nombre:"",tipoDocumento:"CC",documento:"",email:"",telefono:"",rol:"",dependencia:"",estado:"activo",mfaEnabled:!1},r.value=!0}function K(){r.value=!1}function W(){var Z,b;if(w.value.rol==="admin"&&!w.value.mfaEnabled){alert("El MFA es obligatorio para usuarios con rol de Administrador");return}if(c.value==="create"){const S={...w.value,id:v.value.length+1,rolNombre:(Z=f.value.find(Q=>Q.id===w.value.rol))==null?void 0:Z.name,ultimoAcceso:null,fechaCreacion:new Date().toISOString()};v.value.push(S),alert("Usuario creado exitosamente")}else{const S=v.value.findIndex(Q=>Q.id===w.value.id);S!==-1&&(v.value[S]={...w.value,rolNombre:(b=f.value.find(Q=>Q.id===w.value.rol))==null?void 0:b.name}),alert("Usuario actualizado exitosamente")}K()}function H(Z){d.value=Z,l.value=!0}function F(){l.value=!1,d.value=null}function R(Z){const b=Z.estado==="activo"?"inactivo":"activo";confirm(`Cambiar estado de ${Z.nombre} a ${b}?`)&&(Z.estado=b)}function z(Z){confirm(`Enviar enlace de restablecimiento de contrasena a ${Z.email}?`)&&alert(`Enlace enviado a ${Z.email}`)}function x(){alert("Funcionalidad de crear rol (Integracion con sci-rbac)")}function $(Z){alert(`Editar rol: ${Z.name} (Integracion con sci-rbac)`)}return Kn(()=>w.value.rol,Z=>{Z==="admin"&&(w.value.mfaEnabled=!0)}),(Z,b)=>{var S,Q,U,le,xe,ke,Le,X,he,J,B,V,Y;return D(),M("section",kq,[o("div",Cq,[b[15]||(b[15]=o("div",{class:"header-left"},[o("h2",{class:"h3-tipografia-govco"},"Gestion de Usuarios"),o("p",{class:"text2-tipografia-govco"}," Administre usuarios, roles y permisos del sistema ")],-1)),o("div",Eq,[o("button",{type:"button",class:"btn-add-user",onClick:b[0]||(b[0]=ee=>j("create"))}," + Nuevo Usuario ")])]),o("div",Lq,[o("div",Nq,[$e(o("input",{type:"text","onUpdate:modelValue":b[1]||(b[1]=ee=>t.value=ee),placeholder:"Buscar por nombre, email o documento...",class:"search-input"},null,512),[[lt,t.value]]),b[16]||(b[16]=o("span",{class:"search-icon"},"= ",-1))]),o("div",Pq,[$e(o("select",{"onUpdate:modelValue":b[2]||(b[2]=ee=>n.value=ee),class:"filter-select"},[b[17]||(b[17]=o("option",{value:""},"Todos los roles",-1)),(D(!0),M(rt,null,ht(f.value,ee=>(D(),M("option",{key:ee.id,value:ee.id},P(ee.name),9,$q))),128))],512),[[yt,n.value]])]),o("div",Tq,[$e(o("select",{"onUpdate:modelValue":b[3]||(b[3]=ee=>i.value=ee),class:"filter-select"},[...b[18]||(b[18]=[o("option",{value:""},"Todos los estados",-1),o("option",{value:"activo"},"Activo",-1),o("option",{value:"inactivo"},"Inactivo",-1),o("option",{value:"bloqueado"},"Bloqueado",-1)])],512),[[yt,i.value]])])]),o("div",Iq,[o("div",Dq,[o("span",Rq,P(p.value.total),1),b[19]||(b[19]=o("span",{class:"stat-label"},"Total Usuarios",-1))]),o("div",Oq,[o("span",Mq,P(p.value.active),1),b[20]||(b[20]=o("span",{class:"stat-label"},"Activos",-1))]),o("div",Fq,[o("span",Bq,P(p.value.inactive),1),b[21]||(b[21]=o("span",{class:"stat-label"},"Inactivos",-1))]),o("div",jq,[o("span",zq,P(p.value.blocked),1),b[22]||(b[22]=o("span",{class:"stat-label"},"Bloqueados",-1))])]),o("div",Uq,[o("table",Vq,[b[23]||(b[23]=o("thead",null,[o("tr",null,[o("th",null,"Usuario"),o("th",null,"Documento"),o("th",null,"Rol"),o("th",null,"Estado"),o("th",null,"MFA"),o("th",null,"Ultimo Acceso"),o("th",null,"Acciones")])],-1)),o("tbody",null,[(D(!0),M(rt,null,ht(y.value,ee=>(D(),M("tr",{key:ee.id},[o("td",qq,[o("div",Hq,P(N(ee.nombre)),1),o("div",Gq,[o("span",Wq,P(ee.nombre),1),o("span",Zq,P(ee.email),1)])]),o("td",null,P(ee.documento),1),o("td",null,[o("span",{class:ot(["role-badge",I(ee.rol)])},P(ee.rolNombre),3)]),o("td",null,[o("span",{class:ot(["status-badge",ee.estado])},P(k(ee.estado)),3)]),o("td",null,[o("span",{class:ot(["mfa-badge",{enabled:ee.mfaEnabled}])},P(ee.mfaEnabled?"Activo":"Inactivo"),3)]),o("td",null,P(T(ee.ultimoAcceso)),1),o("td",Kq,[o("button",{type:"button",class:"action-btn view",onClick:fe=>H(ee),title:"Ver detalle"},"  ",8,Jq),o("button",{type:"button",class:"action-btn edit",onClick:fe=>j("edit",ee),title:"Editar"},"  ",8,Yq),o("button",{type:"button",class:"action-btn toggle",onClick:fe=>R(ee),title:ee.estado==="activo"?"Desactivar":"Activar"},P(ee.estado==="activo"?"":""),9,Xq),o("button",{type:"button",class:"action-btn reset",onClick:fe=>z(ee),title:"Resetear contrasea"},"  ",8,Qq)])]))),128))])]),y.value.length===0?(D(),M("div",eH,[...b[24]||(b[24]=[o("p",null,"No se encontraron usuarios con los filtros aplicados",-1)])])):_e("",!0)]),o("div",tH,[o("button",{type:"button",onClick:b[4]||(b[4]=ee=>s.value--),disabled:s.value===1,class:"page-btn"}," Anterior ",8,nH),o("span",oH," Pagina "+P(s.value)+" de "+P(A.value),1),o("button",{type:"button",onClick:b[5]||(b[5]=ee=>s.value++),disabled:s.value===A.value,class:"page-btn"}," Siguiente ",8,iH)]),o("div",aH,[o("div",{class:"roles-header"},[b[25]||(b[25]=o("h3",{class:"h5-tipografia-govco"},"Gestin de Roles",-1)),o("button",{type:"button",class:"btn-add-role",onClick:x}," + Nuevo Rol ")]),o("div",sH,[(D(!0),M(rt,null,ht(f.value,ee=>(D(),M("div",{key:ee.id,class:"role-card"},[o("div",rH,[o("span",lH,P(ee.name),1),o("span",cH,P(ee.userCount)+" usuarios",1)]),o("p",uH,P(ee.description),1),o("div",dH,[(D(!0),M(rt,null,ht(ee.permissions.slice(0,3),fe=>(D(),M("span",{key:fe,class:"permission-tag"},P(fe),1))),128)),ee.permissions.length>3?(D(),M("span",fH," +"+P(ee.permissions.length-3)+" ms ",1)):_e("",!0)]),o("div",pH,[o("button",{type:"button",class:"role-btn",onClick:fe=>$(ee)},"Editar",8,hH)])]))),128))])]),r.value?(D(),M("div",{key:0,class:"modal-overlay",onClick:Tt(K,["self"])},[o("div",mH,[o("div",vH,[o("h3",null,P(c.value==="create"?"Nuevo Usuario":"Editar Usuario"),1),o("button",{type:"button",class:"close-btn",onClick:K},"X")]),o("div",gH,[o("form",{onSubmit:Tt(W,["prevent"])},[o("div",_H,[o("div",bH,[b[26]||(b[26]=o("label",null,"Nombre Completo *",-1)),$e(o("input",{type:"text","onUpdate:modelValue":b[6]||(b[6]=ee=>w.value.nombre=ee),required:"",class:"form-input"},null,512),[[lt,w.value.nombre]])]),o("div",yH,[b[28]||(b[28]=o("label",null,"Tipo Documento *",-1)),$e(o("select",{"onUpdate:modelValue":b[7]||(b[7]=ee=>w.value.tipoDocumento=ee),required:"",class:"form-select"},[...b[27]||(b[27]=[o("option",{value:"CC"},"Cedula de Ciudadania",-1),o("option",{value:"CE"},"Cedula de Extranjeria",-1),o("option",{value:"PA"},"Pasaporte",-1)])],512),[[yt,w.value.tipoDocumento]])])]),o("div",wH,[o("div",xH,[b[29]||(b[29]=o("label",null,"Nmero de Documento *",-1)),$e(o("input",{type:"text","onUpdate:modelValue":b[8]||(b[8]=ee=>w.value.documento=ee),required:"",class:"form-input"},null,512),[[lt,w.value.documento]])]),o("div",AH,[b[30]||(b[30]=o("label",null,"Email Institucional *",-1)),$e(o("input",{type:"email","onUpdate:modelValue":b[9]||(b[9]=ee=>w.value.email=ee),required:"",class:"form-input"},null,512),[[lt,w.value.email]])])]),o("div",SH,[o("div",kH,[b[31]||(b[31]=o("label",null,"Telfono",-1)),$e(o("input",{type:"tel","onUpdate:modelValue":b[10]||(b[10]=ee=>w.value.telefono=ee),class:"form-input"},null,512),[[lt,w.value.telefono]])]),o("div",CH,[b[33]||(b[33]=o("label",null,"Rol *",-1)),$e(o("select",{"onUpdate:modelValue":b[11]||(b[11]=ee=>w.value.rol=ee),required:"",class:"form-select"},[b[32]||(b[32]=o("option",{value:""},"Seleccione un rol",-1)),(D(!0),M(rt,null,ht(f.value,ee=>(D(),M("option",{key:ee.id,value:ee.id},P(ee.name),9,EH))),128))],512),[[yt,w.value.rol]])])]),o("div",LH,[o("div",NH,[b[35]||(b[35]=o("label",null,"Dependencia",-1)),$e(o("select",{"onUpdate:modelValue":b[12]||(b[12]=ee=>w.value.dependencia=ee),class:"form-select"},[...b[34]||(b[34]=[Bt('<option value="" data-v-54d58d45>Seleccione</option><option value="direccion" data-v-54d58d45>Direccion General</option><option value="operaciones" data-v-54d58d45>Operaciones</option><option value="veterinaria" data-v-54d58d45>Area Veterinaria</option><option value="adopciones" data-v-54d58d45>Area de Adopciones</option><option value="denuncias" data-v-54d58d45>Atencin Denuncias</option>',6)])],512),[[yt,w.value.dependencia]])]),o("div",PH,[b[37]||(b[37]=o("label",null,"Estado",-1)),$e(o("select",{"onUpdate:modelValue":b[13]||(b[13]=ee=>w.value.estado=ee),class:"form-select"},[...b[36]||(b[36]=[o("option",{value:"activo"},"Activo",-1),o("option",{value:"inactivo"},"Inactivo",-1)])],512),[[yt,w.value.estado]])])]),o("div",$H,[b[39]||(b[39]=o("h4",null,"Autenticacion Multi-Factor (MFA)",-1)),o("label",TH,[$e(o("input",{type:"checkbox","onUpdate:modelValue":b[14]||(b[14]=ee=>w.value.mfaEnabled=ee)},null,512),[[Po,w.value.mfaEnabled]]),b[38]||(b[38]=je(" Habilitar MFA para este usuario ",-1))]),b[40]||(b[40]=o("p",{class:"mfa-note"}," * Obligatorio para usuarios con rol de Administrador ",-1))]),b[41]||(b[41]=o("div",{class:"sso-section"},[o("h4",null,"Integracion SSO"),o("p",{class:"sso-info"}," Este usuario ser sincronizado con sci-auth y sci-rbac para autenticacin nica (SSO). ")],-1)),o("div",IH,[o("button",{type:"button",class:"btn-cancel",onClick:K}," Cancelar "),o("button",DH,P(c.value==="create"?"Crear Usuario":"Guardar Cambios"),1)])],32)])])])):_e("",!0),l.value?(D(),M("div",{key:1,class:"modal-overlay",onClick:Tt(F,["self"])},[o("div",RH,[o("div",{class:"modal-header"},[b[42]||(b[42]=o("h3",null,"Detalle de Usuario",-1)),o("button",{type:"button",class:"close-btn",onClick:F},"X")]),o("div",OH,[o("div",MH,[o("div",FH,P(N((S=d.value)==null?void 0:S.nombre)),1),o("div",BH,[o("h4",null,P((Q=d.value)==null?void 0:Q.nombre),1),o("p",null,P((U=d.value)==null?void 0:U.email),1),o("span",{class:ot(["status-badge",(le=d.value)==null?void 0:le.estado])},P(k((xe=d.value)==null?void 0:xe.estado)),3)])]),o("div",jH,[o("div",zH,[b[43]||(b[43]=o("span",{class:"detail-label"},"Documento",-1)),o("span",UH,P((ke=d.value)==null?void 0:ke.tipoDocumento)+" "+P((Le=d.value)==null?void 0:Le.documento),1)]),o("div",VH,[b[44]||(b[44]=o("span",{class:"detail-label"},"Rol",-1)),o("span",qH,P((X=d.value)==null?void 0:X.rolNombre),1)]),o("div",HH,[b[45]||(b[45]=o("span",{class:"detail-label"},"Dependencia",-1)),o("span",GH,P(((he=d.value)==null?void 0:he.dependencia)||"Sin asignar"),1)]),o("div",WH,[b[46]||(b[46]=o("span",{class:"detail-label"},"Telfono",-1)),o("span",ZH,P(((J=d.value)==null?void 0:J.telefono)||"No registrado"),1)]),o("div",KH,[b[47]||(b[47]=o("span",{class:"detail-label"},"MFA",-1)),o("span",JH,P((B=d.value)!=null&&B.mfaEnabled?"Habilitado":"No habilitado"),1)]),o("div",YH,[b[48]||(b[48]=o("span",{class:"detail-label"},"Ultimo Acceso",-1)),o("span",XH,P(T((V=d.value)==null?void 0:V.ultimoAcceso)),1)]),o("div",QH,[b[49]||(b[49]=o("span",{class:"detail-label"},"Fecha Creacion",-1)),o("span",eG,P(T((Y=d.value)==null?void 0:Y.fechaCreacion)),1)])]),o("div",tG,[b[50]||(b[50]=o("h4",null,"Actividad Reciente",-1)),o("div",nG,[(D(!0),M(rt,null,ht(m.value,(ee,fe)=>(D(),M("div",{key:fe,class:"activity-item"},[o("span",oG,P(ee.icon),1),o("span",iG,P(ee.text),1),o("span",aG,P(ee.time),1)]))),128))])])])])])):_e("",!0)])}}},lG=It(rG,[["__scopeId","data-v-54d58d45"]]),cG={class:"audit-log"},uG={class:"filters-panel"},dG={class:"filters-row"},fG={class:"filter-group"},pG={class:"filter-group"},hG={class:"filter-group"},mG=["value"],vG={class:"filter-group"},gG={class:"filters-row"},_G={class:"filter-group"},bG={class:"filter-group"},yG={class:"filter-group search-group"},wG={class:"stats-bar"},xG={class:"stat-item"},AG={class:"stat-value"},SG={class:"stat-item success"},kG={class:"stat-value"},CG={class:"stat-item error"},EG={class:"stat-value"},LG={class:"stat-item"},NG={class:"stat-value"},PG={class:"logs-table-container"},$G={class:"logs-table"},TG={class:"col-time"},IG={class:"time-display"},DG={class:"date"},RG={class:"time"},OG={class:"col-user"},MG={class:"user-display"},FG={class:"user-name"},BG={class:"user-role"},jG={class:"col-action"},zG={class:"col-module"},UG={class:"module-badge"},VG={class:"col-description"},qG={class:"col-result"},HG={class:"col-ip"},GG={class:"col-details"},WG=["onClick"],ZG={key:0,class:"no-results"},KG={class:"pagination"},JG={class:"pagination-info"},YG={class:"pagination-controls"},XG=["disabled"],QG=["disabled"],eW={class:"page-numbers"},tW=["onClick"],nW=["disabled"],oW=["disabled"],iW={class:"page-size-selector"},aW={class:"modal-content"},sW={class:"modal-body"},rW={class:"detail-section"},lW={class:"detail-grid"},cW={class:"detail-item"},uW={class:"detail-value code"},dW={class:"detail-item"},fW={class:"detail-value"},pW={class:"detail-item"},hW={class:"detail-value"},mW={class:"detail-item"},vW={class:"detail-value"},gW={class:"detail-item"},_W={class:"detail-value"},bW={class:"detail-item"},yW={class:"detail-value"},wW={class:"detail-item"},xW={class:"detail-value"},AW={class:"detail-item"},SW={class:"detail-value code"},kW={class:"detail-section"},CW={class:"description-text"},EW={class:"detail-section"},LW={class:"detail-grid"},NW={class:"detail-item"},PW={class:"detail-value"},$W={class:"detail-item"},TW={class:"detail-value code"},IW={class:"detail-item"},DW={class:"detail-value code"},RW={class:"detail-item"},OW={class:"detail-value"},MW={key:0,class:"detail-section"},FW={class:"detail-grid"},BW={class:"detail-item"},jW={class:"detail-value"},zW={class:"detail-item"},UW={class:"detail-value code"},VW={key:1,class:"detail-section"},qW={class:"changes-container"},HW={key:2,class:"detail-section error-section"},GW={class:"error-container"},WW={class:"error-message"},ZW={key:0},KW={__name:"AuditLog",setup(e){const t=ve(1),n=ve(25),i=ve(!1),s=ve(null),r=ve({startDate:"",endDate:"",userId:"",actionType:"",module:"",result:"",search:""}),l=ve({total:15234,success:14892,errors:287,uniqueUsers:42}),c=ve([{id:1,name:"Carlos Ramirez"},{id:2,name:"Maria Lopez"},{id:3,name:"Juan Martinez"},{id:4,name:"Ana Gonzalez"},{id:5,name:"Roberto Vega"}]),d=ve([{id:"AUD-20241127-001",timestamp:"2024-11-27T10:45:23",userId:1,userName:"Carlos Ramirez",userRole:"Administrador",actionType:"UPDATE",module:"usuarios",description:"Actualizo permisos del usuario Maria Lopez",result:"success",ipAddress:"192.168.1.50",userAgent:"Chrome 120.0 / Windows 10",endpoint:"/api/users/2/permissions",httpMethod:"PUT",responseTime:245,entityType:"Usuario",entityId:2,changes:{before:{permissions:["read"]},after:{permissions:["read","write"]}}},{id:"AUD-20241127-002",timestamp:"2024-11-27T10:30:15",userId:3,userName:"Juan Martinez",userRole:"Veterinario",actionType:"CREATE",module:"animales",description:"Registro nuevo animal: Luna (Perro)",result:"success",ipAddress:"192.168.1.55",userAgent:"Firefox 121.0 / Windows 11",endpoint:"/api/animals",httpMethod:"POST",responseTime:312,entityType:"Animal",entityId:"AN-1234"},{id:"AUD-20241127-003",timestamp:"2024-11-27T10:15:42",userId:4,userName:"Ana Gonzalez",userRole:"Inspector",actionType:"UPDATE",module:"denuncias",description:'Actualizo estado de denuncia DN-5678 a "En proceso"',result:"success",ipAddress:"192.168.1.60",userAgent:"Chrome 120.0 / Android",endpoint:"/api/complaints/DN-5678/status",httpMethod:"PATCH",responseTime:189,entityType:"Denuncia",entityId:"DN-5678",changes:{before:{status:"pendiente"},after:{status:"en_proceso"}}},{id:"AUD-20241127-004",timestamp:"2024-11-27T09:58:11",userId:2,userName:"Maria Lopez",userRole:"Director",actionType:"EXPORT",module:"reportes",description:"Exporto reporte de adopciones Q4 2024 en formato PDF",result:"success",ipAddress:"192.168.1.45",userAgent:"Safari 17.0 / macOS",endpoint:"/api/reports/adoptions/export",httpMethod:"POST",responseTime:1523,entityType:"Reporte",entityId:"RPT-ADO-Q4-2024"},{id:"AUD-20241127-005",timestamp:"2024-11-27T09:45:33",userId:1,userName:"Carlos Ramirez",userRole:"Administrador",actionType:"DELETE",module:"usuarios",description:"Desactivo cuenta de usuario: Roberto Vega",result:"success",ipAddress:"192.168.1.50",userAgent:"Chrome 120.0 / Windows 10",endpoint:"/api/users/5/deactivate",httpMethod:"DELETE",responseTime:178,entityType:"Usuario",entityId:5,changes:{before:{status:"activo"},after:{status:"inactivo"}}},{id:"AUD-20241127-006",timestamp:"2024-11-27T09:30:00",userId:3,userName:"Juan Martinez",userRole:"Veterinario",actionType:"UPDATE",module:"vacunacion",description:"Registro vacuna antirrabica para animal AN-1100",result:"success",ipAddress:"192.168.1.55",userAgent:"Firefox 121.0 / Windows 11",endpoint:"/api/vaccinations",httpMethod:"POST",responseTime:267,entityType:"Vacunacion",entityId:"VAC-8901"},{id:"AUD-20241127-007",timestamp:"2024-11-27T09:15:22",userId:5,userName:"Roberto Vega",userRole:"Gestor Adopciones",actionType:"UPDATE",module:"adopciones",description:'Actualizo estado de adopcion AD-3456 a "Completada"',result:"success",ipAddress:"192.168.1.70",userAgent:"Edge 120.0 / Windows 10",endpoint:"/api/adoptions/AD-3456/status",httpMethod:"PATCH",responseTime:234,entityType:"Adopcion",entityId:"AD-3456"},{id:"AUD-20241127-008",timestamp:"2024-11-27T09:00:05",userId:2,userName:"Maria Lopez",userRole:"Director",actionType:"LOGIN",module:"autenticacion",description:"Inicio de sesion exitoso",result:"success",ipAddress:"192.168.1.45",userAgent:"Safari 17.0 / macOS",endpoint:"/api/auth/login",httpMethod:"POST",responseTime:523},{id:"AUD-20241127-009",timestamp:"2024-11-27T08:45:18",userId:4,userName:"Ana Gonzalez",userRole:"Inspector",actionType:"CREATE",module:"denuncias",description:"Registro nueva denuncia por maltrato animal",result:"error",ipAddress:"192.168.1.60",userAgent:"Chrome 120.0 / Android",endpoint:"/api/complaints",httpMethod:"POST",responseTime:5023,errorDetails:{message:"Error de conexion con base de datos",code:"DB_CONNECTION_TIMEOUT",stack:`Error: Connection timeout after 5000ms
  at Database.connect (/app/db/index.js:45:11)`}},{id:"AUD-20241127-010",timestamp:"2024-11-27T08:30:45",userId:1,userName:"Carlos Ramirez",userRole:"Administrador",actionType:"VIEW",module:"auditoria",description:"Consulto logs de auditoria del mes de octubre",result:"success",ipAddress:"192.168.1.50",userAgent:"Chrome 120.0 / Windows 10",endpoint:"/api/audit/logs",httpMethod:"GET",responseTime:892},{id:"AUD-20241127-011",timestamp:"2024-11-27T08:15:30",userId:3,userName:"Juan Martinez",userRole:"Veterinario",actionType:"LOGIN",module:"autenticacion",description:"Inicio de sesion exitoso con MFA",result:"success",ipAddress:"192.168.1.55",userAgent:"Firefox 121.0 / Windows 11",endpoint:"/api/auth/login/mfa",httpMethod:"POST",responseTime:723},{id:"AUD-20241127-012",timestamp:"2024-11-27T08:00:12",userId:null,userName:"Sistema",userRole:"Automatico",actionType:"UPDATE",module:"configuracion",description:"Respaldo automatico de base de datos completado",result:"success",ipAddress:"127.0.0.1",userAgent:"Cron Job / Server",endpoint:"/api/system/backup",httpMethod:"POST",responseTime:45230}]),p=We(()=>{let b=d.value;if(r.value.startDate){const S=new Date(r.value.startDate);b=b.filter(Q=>new Date(Q.timestamp)>=S)}if(r.value.endDate){const S=new Date(r.value.endDate);S.setHours(23,59,59),b=b.filter(Q=>new Date(Q.timestamp)<=S)}if(r.value.userId&&(b=b.filter(S=>S.userId===r.value.userId)),r.value.actionType&&(b=b.filter(S=>S.actionType===r.value.actionType)),r.value.module&&(b=b.filter(S=>S.module===r.value.module)),r.value.result&&(b=b.filter(S=>S.result===r.value.result)),r.value.search){const S=r.value.search.toLowerCase();b=b.filter(Q=>Q.description.toLowerCase().includes(S)||Q.ipAddress.includes(S)||Q.id.toLowerCase().includes(S)||Q.userName.toLowerCase().includes(S))}return b}),f=We(()=>Math.max(1,Math.ceil(p.value.length/n.value))),v=We(()=>{const b=(t.value-1)*n.value,S=b+n.value;return p.value.slice(b,S)}),w=We(()=>p.value.length===0?0:(t.value-1)*n.value+1),m=We(()=>Math.min(t.value*n.value,p.value.length)),y=We(()=>{const b=[],S=f.value,Q=t.value;let U=Math.max(1,Q-2),le=Math.min(S,Q+2);le-U<4&&(U===1?le=Math.min(S,5):le===S&&(U=Math.max(1,S-4)));for(let xe=U;xe<=le;xe++)b.push(xe);return b});Kn(n,()=>{t.value=1});function A(b){return b?new Date(b).toLocaleDateString("es-CO",{day:"2-digit",month:"short"}):"-"}function N(b){return b?new Date(b).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"-"}function k(b){return b?new Date(b).toLocaleString("es-CO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"-"}function T(b){return b?b.charAt(0).toUpperCase()+b.slice(1):""}function I(b){return{CREATE:"Crear",UPDATE:"Actualizar",DELETE:"Eliminar",LOGIN:"Login",LOGOUT:"Logout",VIEW:"Ver",EXPORT:"Exportar"}[b]||b}function j(b){return{success:"",error:"",warning:""}[b]||""}function K(b){return{"row-error":b.result==="error","row-warning":b.result==="warning"}}function W(){t.value=1}function H(){r.value={startDate:"",endDate:"",userId:"",actionType:"",module:"",result:"",search:""},t.value=1}function F(b){s.value=b,i.value=!0}function R(){i.value=!1,s.value=null}function z(){const b=x();$(b,"audit_log_export.csv","text/csv")}function x(){const b=["ID","Fecha/Hora","Usuario","Rol","Accin","Mdulo","Descripcin","Resultado","IP"],S=p.value.map(Q=>[Q.id,Q.timestamp,Q.userName,Q.userRole,Q.actionType,Q.module,`"${Q.description.replace(/"/g,'""')}"`,Q.result,Q.ipAddress]);return[b.join(","),...S.map(Q=>Q.join(","))].join(`
`)}function $(b,S,Q){const U=new Blob([b],{type:Q}),le=URL.createObjectURL(U),xe=document.createElement("a");xe.href=le,xe.download=S,xe.click(),URL.revokeObjectURL(le)}function Z(){alert("Logs actualizados desde sci-audit")}return(b,S)=>{var Q,U,le,xe,ke,Le,X,he,J,B,V,Y,ee,fe,ae,te,se,de,Ae,ne,ge,Me,Ge,Te,Pe,De,nt,Ze,dt;return D(),M("section",cG,[o("div",{class:"audit-header"},[S[12]||(S[12]=o("div",{class:"header-left"},[o("h2",{class:"h3-tipografia-govco"},"Log de Auditoria"),o("p",{class:"text2-tipografia-govco"}," Registro completo de actividades del sistema - Integracion sci-audit ")],-1)),o("div",{class:"header-right"},[o("button",{type:"button",class:"btn-export",onClick:z},"  Exportar CSV "),o("button",{type:"button",class:"btn-refresh",onClick:Z},"  Actualizar ")])]),o("div",uG,[o("div",dG,[o("div",fG,[S[13]||(S[13]=o("label",null,"Fecha Desde",-1)),$e(o("input",{type:"date","onUpdate:modelValue":S[0]||(S[0]=Ce=>r.value.startDate=Ce),class:"filter-input"},null,512),[[lt,r.value.startDate]])]),o("div",pG,[S[14]||(S[14]=o("label",null,"Fecha Hasta",-1)),$e(o("input",{type:"date","onUpdate:modelValue":S[1]||(S[1]=Ce=>r.value.endDate=Ce),class:"filter-input"},null,512),[[lt,r.value.endDate]])]),o("div",hG,[S[16]||(S[16]=o("label",null,"Usuario",-1)),$e(o("select",{"onUpdate:modelValue":S[2]||(S[2]=Ce=>r.value.userId=Ce),class:"filter-select"},[S[15]||(S[15]=o("option",{value:""},"Todos",-1)),(D(!0),M(rt,null,ht(c.value,Ce=>(D(),M("option",{key:Ce.id,value:Ce.id},P(Ce.name),9,mG))),128))],512),[[yt,r.value.userId]])]),o("div",vG,[S[18]||(S[18]=o("label",null,"Tipo de Accion",-1)),$e(o("select",{"onUpdate:modelValue":S[3]||(S[3]=Ce=>r.value.actionType=Ce),class:"filter-select"},[...S[17]||(S[17]=[Bt('<option value="" data-v-8a82ddd3>Todas</option><option value="CREATE" data-v-8a82ddd3>Crear</option><option value="UPDATE" data-v-8a82ddd3>Actualizar</option><option value="DELETE" data-v-8a82ddd3>Eliminar</option><option value="LOGIN" data-v-8a82ddd3>Inicio Sesion</option><option value="LOGOUT" data-v-8a82ddd3>Cierre Sesion</option><option value="VIEW" data-v-8a82ddd3>Visualizacion</option><option value="EXPORT" data-v-8a82ddd3>Exportacion</option>',8)])],512),[[yt,r.value.actionType]])])]),o("div",gG,[o("div",_G,[S[20]||(S[20]=o("label",null,"Modulo",-1)),$e(o("select",{"onUpdate:modelValue":S[4]||(S[4]=Ce=>r.value.module=Ce),class:"filter-select"},[...S[19]||(S[19]=[Bt('<option value="" data-v-8a82ddd3>Todos</option><option value="animales" data-v-8a82ddd3>Animales</option><option value="adopciones" data-v-8a82ddd3>Adopciones</option><option value="denuncias" data-v-8a82ddd3>Denuncias</option><option value="vacunacion" data-v-8a82ddd3>Vacunacin</option><option value="usuarios" data-v-8a82ddd3>Usuarios</option><option value="reportes" data-v-8a82ddd3>Reportes</option><option value="configuracion" data-v-8a82ddd3>Configuracion</option>',8)])],512),[[yt,r.value.module]])]),o("div",bG,[S[22]||(S[22]=o("label",null,"Resultado",-1)),$e(o("select",{"onUpdate:modelValue":S[5]||(S[5]=Ce=>r.value.result=Ce),class:"filter-select"},[...S[21]||(S[21]=[o("option",{value:""},"Todos",-1),o("option",{value:"success"},"Exitoso",-1),o("option",{value:"error"},"Error",-1),o("option",{value:"warning"},"Advertencia",-1)])],512),[[yt,r.value.result]])]),o("div",yG,[S[23]||(S[23]=o("label",null,"Buscar",-1)),$e(o("input",{type:"text","onUpdate:modelValue":S[6]||(S[6]=Ce=>r.value.search=Ce),placeholder:"Buscar en descripcin, IP, ID...",class:"filter-input"},null,512),[[lt,r.value.search]])]),o("div",{class:"filter-actions"},[o("button",{type:"button",class:"btn-filter",onClick:W}," Aplicar Filtros "),o("button",{type:"button",class:"btn-clear",onClick:H}," Limpiar ")])])]),o("div",wG,[o("div",xG,[o("span",AG,P(l.value.total.toLocaleString()),1),S[24]||(S[24]=o("span",{class:"stat-label"},"Total Registros",-1))]),o("div",SG,[o("span",kG,P(l.value.success.toLocaleString()),1),S[25]||(S[25]=o("span",{class:"stat-label"},"Exitosos",-1))]),o("div",CG,[o("span",EG,P(l.value.errors),1),S[26]||(S[26]=o("span",{class:"stat-label"},"Errores",-1))]),o("div",LG,[o("span",NG,P(l.value.uniqueUsers),1),S[27]||(S[27]=o("span",{class:"stat-label"},"Usuarios Activos",-1))])]),o("div",PG,[o("table",$G,[S[28]||(S[28]=o("thead",null,[o("tr",null,[o("th",{class:"col-time"},"Fecha/Hora"),o("th",{class:"col-user"},"Usuario"),o("th",{class:"col-action"},"Accion"),o("th",{class:"col-module"},"Modulo"),o("th",{class:"col-description"},"Descripcin"),o("th",{class:"col-result"},"Resultado"),o("th",{class:"col-ip"},"IP"),o("th",{class:"col-details"},"Detalles")])],-1)),o("tbody",null,[(D(!0),M(rt,null,ht(v.value,Ce=>(D(),M("tr",{key:Ce.id,class:ot(K(Ce))},[o("td",TG,[o("div",IG,[o("span",DG,P(A(Ce.timestamp)),1),o("span",RG,P(N(Ce.timestamp)),1)])]),o("td",OG,[o("div",MG,[o("span",FG,P(Ce.userName),1),o("span",BG,P(Ce.userRole),1)])]),o("td",jG,[o("span",{class:ot(["action-badge",Ce.actionType.toLowerCase()])},P(I(Ce.actionType)),3)]),o("td",zG,[o("span",UG,P(Ce.module),1)]),o("td",VG,P(Ce.description),1),o("td",qG,[o("span",{class:ot(["result-badge",Ce.result])},P(j(Ce.result))+" "+P(T(Ce.result)),3)]),o("td",HG,P(Ce.ipAddress),1),o("td",GG,[o("button",{type:"button",class:"details-btn",onClick:Ue=>F(Ce)},"  ",8,WG)])],2))),128))])]),p.value.length===0?(D(),M("div",ZG,[...S[29]||(S[29]=[o("p",null,"No se encontraron registros con los filtros aplicados",-1)])])):_e("",!0)]),o("div",KG,[o("div",JG," Mostrando "+P(w.value)+"-"+P(m.value)+" de "+P(p.value.length)+" registros ",1),o("div",YG,[o("button",{type:"button",onClick:S[7]||(S[7]=Ce=>t.value=1),disabled:t.value===1,class:"page-btn"},"  Primera ",8,XG),o("button",{type:"button",onClick:S[8]||(S[8]=Ce=>t.value--),disabled:t.value===1,class:"page-btn"}," 9 Anterior ",8,QG),o("span",eW,[(D(!0),M(rt,null,ht(y.value,Ce=>(D(),M("button",{key:Ce,type:"button",onClick:Ue=>t.value=Ce,class:ot(["page-btn",{active:t.value===Ce}])},P(Ce),11,tW))),128))]),o("button",{type:"button",onClick:S[9]||(S[9]=Ce=>t.value++),disabled:t.value===f.value,class:"page-btn"}," Siguiente : ",8,nW),o("button",{type:"button",onClick:S[10]||(S[10]=Ce=>t.value=f.value),disabled:t.value===f.value,class:"page-btn"}," Ultima  ",8,oW)]),o("div",iW,[S[31]||(S[31]=o("label",null,"Mostrar:",-1)),$e(o("select",{"onUpdate:modelValue":S[11]||(S[11]=Ce=>n.value=Ce),class:"page-size-select"},[...S[30]||(S[30]=[o("option",{value:10},"10",-1),o("option",{value:25},"25",-1),o("option",{value:50},"50",-1),o("option",{value:100},"100",-1)])],512),[[yt,n.value]])])]),i.value?(D(),M("div",{key:0,class:"modal-overlay",onClick:Tt(R,["self"])},[o("div",aW,[o("div",{class:"modal-header"},[S[32]||(S[32]=o("h3",null,"Detalle del Registro de Auditoria",-1)),o("button",{type:"button",class:"close-btn",onClick:R},"")]),o("div",sW,[o("div",rW,[S[41]||(S[41]=o("h4",null,"Informacin General",-1)),o("div",lW,[o("div",cW,[S[33]||(S[33]=o("span",{class:"detail-label"},"ID Registro",-1)),o("span",uW,P((Q=s.value)==null?void 0:Q.id),1)]),o("div",dW,[S[34]||(S[34]=o("span",{class:"detail-label"},"Fecha y Hora",-1)),o("span",fW,P(k((U=s.value)==null?void 0:U.timestamp)),1)]),o("div",pW,[S[35]||(S[35]=o("span",{class:"detail-label"},"Usuario",-1)),o("span",hW,P((le=s.value)==null?void 0:le.userName),1)]),o("div",mW,[S[36]||(S[36]=o("span",{class:"detail-label"},"Rol",-1)),o("span",vW,P((xe=s.value)==null?void 0:xe.userRole),1)]),o("div",gW,[S[37]||(S[37]=o("span",{class:"detail-label"},"Accin",-1)),o("span",_W,[o("span",{class:ot(["action-badge",(Le=(ke=s.value)==null?void 0:ke.actionType)==null?void 0:Le.toLowerCase()])},P(I((X=s.value)==null?void 0:X.actionType)),3)])]),o("div",bW,[S[38]||(S[38]=o("span",{class:"detail-label"},"Mdulo",-1)),o("span",yW,P((he=s.value)==null?void 0:he.module),1)]),o("div",wW,[S[39]||(S[39]=o("span",{class:"detail-label"},"Resultado",-1)),o("span",xW,[o("span",{class:ot(["result-badge",(J=s.value)==null?void 0:J.result])},P(j((B=s.value)==null?void 0:B.result))+" "+P(T((V=s.value)==null?void 0:V.result)),3)])]),o("div",AW,[S[40]||(S[40]=o("span",{class:"detail-label"},"Direccin IP",-1)),o("span",SW,P((Y=s.value)==null?void 0:Y.ipAddress),1)])])]),o("div",kW,[S[42]||(S[42]=o("h4",null,"Descripcin",-1)),o("p",CW,P((ee=s.value)==null?void 0:ee.description),1)]),o("div",EW,[S[47]||(S[47]=o("h4",null,"Informacin Tcnica",-1)),o("div",LW,[o("div",NW,[S[43]||(S[43]=o("span",{class:"detail-label"},"Navegador",-1)),o("span",PW,P((fe=s.value)==null?void 0:fe.userAgent),1)]),o("div",$W,[S[44]||(S[44]=o("span",{class:"detail-label"},"Endpoint",-1)),o("span",TW,P((ae=s.value)==null?void 0:ae.endpoint),1)]),o("div",IW,[S[45]||(S[45]=o("span",{class:"detail-label"},"Metodo HTTP",-1)),o("span",DW,P((te=s.value)==null?void 0:te.httpMethod),1)]),o("div",RW,[S[46]||(S[46]=o("span",{class:"detail-label"},"Tiempo Respuesta",-1)),o("span",OW,P((se=s.value)==null?void 0:se.responseTime)+"ms",1)])])]),(de=s.value)!=null&&de.entityId?(D(),M("div",MW,[S[50]||(S[50]=o("h4",null,"Entidad Afectada",-1)),o("div",FW,[o("div",BW,[S[48]||(S[48]=o("span",{class:"detail-label"},"Tipo de Entidad",-1)),o("span",jW,P((Ae=s.value)==null?void 0:Ae.entityType),1)]),o("div",zW,[S[49]||(S[49]=o("span",{class:"detail-label"},"ID Entidad",-1)),o("span",UW,P((ne=s.value)==null?void 0:ne.entityId),1)])])])):_e("",!0),(ge=s.value)!=null&&ge.changes?(D(),M("div",VW,[S[51]||(S[51]=o("h4",null,"Cambios Realizados",-1)),o("div",qW,[o("pre",null,P(JSON.stringify((Me=s.value)==null?void 0:Me.changes,null,2)),1)])])):_e("",!0),(Ge=s.value)!=null&&Ge.errorDetails?(D(),M("div",HW,[S[52]||(S[52]=o("h4",null,"Detalles del Error",-1)),o("div",GW,[o("p",WW,P((Pe=(Te=s.value)==null?void 0:Te.errorDetails)==null?void 0:Pe.message),1),(nt=(De=s.value)==null?void 0:De.errorDetails)!=null&&nt.stack?(D(),M("pre",ZW,P((dt=(Ze=s.value)==null?void 0:Ze.errorDetails)==null?void 0:dt.stack),1)):_e("",!0)])])):_e("",!0)])])])):_e("",!0)])}}},JW=It(KW,[["__scopeId","data-v-8a82ddd3"]]),YW={class:"admin-view"},XW={class:"admin-tabs"},QW=["onClick"],eZ=["innerHTML"],tZ={class:"admin-tab-content"},nZ={__name:"AdminView",setup(e){const t=ve("dashboard"),n=ve("admin"),i=[{id:"dashboard",label:"Dashboard",icon:`<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <rect x="3" y="3" width="7" height="7"></rect>
      <rect x="14" y="3" width="7" height="7"></rect>
      <rect x="14" y="14" width="7" height="7"></rect>
      <rect x="3" y="14" width="7" height="7"></rect>
    </svg>`,roles:["director","admin"],badge:null,badgeClass:""},{id:"reports",label:"Reportes",icon:`<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
      <polyline points="14 2 14 8 20 8"></polyline>
      <line x1="16" y1="13" x2="8" y2="13"></line>
      <line x1="16" y1="17" x2="8" y2="17"></line>
    </svg>`,roles:["director","admin"],badge:null,badgeClass:""},{id:"users",label:"Usuarios",icon:`<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
      <circle cx="9" cy="7" r="4"></circle>
      <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
      <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
    </svg>`,roles:["admin"],badge:null,badgeClass:""},{id:"audit",label:"Auditora",icon:`<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
      <polyline points="14 2 14 8 20 8"></polyline>
      <line x1="12" y1="18" x2="12" y2="12"></line>
      <line x1="9" y1="15" x2="15" y2="15"></line>
    </svg>`,roles:["admin"],badge:null,badgeClass:""}],s=We(()=>i.filter(r=>r.roles.includes(n.value)));return(r,l)=>(D(),M("div",YW,[l[0]||(l[0]=o("header",{class:"admin-header"},[o("h1",{class:"h2-tipografia-govco"}," Administracin y Reportes "),o("p",{class:"text2-tipografia-govco"}," Dashboard ejecutivo, reportes personalizados, gestin de usuarios y auditora del sistema. ")],-1)),o("nav",XW,[(D(!0),M(rt,null,ht(s.value,c=>(D(),M("button",{key:c.id,type:"button",class:ot(["admin-tab-btn",{active:t.value===c.id}]),onClick:d=>t.value=c.id},[o("span",{class:"tab-icon",innerHTML:c.icon},null,8,eZ),je(" "+P(c.label)+" ",1),c.badge?(D(),M("span",{key:0,class:ot(["tab-badge",c.badgeClass])},P(c.badge),3)):_e("",!0)],10,QW))),128))]),o("section",tZ,[t.value==="dashboard"?(D(),nn(xV,{key:0})):t.value==="reports"?(D(),nn(Sq,{key:1})):t.value==="users"?(D(),nn(lG,{key:2})):t.value==="audit"?(D(),nn(JW,{key:3})):_e("",!0)])]))}},oZ=It(nZ,[["__scopeId","data-v-9243c754"]]),iZ={class:"requests-manager"},aZ={class:"filters-section"},sZ={class:"filters-grid"},rZ={class:"input-like-govco"},lZ={class:"desplegable-govco","data-type":"basic"},cZ={class:"entradas-de-texto-govco"},uZ={class:"requests-table-container"},dZ={class:"requests-table"},fZ={key:0},pZ={class:"animal-cell"},hZ={class:"animal-code-chip"},mZ=["onClick"],vZ={class:"modal-body"},gZ={class:"detail-section"},_Z={class:"detail-list"},bZ={class:"detail-list"},yZ={key:0,class:"documents-section"},wZ={class:"documents-links"},xZ=["href"],AZ=["href"],SZ={class:"detail-section"},kZ={class:"animal-detail-card"},CZ={class:"animal-photo-container"},EZ=["src","alt"],LZ={class:"animal-code-badge"},NZ={class:"animal-info"},PZ={class:"animal-name"},$Z={class:"animal-tags"},TZ={class:"tag species"},IZ={class:"tag sex"},DZ={class:"tag size"},RZ={class:"detail-list"},OZ={key:0,class:"animal-observations"},MZ={key:0,class:"detail-section full-width"},FZ={class:"request-observations"},BZ={class:"detail-section full-width visit-section"},jZ={class:"section-header"},zZ={key:0,class:"visit-count-badge"},UZ={key:0,class:"visits-list"},VZ={class:"visit-card-header"},qZ={class:"visit-type-badge"},HZ={class:"visit-card-body"},GZ={class:"visit-date-info"},WZ={class:"visit-value"},ZZ={key:0,class:"visit-date-info"},KZ={class:"visit-value"},JZ={key:1,class:"visit-result"},YZ={key:2,class:"visit-visitador"},XZ={class:"visit-value"},QZ={key:3,class:"visit-observations"},eK={class:"visit-obs-text"},tK={class:"schedule-visit-form"},nK={class:"visit-form-grid"},oK={class:"form-group"},iK={class:"form-group"},aK=["min"],sK={class:"form-group"},rK=["disabled"],lK={key:0},cK={key:1},uK={key:1,class:"detail-section full-width decision-section"},dK={class:"form-grid"},fK={class:"entradas-de-texto-govco full-width"},pK={class:"decision-buttons"},hK=["disabled"],mK=["disabled"],vK={key:2,class:"detail-section full-width"},gK={key:3,class:"detail-section full-width contract-section"},_K={class:"section-header"},bK={key:0,class:"contract-signed-badge"},yK={key:1,class:"contract-pending-badge"},wK={class:"contract-status-card"},xK={class:"contract-info"},AK={key:0,class:"contract-number"},SK={class:"value"},kK={key:1,class:"contract-date"},CK={class:"value"},EK={key:2,class:"contract-signed"},LK={class:"value"},NK={class:"contract-status-info"},PK={class:"contract-actions"},$K=["disabled"],TK={key:0},IK={key:1},DK=["disabled"],RK={key:0,class:"coordinator-info-box"},OK={key:1,class:"contract-completed-message"},MK={key:0,class:"scheduled-followups"},FK={class:"followup-type"},BK={class:"followup-date"},jK={__name:"AdoptionRequestsManager",setup(e){const t=ve({status:"",search:""}),n=ve([]),i=ve(!1),s=ve(null),r=ve(null),l=ve(!1),c=ve([]),d=ve(!1),p=ve({firmado:!1,numero_contrato:null,fecha_contrato:null,fecha_firma:null,contrato_url:null,seguimientos:[]}),f=ve(!1),v=un({tipo_visita:"",fecha_programada:"",observaciones:""}),w=ve(!1),m=We(()=>new Date().toISOString().split("T")[0]),y=ve({date:"",time:"",observations:""}),A=ve({action:"",justification:""}),N={solicitada:"pending",pendiente:"pending",en_evaluacion:"in_evaluation",aprobada:"approved",rechazada:"rejected",completada:"approved",revocada:"rejected"},k={pending:"solicitada",in_evaluation:"en_evaluacion",approved:"aprobada",rejected:"rechazada"};function T(J){return{casa:"Casa",apartamento:"Apartamento",finca:"Finca",otro:"Otro"}[J]||J||"No especificado"}function I(J){return{macho:"Macho",hembra:"Hembra"}[J]||J||"No especificado"}function j(J){return{pequeno:"Pequeo",mediano:"Mediano",grande:"Grande"}[J]||J||"No especificado"}function K(J){const B=J.adoptante||{},V=J.animal||{},Y=J.evaluador||{};return{id:J.id,status:N[J.estado]||J.estado,applicant:{name:B.nombre_completo||`${B.nombres||""} ${B.apellidos||""}`.trim()||"Sin nombre",idType:B.tipo_documento||"",idNumber:B.numero_documento||"",birthDate:B.fecha_nacimiento||"",age:B.edad||"",phone:B.telefono||"",email:B.email||"",address:B.direccion||"",housingType:T(B.tipo_vivienda),housingTypeRaw:B.tipo_vivienda||"",hasYard:B.tiene_patio,petExperience:B.experiencia_animales||"No especificado",householdSize:B.num_personas_hogar||"",copiaCedulaUrl:B.copia_cedula_url||null,comprobanteDomicilioUrl:B.comprobante_domicilio_url||null},animal:{id:V.id,code:V.codigo_unico||"Sin cdigo",name:V.nombre||V.codigo_unico||"Sin nombre",species:V.especie||"",breed:V.raza||"Sin raza definida",sex:I(V.sexo),sexRaw:V.sexo||"",size:j(V.tamanio),sizeRaw:V.tamanio||"",color:V.color||"No especificado",weight:V.peso_actual?`${V.peso_actual} kg`:"No registrado",age:V.edad_formateada||"Desconocida",sterilized:V.esterilizacion,healthStatus:V.estado_salud||"",specialMarks:V.senias_particulares||"Ninguna",photoUrl:V.foto_url||null,galleryUrls:V.galeria_urls||[],observations:V.observaciones||"",rescueDate:V.fecha_rescate||"",rescueLocation:V.ubicacion_rescate||""},createdAt:J.fecha_solicitud||J.created_at,observaciones:J.observaciones||"",homeVisit:{scheduled:!!J.fecha_visita,date:J.fecha_visita||"",time:J.hora_visita||"",observations:J.observaciones_visita||"",completed:J.visita_realizada||!1},decision:{evaluator:Y.nombre_completo||`${Y.nombres||""} ${Y.apellidos||""}`.trim()||"",date:J.fecha_aprobacion||J.updated_at||"",justification:J.motivo_rechazo||J.observaciones||""}}}const W=We(()=>n.value.filter(J=>{if(t.value.status&&J.status!==t.value.status)return!1;if(t.value.search){const B=t.value.search.toLowerCase();return`${J.applicant.name} ${J.animal.name} ${J.applicant.idNumber}`.toLowerCase().includes(B)}return!0}));async function H(){var J,B;i.value=!0,s.value=null;try{const V={};t.value.status&&(V.estado=k[t.value.status]||t.value.status),t.value.search&&(V.busqueda=t.value.search);const Y=await lo.fetchAdoptionRequests(V),ee=Y.data||Y,fe=ee.data||ee||[];n.value=fe.map(K)}catch(V){console.error("Error al cargar solicitudes:",V),s.value=((B=(J=V.response)==null?void 0:J.data)==null?void 0:B.message)||"Error al cargar solicitudes de adopcin",n.value=[]}finally{i.value=!1}}function F(){H()}async function R(J){var B,V,Y;r.value=JSON.parse(JSON.stringify(J)),y.value={date:((B=J.homeVisit)==null?void 0:B.date)||"",time:((V=J.homeVisit)==null?void 0:V.time)||"",observations:((Y=J.homeVisit)==null?void 0:Y.observations)||""},A.value={action:"",justification:""},v.tipo_visita="",v.fecha_programada="",v.observaciones="",p.value={firmado:!1,numero_contrato:null,fecha_contrato:null,fecha_firma:null,contrato_url:null,seguimientos:[]},l.value=!0,await z(J.id),J.status==="approved"&&await S(J.id)}async function z(J){d.value=!0,c.value=[];try{const B=await lo.fetchVisitsByAdoption(J),V=B.data||B;c.value=Array.isArray(V)?V:V.data||[]}catch(B){console.error("Error al cargar visitas:",B),c.value=[]}finally{d.value=!1}}function x(){l.value=!1,r.value=null,c.value=[],p.value={firmado:!1,numero_contrato:null,fecha_contrato:null,fecha_firma:null,contrato_url:null,seguimientos:[]}}async function $(){var J,B;if(!r.value||!v.tipo_visita||!v.fecha_programada){window.$toast?window.$toast.warning("Atencin","Debe seleccionar tipo de visita y fecha"):alert("Debe seleccionar tipo de visita y fecha");return}w.value=!0;try{await lo.scheduleFollowUpVisit({adopcion_id:r.value.id,tipo_visita:v.tipo_visita,fecha_programada:v.fecha_programada,observaciones:v.observaciones||null}),window.$toast?window.$toast.success("Visita programada exitosamente"):alert("Visita programada exitosamente"),v.tipo_visita="",v.fecha_programada="",v.observaciones="",await z(r.value.id)}catch(V){console.error("Error al programar visita:",V);const Y=((B=(J=V.response)==null?void 0:J.data)==null?void 0:B.message)||"Error al programar la visita";window.$toast?window.$toast.error("Error",Y):alert(Y)}finally{w.value=!1}}async function Z(){var J,B;if(!r.value||!A.value.justification){window.$toast?window.$toast.warning("Atencin","Debe proporcionar una justificacin"):alert("Debe proporcionar una justificacin");return}try{await lo.approveAdoptionRequest(r.value.id,A.value.justification),window.$toast?window.$toast.success("xito","Solicitud de adopcin aprobada exitosamente"):alert("Solicitud de adopcin aprobada exitosamente"),x(),await H()}catch(V){console.error("Error al aprobar solicitud:",V);const Y=((B=(J=V.response)==null?void 0:J.data)==null?void 0:B.message)||"Error al aprobar la solicitud";window.$toast?window.$toast.error("Error",Y):alert(Y)}}async function b(){var J,B;if(!r.value||!A.value.justification){window.$toast?window.$toast.warning("Atencin","Debe proporcionar una justificacin"):alert("Debe proporcionar una justificacin");return}try{await lo.rejectAdoptionRequest(r.value.id,A.value.justification),window.$toast?window.$toast.success("xito","Solicitud de adopcin rechazada"):alert("Solicitud de adopcin rechazada"),x(),await H()}catch(V){console.error("Error al rechazar solicitud:",V);const Y=((B=(J=V.response)==null?void 0:J.data)==null?void 0:B.message)||"Error al rechazar la solicitud";window.$toast?window.$toast.error("Error",Y):alert(Y)}}async function S(J){f.value=!0;try{const B=await lo.fetchContractStatus(J),V=B.data||B;p.value={firmado:V.firmado||!1,numero_contrato:V.numero_contrato||null,fecha_contrato:V.fecha_contrato||null,fecha_firma:V.fecha_firma||null,contrato_url:V.contrato_url||null,seguimientos:V.seguimientos||[]}}catch(B){console.error("Error al cargar estado del contrato:",B),p.value={firmado:!1,numero_contrato:null,fecha_contrato:null,fecha_firma:null,contrato_url:null,seguimientos:[]}}finally{f.value=!1}}async function Q(){var J,B;if(r.value){f.value=!0;try{const V=await lo.fetchAdoptionContract(r.value.id),Y=V.data||V;Y.contrato_url?window.open(Y.contrato_url,"_blank"):window.$toast&&window.$toast.info("Info","El contrato an no ha sido generado")}catch(V){console.error("Error al cargar contrato:",V);const Y=((B=(J=V.response)==null?void 0:J.data)==null?void 0:B.message)||"Error al cargar el contrato";window.$toast?window.$toast.error("Error",Y):alert(Y)}finally{f.value=!1}}}async function U(){var J,B;if(r.value){f.value=!0;try{const V=await lo.downloadAdoptionContract(r.value.id),Y=window.URL.createObjectURL(V),ee=document.createElement("a");ee.href=Y,ee.download=`contrato-adopcion-${p.value.numero_contrato||r.value.id}.pdf`,ee.click(),window.URL.revokeObjectURL(Y),window.$toast&&window.$toast.success("xito","Contrato descargado")}catch(V){console.error("Error al descargar contrato:",V);const Y=((B=(J=V.response)==null?void 0:J.data)==null?void 0:B.message)||"Error al descargar el contrato";window.$toast?window.$toast.error("Error",Y):alert(Y)}finally{f.value=!1}}}function le(J){return J?new Date(J).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"}):"Sin fecha"}function xe(J){return{pending:"Pendiente",in_evaluation:"En evaluacin",approved:"Aprobada",rejected:"Rechazada"}[J]||J}function ke(J){return{excelente:"Excelente",bueno:"Bueno",estable:"Estable",en_tratamiento:"En tratamiento",critico:"Crtico"}[J]||J||"No especificado"}function Le(J){return{pre_adopcion:"Pre-adopcin",seguimiento_1mes:"Seguimiento 1 mes",seguimiento_3meses:"Seguimiento 3 meses",seguimiento_6meses:"Seguimiento 6 meses",extraordinaria:"Extraordinaria"}[J]||J||"No especificado"}function X(J){return{satisfactoria:"Satisfactoria",observaciones:"Con observaciones",critica:"Crtica"}[J]||J||"No especificado"}function he(J){J.target.src="/images/placeholder-animal.jpg"}return yn(H),(J,B)=>(D(),M("section",iZ,[B[62]||(B[62]=o("div",{class:"form-header"},[o("h2",{class:"h2-tipografia-govco"},"Gestin de Solicitudes de Adopcin"),o("p",{class:"text2-tipografia-govco"},"Evala y procesa solicitudes de adopcin")],-1)),o("div",aZ,[o("div",sZ,[o("div",rZ,[B[8]||(B[8]=o("label",{for:"status-filter",class:"label-desplegable-govco"},"Estado",-1)),o("div",lZ,[$e(o("select",{id:"status-filter","onUpdate:modelValue":B[0]||(B[0]=V=>t.value.status=V)},[...B[7]||(B[7]=[Bt('<option value="" data-v-ba2ee581>Todos</option><option value="pending" data-v-ba2ee581>Pendiente</option><option value="in_evaluation" data-v-ba2ee581>En evaluacin</option><option value="approved" data-v-ba2ee581>Aprobada</option><option value="rejected" data-v-ba2ee581>Rechazada</option>',5)])],512),[[yt,t.value.status]])])]),o("div",cZ,[B[9]||(B[9]=o("label",{for:"search"},"Buscar por nombre",-1)),$e(o("input",{type:"text",id:"search","onUpdate:modelValue":B[1]||(B[1]=V=>t.value.search=V),placeholder:"Nombre del solicitante o animal"},null,512),[[lt,t.value.search]])]),o("button",{onClick:F,class:"govco-btn govco-bg-marine"}," Filtrar ")])]),o("div",uZ,[o("table",dZ,[B[12]||(B[12]=o("thead",null,[o("tr",null,[o("th",null,"Fecha"),o("th",null,"Solicitante"),o("th",null,"Animal"),o("th",null,"Estado"),o("th",null,"Acciones")])],-1)),o("tbody",null,[W.value.length===0?(D(),M("tr",fZ,[...B[10]||(B[10]=[o("td",{colspan:"5",class:"empty-row"}," No se encontraron solicitudes ",-1)])])):_e("",!0),(D(!0),M(rt,null,ht(W.value,V=>(D(),M("tr",{key:V.id,class:"request-row"},[o("td",null,P(le(V.createdAt)),1),o("td",null,[o("strong",null,P(V.applicant.name),1),B[11]||(B[11]=o("br",null,null,-1)),o("small",null,P(V.applicant.phone),1)]),o("td",null,[o("div",pZ,[o("span",hZ,P(V.animal.code),1),o("strong",null,P(V.animal.name),1),o("small",null,P(V.animal.species)+"  "+P(V.animal.breed),1)])]),o("td",null,[o("span",{class:ot(["status-badge",`status-${V.status}`])},P(xe(V.status)),3)]),o("td",null,[o("button",{onClick:Y=>R(V),class:"action-btn-small govco-bg-marine"}," Ver Detalles ",8,mZ)])]))),128))])])]),r.value?(D(),M("div",{key:0,class:"modal-overlay",onClick:x},[o("div",{class:"modal-content modal-large",onClick:B[6]||(B[6]=Tt(()=>{},["stop"]))},[o("div",{class:"modal-header govco-bg-blue-light"},[B[13]||(B[13]=o("h3",{class:"h4-tipografia-govco govcolor-blue-dark"}," Evaluacin de Solicitud ",-1)),o("button",{onClick:x,class:"modal-close"},"")]),o("div",vZ,[o("div",gZ,[B[25]||(B[25]=o("h4",{class:"h6-tipografia-govco govcolor-marine"},"Informacin del Solicitante",-1)),o("dl",_Z,[B[14]||(B[14]=o("dt",null,"Nombre completo:",-1)),o("dd",null,P(r.value.applicant.name),1),B[15]||(B[15]=o("dt",null,"Documento:",-1)),o("dd",null,P(r.value.applicant.idType)+" "+P(r.value.applicant.idNumber),1),B[16]||(B[16]=o("dt",null,"Edad:",-1)),o("dd",null,P(r.value.applicant.age?`${r.value.applicant.age} aos`:"No calculada"),1),B[17]||(B[17]=o("dt",null,"Telfono:",-1)),o("dd",null,P(r.value.applicant.phone||"No registrado"),1),B[18]||(B[18]=o("dt",null,"Email:",-1)),o("dd",null,P(r.value.applicant.email||"No registrado"),1),B[19]||(B[19]=o("dt",null,"Direccin:",-1)),o("dd",null,P(r.value.applicant.address||"No registrada"),1)]),B[26]||(B[26]=o("h5",{class:"subsection-title"},"Informacin de Vivienda",-1)),o("dl",bZ,[B[20]||(B[20]=o("dt",null,"Tipo de vivienda:",-1)),o("dd",null,P(r.value.applicant.housingType),1),B[21]||(B[21]=o("dt",null,"Tiene patio?",-1)),o("dd",null,P(r.value.applicant.hasYard?"S":"No"),1),B[22]||(B[22]=o("dt",null,"Personas en el hogar:",-1)),o("dd",null,P(r.value.applicant.householdSize||"No especificado"),1),B[23]||(B[23]=o("dt",null,"Experiencia con animales:",-1)),o("dd",null,P(r.value.applicant.petExperience),1)]),r.value.applicant.copiaCedulaUrl||r.value.applicant.comprobanteDomicilioUrl?(D(),M("div",yZ,[B[24]||(B[24]=o("h5",{class:"subsection-title"},"Documentos Adjuntos",-1)),o("div",wZ,[r.value.applicant.copiaCedulaUrl?(D(),M("a",{key:0,href:r.value.applicant.copiaCedulaUrl,target:"_blank",class:"document-link"},"  Ver copia de cdula ",8,xZ)):_e("",!0),r.value.applicant.comprobanteDomicilioUrl?(D(),M("a",{key:1,href:r.value.applicant.comprobanteDomicilioUrl,target:"_blank",class:"document-link"},"  Ver comprobante de domicilio ",8,AZ)):_e("",!0)])])):_e("",!0)]),o("div",SZ,[B[35]||(B[35]=o("h4",{class:"h6-tipografia-govco govcolor-marine"},"Animal Solicitado",-1)),o("div",kZ,[o("div",CZ,[o("img",{src:r.value.animal.photoUrl||"/images/placeholder-animal.jpg",alt:r.value.animal.name,class:"animal-photo-large",onError:he},null,40,EZ),o("span",LZ,P(r.value.animal.code),1)]),o("div",NZ,[o("h5",PZ,P(r.value.animal.name),1),o("div",$Z,[o("span",TZ,P(r.value.animal.species),1),o("span",IZ,P(r.value.animal.sex),1),o("span",DZ,P(r.value.animal.size),1)])])]),o("dl",RZ,[B[27]||(B[27]=o("dt",null,"Raza:",-1)),o("dd",null,P(r.value.animal.breed),1),B[28]||(B[28]=o("dt",null,"Edad:",-1)),o("dd",null,P(r.value.animal.age),1),B[29]||(B[29]=o("dt",null,"Color:",-1)),o("dd",null,P(r.value.animal.color),1),B[30]||(B[30]=o("dt",null,"Peso:",-1)),o("dd",null,P(r.value.animal.weight),1),B[31]||(B[31]=o("dt",null,"Esterilizado:",-1)),o("dd",null,P(r.value.animal.sterilized?"S":"No"),1),B[32]||(B[32]=o("dt",null,"Estado de salud:",-1)),o("dd",null,[o("span",{class:ot(["health-badge",`health-${r.value.animal.healthStatus}`])},P(ke(r.value.animal.healthStatus)),3)]),B[33]||(B[33]=o("dt",null,"Seas particulares:",-1)),o("dd",null,P(r.value.animal.specialMarks),1)]),r.value.animal.observations?(D(),M("div",OZ,[B[34]||(B[34]=o("dt",null,"Observaciones:",-1)),o("dd",null,P(r.value.animal.observations),1)])):_e("",!0)]),r.value.observaciones?(D(),M("div",MZ,[B[36]||(B[36]=o("h4",{class:"h6-tipografia-govco govcolor-marine"},"Observaciones de la Solicitud",-1)),o("p",FZ,P(r.value.observaciones),1)])):_e("",!0),o("div",BZ,[o("div",jZ,[B[37]||(B[37]=o("h4",{class:"h6-tipografia-govco govcolor-marine"},"Visita Domiciliaria Pre-adopcin",-1)),c.value.length>0?(D(),M("span",zZ,P(c.value.length)+" visita(s) ",1)):_e("",!0)]),c.value.length>0?(D(),M("div",UZ,[(D(!0),M(rt,null,ht(c.value,V=>(D(),M("div",{key:V.id,class:ot(["visit-card",{"visit-completed":V.fecha_realizada,"visit-pending":!V.fecha_realizada}])},[o("div",VZ,[o("span",qZ,P(Le(V.tipo_visita)),1),o("span",{class:ot(["visit-status-badge",V.fecha_realizada?"status-done":"status-pending"])},P(V.fecha_realizada?"Realizada":"Pendiente"),3)]),o("div",HZ,[o("div",GZ,[B[38]||(B[38]=o("span",{class:"visit-label"},"Programada:",-1)),o("span",WZ,P(le(V.fecha_programada)),1)]),V.fecha_realizada?(D(),M("div",ZZ,[B[39]||(B[39]=o("span",{class:"visit-label"},"Realizada:",-1)),o("span",KZ,P(le(V.fecha_realizada)),1)])):_e("",!0),V.resultado?(D(),M("div",JZ,[o("span",{class:ot(["result-badge",`result-${V.resultado}`])},P(X(V.resultado)),3)])):_e("",!0),V.visitador?(D(),M("div",YZ,[B[40]||(B[40]=o("span",{class:"visit-label"},"Visitador:",-1)),o("span",XZ,P(V.visitador.nombre_completo||V.visitador.nombres),1)])):_e("",!0),V.observaciones?(D(),M("div",QZ,[B[41]||(B[41]=o("span",{class:"visit-label"},"Observaciones:",-1)),o("p",eK,P(V.observaciones),1)])):_e("",!0)])],2))),128))])):_e("",!0),o("div",tK,[B[46]||(B[46]=o("h5",{class:"form-subtitle"},"Programar Nueva Visita",-1)),o("div",nK,[o("div",oK,[B[43]||(B[43]=o("label",{for:"visitType"},"Tipo de visita*",-1)),$e(o("select",{id:"visitType","onUpdate:modelValue":B[2]||(B[2]=V=>v.tipo_visita=V),class:"form-control"},[...B[42]||(B[42]=[Bt('<option value="" data-v-ba2ee581>Seleccione...</option><option value="pre_adopcion" data-v-ba2ee581>Pre-adopcin</option><option value="seguimiento_1mes" data-v-ba2ee581>Seguimiento 1 mes</option><option value="seguimiento_3meses" data-v-ba2ee581>Seguimiento 3 meses</option><option value="seguimiento_6meses" data-v-ba2ee581>Seguimiento 6 meses</option><option value="extraordinaria" data-v-ba2ee581>Extraordinaria</option>',6)])],512),[[yt,v.tipo_visita]])]),o("div",iK,[B[44]||(B[44]=o("label",{for:"visitDate"},"Fecha*",-1)),$e(o("input",{type:"date",id:"visitDate","onUpdate:modelValue":B[3]||(B[3]=V=>v.fecha_programada=V),class:"form-control",min:m.value},null,8,aK),[[lt,v.fecha_programada]])]),o("div",sK,[B[45]||(B[45]=o("label",{for:"visitNotes"},"Observaciones",-1)),$e(o("input",{type:"text",id:"visitNotes","onUpdate:modelValue":B[4]||(B[4]=V=>v.observaciones=V),class:"form-control",placeholder:"Notas adicionales..."},null,512),[[lt,v.observaciones]])]),o("button",{onClick:$,class:"govco-btn govco-bg-elf-green schedule-btn",disabled:!v.tipo_visita||!v.fecha_programada||w.value},[w.value?(D(),M("span",lK,"Programando...")):(D(),M("span",cK,"+ Programar Visita"))],8,rK)])])]),r.value.homeVisit.completed&&r.value.status==="in_evaluation"?(D(),M("div",uK,[B[48]||(B[48]=o("h4",{class:"h6-tipografia-govco govcolor-marine"},"Decisin Final",-1)),o("div",dK,[o("div",fK,[B[47]||(B[47]=o("label",{for:"justification"},"Justificacin de la decisin*",-1)),$e(o("textarea",{id:"justification","onUpdate:modelValue":B[5]||(B[5]=V=>A.value.justification=V),rows:"3",placeholder:"Explica el motivo de la decisin..."},null,512),[[lt,A.value.justification]])]),o("div",pK,[o("button",{onClick:Z,class:"govco-btn govco-bg-elf-green",disabled:!A.value.justification},"  Aprobar Adopcin ",8,hK),o("button",{onClick:b,class:"govco-btn govco-bg-shiraz",disabled:!A.value.justification},"  Rechazar Solicitud ",8,mK)])])])):_e("",!0),r.value.status==="approved"||r.value.status==="rejected"?(D(),M("div",vK,[o("div",{class:ot(["final-decision",r.value.status])},[o("h4",null,P(r.value.status==="approved"?" Solicitud Aprobada":" Solicitud Rechazada"),1),o("p",null,[B[49]||(B[49]=o("strong",null,"Decisin tomada por:",-1)),je(" "+P(r.value.decision.evaluator),1)]),o("p",null,[B[50]||(B[50]=o("strong",null,"Fecha:",-1)),je(" "+P(le(r.value.decision.date)),1)]),o("p",null,[B[51]||(B[51]=o("strong",null,"Justificacin:",-1)),je(" "+P(r.value.decision.justification),1)])],2)])):_e("",!0),r.value.status==="approved"?(D(),M("div",gK,[o("div",_K,[B[52]||(B[52]=o("h4",{class:"h6-tipografia-govco govcolor-marine"},"Contrato de Adopcin",-1)),p.value.firmado?(D(),M("span",bK," Firmado ")):(D(),M("span",yK," Pendiente de firma "))]),o("div",wK,[o("div",xK,[p.value.numero_contrato?(D(),M("div",AK,[B[53]||(B[53]=o("span",{class:"label"},"No. Contrato:",-1)),o("span",SK,P(p.value.numero_contrato),1)])):_e("",!0),p.value.fecha_contrato?(D(),M("div",kK,[B[54]||(B[54]=o("span",{class:"label"},"Fecha generacin:",-1)),o("span",CK,P(le(p.value.fecha_contrato)),1)])):_e("",!0),p.value.firmado&&p.value.fecha_firma?(D(),M("div",EK,[B[55]||(B[55]=o("span",{class:"label"},"Firmado el:",-1)),o("span",LK,P(le(p.value.fecha_firma)),1)])):_e("",!0),o("div",NK,[B[56]||(B[56]=o("span",{class:"label"},"Estado:",-1)),o("span",{class:ot(["value",p.value.firmado?"status-signed":"status-pending"])},P(p.value.firmado?"Completado":"Esperando firma del adoptante"),3)])]),o("div",PK,[o("button",{onClick:Q,class:"govco-btn govco-bg-marine contract-btn",disabled:f.value},[f.value?(D(),M("span",TK,"Cargando...")):(D(),M("span",IK,"Ver Contrato"))],8,$K),o("button",{onClick:U,class:"govco-btn govco-bg-elf-green contract-btn",disabled:f.value}," Descargar PDF ",8,DK)])]),p.value.firmado?_e("",!0):(D(),M("div",RK,[...B[57]||(B[57]=[o("p",null," El contrato fue generado automticamente al aprobar la visita domiciliaria. El adoptante debe firmar el contrato desde el portal de consulta de adopciones. ",-1)])])),p.value.firmado?(D(),M("div",OK,[B[59]||(B[59]=o("div",{class:"success-icon"},"",-1)),B[60]||(B[60]=o("h5",null,"Adopcin Completada",-1)),B[61]||(B[61]=o("p",null,"El adoptante firm el contrato y se programaron los seguimientos post-adopcin automticamente.",-1)),p.value.seguimientos&&p.value.seguimientos.length>0?(D(),M("div",MK,[B[58]||(B[58]=o("h6",null,"Seguimientos Post-adopcin Programados:",-1)),o("ul",null,[(D(!0),M(rt,null,ht(p.value.seguimientos,V=>(D(),M("li",{key:V.id},[o("span",FK,P(Le(V.tipo_visita)),1),o("span",BK,P(le(V.fecha_programada)),1)]))),128))])])):_e("",!0)])):_e("",!0)])):_e("",!0)]),o("div",{class:"modal-footer"},[o("button",{onClick:x,class:"govco-btn govco-bg-concrete"}," Cerrar ")])])])):_e("",!0)]))}},zK=It(jK,[["__scopeId","data-v-ba2ee581"]]),UK={class:"contracts-container"},VK={key:0,class:"govco-card"},qK={key:1,class:"govco-card error-card"},HK={key:2,class:"govco-card"},GK={key:3,class:"govco-table"},WK={class:"small"},ZK={class:"small"},KK={key:0,class:"badge badge-success"},JK={key:1,class:"badge badge-warning"},YK={key:2,class:"badge badge-secondary"},XK={class:"actions-col"},QK=["disabled","onClick"],eJ=["onClick"],tJ=["onClick"],nJ={class:"modal-content"},oJ={key:0,class:"modal-body"},iJ={class:"contract-info"},aJ={class:"contract-section"},sJ={class:"contract-section"},rJ={key:0,class:"contract-section"},lJ={__name:"AdoptionContractManager",setup(e){const t=ve([]),n=ve(!1),i=ve(null),s=ve(null),r=ve(!1),l=ve(null);function c(y){var A,N,k,T;return{id:y.id,applicant:{name:((A=y.adoptante)==null?void 0:A.nombre_completo)||"Sin nombre",idNumber:((N=y.adoptante)==null?void 0:N.documento_identidad)||""},animal:{name:((k=y.animal)==null?void 0:k.nombre)||"Sin nombre",species:((T=y.animal)==null?void 0:T.especie)||""},approvedAt:y.fecha_aprobacion||y.updated_at,contractData:y.contrato||null,contractSigned:y.contrato_firmado||!1,rawData:y}}function d(y){return y?new Date(y).toLocaleDateString("es-CO",{year:"numeric",month:"short",day:"numeric"}):"-"}async function p(){n.value=!0,i.value=null;try{const y=await lo.fetchAdoptionRequests({estado:"aprobada"}),A=y.data||y||[],N=Array.isArray(A)?A:A.data||[];t.value=N.map(c)}catch(y){console.error("Error al cargar adopciones aprobadas:",y),i.value="Error al cargar las solicitudes aprobadas. Por favor, intente nuevamente."}finally{n.value=!1}}async function f(y){var A,N;s.value=y.id;try{const k=await lo.fetchAdoptionContract(y.id),T=k.data||k;y.contractData=T,l.value=T,r.value=!0}catch(k){console.error("Error al generar contrato:",k);const T=((N=(A=k.response)==null?void 0:A.data)==null?void 0:N.message)||"Error al generar el contrato";i.value=T}finally{s.value=null}}function v(y){l.value=y.contractData,r.value=!0}async function w(y){y.contractSigned=!0,console.log("Firma registrada para adopcin:",y.id)}function m(){r.value=!1,l.value=null}return yn(p),(y,A)=>{var N,k,T,I,j,K,W,H,F;return D(),M("section",UK,[A[16]||(A[16]=o("div",{class:"form-header"},[o("h2",{class:"h2-tipografia-govco"},"Contratos de adopcin"),o("p",{class:"text2-tipografia-govco"}," Gestiona los contratos digitales de adopcin ya aprobados. ")],-1)),n.value?(D(),M("div",VK," Cargando solicitudes aprobadas... ")):i.value?(D(),M("div",qK,P(i.value),1)):t.value.length?(D(),M("table",GK,[A[2]||(A[2]=o("thead",null,[o("tr",null,[o("th",null,"Adoptante"),o("th",null,"Animal"),o("th",null,"Fecha Aprobacin"),o("th",null,"Estado Contrato"),o("th",null,"Acciones")])],-1)),o("tbody",null,[(D(!0),M(rt,null,ht(t.value,R=>(D(),M("tr",{key:R.id},[o("td",null,[o("strong",null,P(R.applicant.name),1),A[0]||(A[0]=o("br",null,null,-1)),o("span",WK,P(R.applicant.idNumber),1)]),o("td",null,[je(P(R.animal.name),1),A[1]||(A[1]=o("br",null,null,-1)),o("span",ZK,P(R.animal.species),1)]),o("td",null,P(d(R.approvedAt)),1),o("td",null,[R.contractSigned?(D(),M("span",KK," Firmado ")):R.contractData?(D(),M("span",JK," Generado pendiente de firma ")):(D(),M("span",YK," Sin contrato "))]),o("td",XK,[R.contractData?_e("",!0):(D(),M("button",{key:0,type:"button",class:"govco-btn govco-btn-small govco-btn-primary",disabled:s.value===R.id,onClick:z=>f(R)},P(s.value===R.id?"Generando...":"Generar contrato"),9,QK)),R.contractData?(D(),M("button",{key:1,type:"button",class:"govco-btn govco-btn-small govco-btn-secondary",onClick:z=>v(R)}," Ver contrato ",8,eJ)):_e("",!0),R.contractData&&!R.contractSigned?(D(),M("button",{key:2,type:"button",class:"govco-btn govco-btn-small govco-btn-success",onClick:z=>w(R)}," Registrar firma ",8,tJ)):_e("",!0)])]))),128))])])):(D(),M("div",HK," No hay solicitudes aprobadas pendientes de contrato. ")),r.value?(D(),M("div",{key:4,class:"modal-overlay",onClick:Tt(m,["self"])},[o("div",nJ,[o("div",{class:"modal-header"},[A[3]||(A[3]=o("h3",null,"Contrato de Adopcin",-1)),o("button",{type:"button",class:"close-btn",onClick:m},"")]),l.value?(D(),M("div",oJ,[o("div",iJ,[o("p",null,[A[4]||(A[4]=o("strong",null,"Nmero de contrato:",-1)),je(" "+P(l.value.numero_contrato),1)]),o("p",null,[A[5]||(A[5]=o("strong",null,"Fecha de generacin:",-1)),je(" "+P(l.value.fecha_generacion),1)])]),o("div",aJ,[A[10]||(A[10]=o("h4",null,"Datos del Adoptante",-1)),o("p",null,[A[6]||(A[6]=o("strong",null,"Nombre:",-1)),je(" "+P((N=l.value.adoptante)==null?void 0:N.nombre_completo),1)]),o("p",null,[A[7]||(A[7]=o("strong",null,"Documento:",-1)),je(" "+P((k=l.value.adoptante)==null?void 0:k.tipo_documento)+" "+P((T=l.value.adoptante)==null?void 0:T.documento_identidad),1)]),o("p",null,[A[8]||(A[8]=o("strong",null,"Direccin:",-1)),je(" "+P((I=l.value.adoptante)==null?void 0:I.direccion),1)]),o("p",null,[A[9]||(A[9]=o("strong",null,"Telfono:",-1)),je(" "+P((j=l.value.adoptante)==null?void 0:j.telefono),1)])]),o("div",sJ,[A[14]||(A[14]=o("h4",null,"Datos del Animal",-1)),o("p",null,[A[11]||(A[11]=o("strong",null,"Nombre:",-1)),je(" "+P((K=l.value.animal)==null?void 0:K.nombre),1)]),o("p",null,[A[12]||(A[12]=o("strong",null,"Especie:",-1)),je(" "+P((W=l.value.animal)==null?void 0:W.especie),1)]),o("p",null,[A[13]||(A[13]=o("strong",null,"Raza:",-1)),je(" "+P(((H=l.value.animal)==null?void 0:H.raza)||"No especificada"),1)])]),(F=l.value.compromisos)!=null&&F.length?(D(),M("div",rJ,[A[15]||(A[15]=o("h4",null,"Compromisos del Adoptante",-1)),o("ul",null,[(D(!0),M(rt,null,ht(l.value.compromisos,(R,z)=>(D(),M("li",{key:z},P(R),1))),128))])])):_e("",!0)])):_e("",!0),o("div",{class:"modal-footer"},[o("button",{type:"button",class:"govco-btn govco-btn-secondary",onClick:m}," Cerrar ")])])])):_e("",!0)])}}},cJ=It(lJ,[["__scopeId","data-v-fbf0e76e"]]),uJ={class:"followups-manager"},dJ={class:"filters-section"},fJ={class:"filters-grid"},pJ={class:"form-group"},hJ={class:"form-group"},mJ={class:"form-group"},vJ={class:"form-group"},gJ={class:"visits-table-container"},_J={key:0,class:"loading-state"},bJ={key:1,class:"empty-state"},yJ={key:2,class:"visits-table"},wJ={class:"date-cell"},xJ={class:"date-main"},AJ={key:0,class:"overdue-badge"},SJ={class:"type-badge"},kJ={class:"animal-cell"},CJ={class:"animal-code"},EJ={class:"adopter-cell"},LJ={class:"result-cell"},NJ={key:1,class:"result-badge result-none"},PJ={key:2,class:"rescue-badge",title:"Rescate iniciado"},$J={class:"action-buttons"},TJ=["onClick"],IJ=["onClick"],DJ={class:"modal-body"},RJ={class:"visit-info-summary"},OJ={class:"info-item"},MJ={class:"info-value"},FJ={class:"info-item"},BJ={class:"info-value"},jJ={class:"info-item"},zJ={class:"info-value"},UJ={class:"info-item"},VJ={class:"info-value"},qJ={class:"form-row"},HJ={class:"form-group"},GJ={class:"form-group"},WJ={class:"form-row three-cols"},ZJ={class:"form-group"},KJ={class:"form-group"},JJ={class:"form-group"},YJ={class:"form-row three-cols"},XJ={class:"form-group"},QJ={class:"form-group"},eY={class:"form-group"},tY={class:"form-group"},nY={class:"form-group"},oY={class:"photos-upload-section"},iY={key:0,class:"photos-preview"},aY=["src","alt"],sY=["onClick"],rY={class:"photo-name"},lY={class:"form-actions"},cY=["disabled"],uY={class:"modal-body"},dY={class:"detail-grid"},fY={class:"detail-item"},pY={class:"detail-value"},hY={class:"detail-item"},mY={class:"detail-value"},vY={class:"detail-item"},gY={class:"detail-value"},_Y={class:"detail-item"},bY={key:1},yY={key:0,class:"detail-section"},wY={class:"detail-grid"},xY={class:"detail-item"},AY={class:"detail-value"},SY={class:"detail-item"},kY={class:"detail-value"},CY={class:"detail-item"},EY={class:"detail-value"},LY={key:1,class:"detail-section"},NY={class:"detail-grid"},PY={class:"detail-item"},$Y={class:"detail-value"},TY={class:"detail-item"},IY={class:"detail-value"},DY={class:"detail-item"},RY={class:"detail-value"},OY={key:2,class:"detail-section"},MY={class:"observation-text"},FY={key:3,class:"detail-section"},BY={class:"observation-text"},jY={key:4,class:"detail-section"},zY={class:"photos-gallery"},UY=["onClick"],VY=["src","alt"],qY={class:"gallery-item-name"},HY=["src","alt"],GY={class:"photo-viewer-name"},WY={__name:"PostAdoptionFollowUps",setup(e){const t=ve([]),n=ve(!1),i=ve(!1),s=un({estado:"",tipo_visita:"",fecha_desde:"",fecha_hasta:""}),r=ve(!1),l=ve(!1),c=ve(null),d=ve(!1),p=ve(null),f=ve([]),v=ve(null),w=un({resultado:"",fecha_realizada:"",condiciones_hogar:{limpieza:"",espacio:"",seguridad:""},estado_animal:{salud:"",comportamiento:"",alimentacion:""},observaciones:"",recomendaciones:""});async function m(){n.value=!0;try{const Z={};s.estado&&(Z.estado=s.estado),s.tipo_visita&&(Z.tipo_visita=s.tipo_visita),s.fecha_desde&&(Z.fecha_desde=s.fecha_desde),s.fecha_hasta&&(Z.fecha_hasta=s.fecha_hasta);const b=await lo.fetchFollowUpVisits(Z),S=b.data||b;t.value=S.data||S||[]}catch(Z){console.error("Error al cargar visitas:",Z),t.value=[]}finally{n.value=!1}}function y(Z){if(!Z.fecha_programada)return!1;const b=new Date;return b.setHours(0,0,0,0),new Date(Z.fecha_programada)<b}function A(Z){return Z?new Date(Z).toLocaleDateString("es-CO",{year:"numeric",month:"short",day:"numeric"}):"Sin fecha"}function N(Z){return{pre_adopcion:"Pre-adopcion",seguimiento_1mes:"Seguimiento 1 mes",seguimiento_3meses:"Seguimiento 3 meses",seguimiento_6meses:"Seguimiento 6 meses",extraordinaria:"Extraordinaria"}[Z]||Z||"No especificado"}function k(Z){return{satisfactoria:"Satisfactoria",observaciones:"Con observaciones",critica:"Critica"}[Z]||Z||"No especificado"}function T(Z){c.value=Z,w.resultado="",w.fecha_realizada=new Date().toISOString().split("T")[0],w.condiciones_hogar={limpieza:"",espacio:"",seguridad:""},w.estado_animal={salud:"",comportamiento:"",alimentacion:""},w.observaciones="",w.recomendaciones="",f.value=[],r.value=!0}function I(Z){c.value=Z,l.value=!0}function j(){r.value=!1,l.value=!1,c.value=null,f.value=[]}function K(Z){p.value=Z,d.value=!0}function W(){d.value=!1,p.value=null}function H(){var Z;(Z=v.value)==null||Z.click()}function F(Z){const b=Array.from(Z.target.files||[]);z(b),v.value&&(v.value.value="")}function R(Z){var S;const b=Array.from(((S=Z.dataTransfer)==null?void 0:S.files)||[]);z(b)}function z(Z){const b=["image/jpeg","image/png","image/jpg","image/webp"],le=5-f.value.length;if(le<=0){window.$toast?window.$toast.warning("Mximo 5 fotos permitidas"):alert("Mximo 5 fotos permitidas");return}Z.slice(0,le).forEach(ke=>{if(!b.includes(ke.type)){window.$toast&&window.$toast.warning(`${ke.name}: Formato no vlido`);return}if(ke.size>5242880){window.$toast&&window.$toast.warning(`${ke.name}: Excede 5MB`);return}const Le=new FileReader;Le.onload=X=>{f.value.push({file:ke,preview:X.target.result})},Le.readAsDataURL(ke)})}function x(Z){f.value.splice(Z,1)}async function $(){var Z,b,S;if(!(!c.value||!w.resultado)){i.value=!0;try{const Q=Object.fromEntries(Object.entries(w.condiciones_hogar).filter(([Le,X])=>X)),U=Object.fromEntries(Object.entries(w.estado_animal).filter(([Le,X])=>X)),le=f.value.map(Le=>Le.file),xe=await lo.registerFollowUpResult(c.value.id,{resultado:w.resultado,fecha_realizada:w.fecha_realizada||null,condiciones_hogar:Object.keys(Q).length>0?Q:null,estado_animal:Object.keys(U).length>0?U:null,observaciones:w.observaciones||null,recomendaciones:w.recomendaciones||null},le),ke=xe.data||xe;if(ke.rescate_iniciado){const Le=((Z=ke.denuncia)==null?void 0:Z.ticket)||"N/A";window.$toast?window.$toast.warning("Rescate iniciado automticamente",`Resultado crtico detectado. Se ha creado la denuncia ${Le} y se ha programado el rescate. La adopcin ha sido revocada.`):alert(`Resultado crtico detectado. Se ha iniciado automticamente un proceso de rescate.

Ticket de denuncia: ${Le}

La adopcin ha sido revocada.`)}else ke.adopcion_aprobada?window.$toast?window.$toast.success("Adopcin aprobada","La visita fue satisfactoria y la adopcin ha sido aprobada. El contrato est listo para firma."):alert("La visita fue satisfactoria y la adopcin ha sido aprobada. El contrato est listo para firma."):window.$toast?window.$toast.success("Visita registrada exitosamente"):alert("Visita registrada exitosamente");j(),await m()}catch(Q){console.error("Error al registrar visita:",Q);const U=((S=(b=Q.response)==null?void 0:b.data)==null?void 0:S.message)||"Error al registrar la visita";window.$toast?window.$toast.error("Error",U):alert(U)}finally{i.value=!1}}}return yn(m),(Z,b)=>{var S,Q,U,le,xe,ke,Le,X,he,J,B,V,Y,ee,fe,ae,te,se,de,Ae,ne,ge,Me,Ge,Te;return D(),M("section",uJ,[b[68]||(b[68]=o("div",{class:"form-header"},[o("h2",{class:"h2-tipografia-govco"},"Visitas Domiciliarias"),o("p",{class:"text2-tipografia-govco"}," Gestiona las visitas programadas, registra resultados y da seguimiento a las adopciones. ")],-1)),o("div",dJ,[o("div",fJ,[o("div",pJ,[b[19]||(b[19]=o("label",{for:"status-filter"},"Estado",-1)),$e(o("select",{id:"status-filter","onUpdate:modelValue":b[0]||(b[0]=Pe=>s.estado=Pe),class:"form-control"},[...b[18]||(b[18]=[o("option",{value:""},"Todas",-1),o("option",{value:"pendiente"},"Pendientes",-1),o("option",{value:"realizada"},"Realizadas",-1)])],512),[[yt,s.estado]])]),o("div",hJ,[b[21]||(b[21]=o("label",{for:"type-filter"},"Tipo de visita",-1)),$e(o("select",{id:"type-filter","onUpdate:modelValue":b[1]||(b[1]=Pe=>s.tipo_visita=Pe),class:"form-control"},[...b[20]||(b[20]=[Bt('<option value="" data-v-2f36a1af>Todos</option><option value="pre_adopcion" data-v-2f36a1af>Pre-adopcion</option><option value="seguimiento_1mes" data-v-2f36a1af>Seguimiento 1 mes</option><option value="seguimiento_3meses" data-v-2f36a1af>Seguimiento 3 meses</option><option value="seguimiento_6meses" data-v-2f36a1af>Seguimiento 6 meses</option><option value="extraordinaria" data-v-2f36a1af>Extraordinaria</option>',6)])],512),[[yt,s.tipo_visita]])]),o("div",mJ,[b[22]||(b[22]=o("label",{for:"date-from"},"Desde",-1)),$e(o("input",{type:"date",id:"date-from","onUpdate:modelValue":b[2]||(b[2]=Pe=>s.fecha_desde=Pe),class:"form-control"},null,512),[[lt,s.fecha_desde]])]),o("div",vJ,[b[23]||(b[23]=o("label",{for:"date-to"},"Hasta",-1)),$e(o("input",{type:"date",id:"date-to","onUpdate:modelValue":b[3]||(b[3]=Pe=>s.fecha_hasta=Pe),class:"form-control"},null,512),[[lt,s.fecha_hasta]])]),o("button",{onClick:m,class:"govco-btn govco-bg-marine filter-btn"}," Filtrar ")])]),o("div",gJ,[n.value?(D(),M("div",_J," Cargando visitas... ")):t.value.length===0?(D(),M("div",bJ,[...b[24]||(b[24]=[o("p",null,"No se encontraron visitas con los filtros seleccionados.",-1)])])):(D(),M("table",yJ,[b[25]||(b[25]=o("thead",null,[o("tr",null,[o("th",null,"Fecha"),o("th",null,"Tipo"),o("th",null,"Animal"),o("th",null,"Adoptante"),o("th",null,"Estado"),o("th",null,"Resultado"),o("th",null,"Acciones")])],-1)),o("tbody",null,[(D(!0),M(rt,null,ht(t.value,Pe=>{var De,nt,Ze,dt,Ce,Ue,Je,Re,ut,mt;return D(),M("tr",{key:Pe.id,class:ot({"overdue-row":y(Pe)&&!Pe.fecha_realizada})},[o("td",null,[o("div",wJ,[o("span",xJ,P(A(Pe.fecha_programada)),1),y(Pe)&&!Pe.fecha_realizada?(D(),M("span",AJ,"Vencida")):_e("",!0)])]),o("td",null,[o("span",SJ,P(N(Pe.tipo_visita)),1)]),o("td",null,[o("div",kJ,[o("span",CJ,P(((nt=(De=Pe.adopcion)==null?void 0:De.animal)==null?void 0:nt.codigo_unico)||"N/A"),1),o("strong",null,P(((dt=(Ze=Pe.adopcion)==null?void 0:Ze.animal)==null?void 0:dt.nombre)||"Sin nombre"),1),o("small",null,P((Ue=(Ce=Pe.adopcion)==null?void 0:Ce.animal)==null?void 0:Ue.especie),1)])]),o("td",null,[o("div",EJ,[o("strong",null,P(((Re=(Je=Pe.adopcion)==null?void 0:Je.adoptante)==null?void 0:Re.nombre_completo)||"Sin adoptante"),1),o("small",null,P((mt=(ut=Pe.adopcion)==null?void 0:ut.adoptante)==null?void 0:mt.telefono),1)])]),o("td",null,[o("span",{class:ot(["status-badge",Pe.fecha_realizada?"status-done":"status-pending"])},P(Pe.fecha_realizada?"Realizada":"Pendiente"),3)]),o("td",null,[o("div",LJ,[Pe.resultado?(D(),M("span",{key:0,class:ot(["result-badge",`result-${Pe.resultado}`])},P(k(Pe.resultado)),3)):(D(),M("span",NJ,"Sin resultado")),Pe.denuncia_id?(D(),M("span",PJ," Rescate ")):_e("",!0)])]),o("td",null,[o("div",$J,[Pe.fecha_realizada?_e("",!0):(D(),M("button",{key:0,onClick:ft=>T(Pe),class:"action-btn govco-bg-elf-green",title:"Registrar visita"}," Registrar ",8,TJ)),o("button",{onClick:ft=>I(Pe),class:"action-btn govco-bg-marine",title:"Ver detalles"}," Ver ",8,IJ)])])],2)}),128))])]))]),r.value?(D(),M("div",{key:0,class:"modal-overlay",onClick:j},[o("div",{class:"modal-content",onClick:b[15]||(b[15]=Tt(()=>{},["stop"]))},[o("div",{class:"modal-header govco-bg-blue-light"},[b[26]||(b[26]=o("h3",{class:"h4-tipografia-govco govcolor-blue-dark"},"Registrar Visita Domiciliaria",-1)),o("button",{onClick:j,class:"modal-close"},"")]),o("div",DJ,[o("div",RJ,[o("div",OJ,[b[27]||(b[27]=o("span",{class:"info-label"},"Animal:",-1)),o("span",MJ,P((U=(Q=(S=c.value)==null?void 0:S.adopcion)==null?void 0:Q.animal)==null?void 0:U.nombre)+" ("+P((ke=(xe=(le=c.value)==null?void 0:le.adopcion)==null?void 0:xe.animal)==null?void 0:ke.codigo_unico)+")",1)]),o("div",FJ,[b[28]||(b[28]=o("span",{class:"info-label"},"Adoptante:",-1)),o("span",BJ,P((he=(X=(Le=c.value)==null?void 0:Le.adopcion)==null?void 0:X.adoptante)==null?void 0:he.nombre_completo),1)]),o("div",jJ,[b[29]||(b[29]=o("span",{class:"info-label"},"Direccion:",-1)),o("span",zJ,P((V=(B=(J=c.value)==null?void 0:J.adopcion)==null?void 0:B.adoptante)==null?void 0:V.direccion),1)]),o("div",UJ,[b[30]||(b[30]=o("span",{class:"info-label"},"Tipo:",-1)),o("span",VJ,P(N((Y=c.value)==null?void 0:Y.tipo_visita)),1)])]),b[52]||(b[52]=o("hr",{class:"divider"},null,-1)),o("form",{onSubmit:Tt($,["prevent"]),class:"register-form"},[o("div",qJ,[o("div",HJ,[b[32]||(b[32]=o("label",{for:"resultSelect"},"Resultado de la visita*",-1)),$e(o("select",{id:"resultSelect","onUpdate:modelValue":b[4]||(b[4]=Pe=>w.resultado=Pe),class:"form-control",required:""},[...b[31]||(b[31]=[o("option",{value:""},"Seleccione...",-1),o("option",{value:"satisfactoria"},"Satisfactoria",-1),o("option",{value:"observaciones"},"Con observaciones",-1),o("option",{value:"critica"},"Critica",-1)])],512),[[yt,w.resultado]])]),o("div",GJ,[b[33]||(b[33]=o("label",{for:"visitDate"},"Fecha de visita",-1)),$e(o("input",{type:"date",id:"visitDate","onUpdate:modelValue":b[5]||(b[5]=Pe=>w.fecha_realizada=Pe),class:"form-control"},null,512),[[lt,w.fecha_realizada]])])]),b[49]||(b[49]=o("h5",{class:"form-section-title"},"Condiciones del Hogar",-1)),o("div",WJ,[o("div",ZJ,[b[35]||(b[35]=o("label",{for:"limpieza"},"Limpieza",-1)),$e(o("select",{id:"limpieza","onUpdate:modelValue":b[6]||(b[6]=Pe=>w.condiciones_hogar.limpieza=Pe),class:"form-control"},[...b[34]||(b[34]=[Bt('<option value="" data-v-2f36a1af>Seleccione...</option><option value="excelente" data-v-2f36a1af>Excelente</option><option value="buena" data-v-2f36a1af>Buena</option><option value="regular" data-v-2f36a1af>Regular</option><option value="deficiente" data-v-2f36a1af>Deficiente</option>',5)])],512),[[yt,w.condiciones_hogar.limpieza]])]),o("div",KJ,[b[37]||(b[37]=o("label",{for:"espacio"},"Espacio",-1)),$e(o("select",{id:"espacio","onUpdate:modelValue":b[7]||(b[7]=Pe=>w.condiciones_hogar.espacio=Pe),class:"form-control"},[...b[36]||(b[36]=[Bt('<option value="" data-v-2f36a1af>Seleccione...</option><option value="amplio" data-v-2f36a1af>Amplio</option><option value="adecuado" data-v-2f36a1af>Adecuado</option><option value="reducido" data-v-2f36a1af>Reducido</option><option value="inadecuado" data-v-2f36a1af>Inadecuado</option>',5)])],512),[[yt,w.condiciones_hogar.espacio]])]),o("div",JJ,[b[39]||(b[39]=o("label",{for:"seguridad"},"Seguridad",-1)),$e(o("select",{id:"seguridad","onUpdate:modelValue":b[8]||(b[8]=Pe=>w.condiciones_hogar.seguridad=Pe),class:"form-control"},[...b[38]||(b[38]=[o("option",{value:""},"Seleccione...",-1),o("option",{value:"alta"},"Alta",-1),o("option",{value:"media"},"Media",-1),o("option",{value:"baja"},"Baja",-1)])],512),[[yt,w.condiciones_hogar.seguridad]])])]),b[50]||(b[50]=o("h5",{class:"form-section-title"},"Estado del Animal",-1)),o("div",YJ,[o("div",XJ,[b[41]||(b[41]=o("label",{for:"salud"},"Salud",-1)),$e(o("select",{id:"salud","onUpdate:modelValue":b[9]||(b[9]=Pe=>w.estado_animal.salud=Pe),class:"form-control"},[...b[40]||(b[40]=[Bt('<option value="" data-v-2f36a1af>Seleccione...</option><option value="excelente" data-v-2f36a1af>Excelente</option><option value="bueno" data-v-2f36a1af>Bueno</option><option value="regular" data-v-2f36a1af>Regular</option><option value="malo" data-v-2f36a1af>Malo</option>',5)])],512),[[yt,w.estado_animal.salud]])]),o("div",QJ,[b[43]||(b[43]=o("label",{for:"comportamiento"},"Comportamiento",-1)),$e(o("select",{id:"comportamiento","onUpdate:modelValue":b[10]||(b[10]=Pe=>w.estado_animal.comportamiento=Pe),class:"form-control"},[...b[42]||(b[42]=[Bt('<option value="" data-v-2f36a1af>Seleccione...</option><option value="excelente" data-v-2f36a1af>Excelente</option><option value="bueno" data-v-2f36a1af>Bueno</option><option value="regular" data-v-2f36a1af>Regular</option><option value="malo" data-v-2f36a1af>Malo</option>',5)])],512),[[yt,w.estado_animal.comportamiento]])]),o("div",eY,[b[45]||(b[45]=o("label",{for:"alimentacion"},"Alimentacion",-1)),$e(o("select",{id:"alimentacion","onUpdate:modelValue":b[11]||(b[11]=Pe=>w.estado_animal.alimentacion=Pe),class:"form-control"},[...b[44]||(b[44]=[o("option",{value:""},"Seleccione...",-1),o("option",{value:"adecuada"},"Adecuada",-1),o("option",{value:"regular"},"Regular",-1),o("option",{value:"deficiente"},"Deficiente",-1)])],512),[[yt,w.estado_animal.alimentacion]])])]),o("div",tY,[b[46]||(b[46]=o("label",{for:"observaciones"},"Observaciones",-1)),$e(o("textarea",{id:"observaciones","onUpdate:modelValue":b[12]||(b[12]=Pe=>w.observaciones=Pe),rows:"3",class:"form-control",placeholder:"Describa lo observado durante la visita..."},null,512),[[lt,w.observaciones]])]),o("div",nY,[b[47]||(b[47]=o("label",{for:"recomendaciones"},"Recomendaciones",-1)),$e(o("textarea",{id:"recomendaciones","onUpdate:modelValue":b[13]||(b[13]=Pe=>w.recomendaciones=Pe),rows:"2",class:"form-control",placeholder:"Recomendaciones para el adoptante..."},null,512),[[lt,w.recomendaciones]])]),b[51]||(b[51]=o("h5",{class:"form-section-title"},"Fotos de Respaldo",-1)),o("div",oY,[o("div",{class:"upload-area",onClick:H,onDragover:b[14]||(b[14]=Tt(()=>{},["prevent"])),onDrop:Tt(R,["prevent"])},[o("input",{type:"file",ref_key:"fileInput",ref:v,onChange:F,accept:"image/jpeg,image/png,image/jpg,image/webp",multiple:"",class:"hidden-input"},null,544),b[48]||(b[48]=o("div",{class:"upload-placeholder"},[o("span",{class:"upload-icon"},""),o("p",null,"Haz clic o arrastra hasta 5 fotos aqu"),o("small",null,"JPG, PNG o WebP - Mximo 5MB por foto")],-1))],32),f.value.length>0?(D(),M("div",iY,[(D(!0),M(rt,null,ht(f.value,(Pe,De)=>(D(),M("div",{key:De,class:"photo-preview-item"},[o("img",{src:Pe.preview,alt:`Foto ${De+1}`},null,8,aY),o("button",{type:"button",onClick:nt=>x(De),class:"remove-photo-btn"},"",8,sY),o("span",rY,P(Pe.file.name),1)]))),128))])):_e("",!0)]),o("div",lY,[o("button",{type:"button",onClick:j,class:"govco-btn govco-bg-concrete"}," Cancelar "),o("button",{type:"submit",class:"govco-btn govco-bg-elf-green",disabled:i.value||!w.resultado},P(i.value?"Guardando...":"Guardar Registro"),9,cY)])],32)])])])):_e("",!0),l.value?(D(),M("div",{key:1,class:"modal-overlay",onClick:j},[o("div",{class:"modal-content",onClick:b[16]||(b[16]=Tt(()=>{},["stop"]))},[o("div",{class:"modal-header govco-bg-blue-light"},[b[53]||(b[53]=o("h3",{class:"h4-tipografia-govco govcolor-blue-dark"},"Detalle de Visita",-1)),o("button",{onClick:j,class:"modal-close"},"")]),o("div",uY,[o("div",dY,[o("div",fY,[b[54]||(b[54]=o("span",{class:"detail-label"},"Tipo de visita",-1)),o("span",pY,P(N((ee=c.value)==null?void 0:ee.tipo_visita)),1)]),o("div",hY,[b[55]||(b[55]=o("span",{class:"detail-label"},"Fecha programada",-1)),o("span",mY,P(A((fe=c.value)==null?void 0:fe.fecha_programada)),1)]),o("div",vY,[b[56]||(b[56]=o("span",{class:"detail-label"},"Fecha realizada",-1)),o("span",gY,P((ae=c.value)!=null&&ae.fecha_realizada?A(c.value.fecha_realizada):"No realizada"),1)]),o("div",_Y,[b[57]||(b[57]=o("span",{class:"detail-label"},"Resultado",-1)),(te=c.value)!=null&&te.resultado?(D(),M("span",{key:0,class:ot(["result-badge",`result-${c.value.resultado}`])},P(k(c.value.resultado)),3)):(D(),M("span",bY,"Sin resultado"))])]),(se=c.value)!=null&&se.condiciones_hogar?(D(),M("div",yY,[b[61]||(b[61]=o("h5",null,"Condiciones del Hogar",-1)),o("div",wY,[o("div",xY,[b[58]||(b[58]=o("span",{class:"detail-label"},"Limpieza",-1)),o("span",AY,P(c.value.condiciones_hogar.limpieza||"N/A"),1)]),o("div",SY,[b[59]||(b[59]=o("span",{class:"detail-label"},"Espacio",-1)),o("span",kY,P(c.value.condiciones_hogar.espacio||"N/A"),1)]),o("div",CY,[b[60]||(b[60]=o("span",{class:"detail-label"},"Seguridad",-1)),o("span",EY,P(c.value.condiciones_hogar.seguridad||"N/A"),1)])])])):_e("",!0),(de=c.value)!=null&&de.estado_animal?(D(),M("div",LY,[b[65]||(b[65]=o("h5",null,"Estado del Animal",-1)),o("div",NY,[o("div",PY,[b[62]||(b[62]=o("span",{class:"detail-label"},"Salud",-1)),o("span",$Y,P(c.value.estado_animal.salud||"N/A"),1)]),o("div",TY,[b[63]||(b[63]=o("span",{class:"detail-label"},"Comportamiento",-1)),o("span",IY,P(c.value.estado_animal.comportamiento||"N/A"),1)]),o("div",DY,[b[64]||(b[64]=o("span",{class:"detail-label"},"Alimentacion",-1)),o("span",RY,P(c.value.estado_animal.alimentacion||"N/A"),1)])])])):_e("",!0),(Ae=c.value)!=null&&Ae.observaciones?(D(),M("div",OY,[b[66]||(b[66]=o("h5",null,"Observaciones",-1)),o("p",MY,P(c.value.observaciones),1)])):_e("",!0),(ne=c.value)!=null&&ne.recomendaciones?(D(),M("div",FY,[b[67]||(b[67]=o("h5",null,"Recomendaciones",-1)),o("p",BY,P(c.value.recomendaciones),1)])):_e("",!0),(ge=c.value)!=null&&ge.fotos_respaldo&&c.value.fotos_respaldo.length>0?(D(),M("div",jY,[o("h5",null,"Fotos de Respaldo ("+P(c.value.fotos_respaldo.length)+")",1),o("div",zY,[(D(!0),M(rt,null,ht(c.value.fotos_respaldo,(Pe,De)=>(D(),M("div",{key:De,class:"gallery-item",onClick:nt=>K(Pe)},[o("img",{src:Pe.url,alt:Pe.nombre_original||`Foto ${De+1}`},null,8,VY),o("span",qY,P(Pe.nombre_original||`Foto ${De+1}`),1)],8,UY))),128))])])):_e("",!0)]),o("div",{class:"modal-footer"},[o("button",{onClick:j,class:"govco-btn govco-bg-concrete"}," Cerrar ")])])])):_e("",!0),d.value?(D(),M("div",{key:2,class:"photo-viewer-overlay",onClick:W},[o("div",{class:"photo-viewer-content",onClick:b[17]||(b[17]=Tt(()=>{},["stop"]))},[o("button",{onClick:W,class:"photo-viewer-close"},""),o("img",{src:(Me=p.value)==null?void 0:Me.url,alt:(Ge=p.value)==null?void 0:Ge.nombre_original},null,8,HY),o("p",GY,P((Te=p.value)==null?void 0:Te.nombre_original),1)])])):_e("",!0)])}}},ZY=It(WY,[["__scopeId","data-v-2f36a1af"]]),KY={class:"returns-container"},JY={class:"tabs-container"},YY={key:0,class:"badge"},XY={key:0,class:"tab-content"},QY={class:"govco-card search-card"},eX={for:"search",class:"entradas-de-texto-govco"},tX=["disabled"],nX={key:0,class:"govco-card loading-card"},oX={key:1,class:"govco-card empty-card"},iX={key:2,class:"govco-table"},aX={class:"small text-muted"},sX={class:"small text-muted"},rX=["onClick"],lX={key:1,class:"text-muted"},cX={key:3,class:"govco-card return-form"},uX={class:"form-header-small"},dX={class:"h4-tipografia-govco"},fX={class:"animal-info"},pX={class:"form-row"},hX={class:"entradas-de-texto-govco"},mX=["value"],vX={class:"entradas-de-texto-govco"},gX={class:"entradas-de-texto-govco"},_X={class:"entradas-de-texto-govco"},bX={class:"entradas-de-texto-govco"},yX=["max"],wX={class:"form-actions"},xX=["disabled"],AX={key:1,class:"tab-content"},SX={key:0,class:"govco-card loading-card"},kX={key:1,class:"govco-card empty-card"},CX={key:2,class:"govco-table"},EX={class:"small text-muted"},LX=["onClick"],NX={key:2,class:"tab-content"},PX={key:0,class:"govco-card loading-card"},$X={key:1,class:"govco-card empty-card"},TX={key:2,class:"pending-cards"},IX={class:"pending-header"},DX={class:"text-muted"},RX={class:"pending-info"},OX={key:0},MX=["onClick"],FX={class:"modal-content"},BX={class:"modal-header"},jX={class:"modal-body"},zX={class:"animal-info"},UX={class:"entradas-de-texto-govco"},VX={class:"entradas-de-texto-govco"},qX={class:"entradas-de-texto-govco"},HX={class:"entradas-de-texto-govco"},GX={class:"checkbox-container"},WX={class:"checkbox-label"},ZX={class:"form-actions"},KX=["disabled"],JX={__name:"AdoptionReturnsManager",setup(e){const t=ve("nueva"),n=ve(""),i=ve(!1),s=ve(!1),r=ve([]),l=ve(null),c=ve(!1),d=ve([]),p=ve(!1),f=ve([]),v=ve(!1),w=ve(0),m=ve(!1),y=ve(null),A=ve(!1),N=new Date().toISOString().slice(0,10),k={incompatibilidad:"Incompatibilidad con el hogar",cambio_situacion:"Cambio de situacion personal/familiar",problemas_comportamiento:"Problemas de comportamiento del animal",enfermedad_animal:"Enfermedad del animal",enfermedad_adoptante:"Enfermedad del adoptante",mudanza:"Mudanza a lugar no apto",economico:"Problemas economicos",fallecimiento_adoptante:"Fallecimiento del adoptante",alergias:"Alergias en el hogar",otro:"Otro motivo"},T={recibido:"Recibido",en_revision:"En revision",aprobado_readopcion:"Aprobado re-adopcion",en_tratamiento:"En tratamiento",finalizado:"Finalizado"},I=un({motivo:"",descripcion_motivo:"",estado_animal_devolucion:"",observaciones_estado:"",fecha_devolucion:N}),j=un({diagnostico:"",observaciones_veterinario:"",recomendaciones:"",apto_adopcion:!1,estado_salud:""});function K(Q){return Q?new Date(Q).toLocaleDateString("es-CO"):"N/A"}async function W(){s.value=!0,i.value=!0;try{const Q=await lo.fetchActiveAdoptionsBySearch(n.value.trim()||"");let U=Q;Q.data&&(U=Q.data),U.data&&Array.isArray(U.data)?r.value=U.data:Array.isArray(U)?r.value=U:r.value=[],console.log("Adopciones cargadas:",r.value.length,r.value)}catch(Q){console.error("Error cargando adopciones:",Q),window.$toast&&window.$toast.error("Error","No se pudieron cargar las adopciones"),r.value=[]}finally{s.value=!1}}async function H(){await W()}function F(Q){l.value=Q,Object.assign(I,{motivo:"",descripcion_motivo:"",estado_animal_devolucion:"",observaciones_estado:"",fecha_devolucion:N})}async function R(){var Q,U;if(l.value){c.value=!0;try{const le=await lo.registerReturn(l.value.id,{motivo:I.motivo,descripcion_motivo:I.descripcion_motivo,estado_animal_devolucion:I.estado_animal_devolucion,observaciones_estado:I.observaciones_estado||null,fecha_devolucion:I.fecha_devolucion||null});window.$toast&&window.$toast.success("Devolucion registrada",le.message||"La devolucion ha sido registrada exitosamente."),r.value=r.value.filter(xe=>xe.id!==l.value.id),l.value=null,$()}catch(le){console.error("Error registrando devolucion:",le);const xe=((U=(Q=le.response)==null?void 0:Q.data)==null?void 0:U.message)||"Error al registrar la devolucion";window.$toast&&window.$toast.error("Error",xe)}finally{c.value=!1}}}async function z(){var Q;p.value=!0;try{const U=await lo.fetchReturns();d.value=((Q=U.data)==null?void 0:Q.data)||U.data||[]}catch(U){console.error("Error cargando devoluciones:",U),d.value=[]}finally{p.value=!1}}async function x(){var Q;v.value=!0;try{const U=await lo.fetchReturns({pendientes_revision:!0});f.value=((Q=U.data)==null?void 0:Q.data)||U.data||[],w.value=f.value.length}catch(U){console.error("Error cargando pendientes:",U),f.value=[]}finally{v.value=!1}}async function $(){var Q;try{const U=await lo.fetchReturnStats();w.value=((Q=U.data)==null?void 0:Q.pendientes_revision)||0}catch(U){console.error("Error cargando estadisticas:",U)}}function Z(Q){var U;console.log("Detalle devolucion:",Q),window.$toast&&window.$toast.info("Detalle",`Devolucion de ${(U=Q.animal)==null?void 0:U.nombre}: ${k[Q.motivo]}`)}function b(Q){y.value=Q,Object.assign(j,{diagnostico:"",observaciones_veterinario:"",recomendaciones:"",apto_adopcion:!1,estado_salud:""}),m.value=!0}async function S(){var Q,U;if(y.value){A.value=!0;try{const le=await lo.completeReturnReview(y.value.id,{diagnostico:j.diagnostico,observaciones_veterinario:j.observaciones_veterinario||null,recomendaciones:j.recomendaciones||null,apto_adopcion:j.apto_adopcion,estado_salud:j.estado_salud});window.$toast&&window.$toast.success("Revision completada",le.message||"La revision veterinaria ha sido registrada."),m.value=!1,y.value=null,x()}catch(le){console.error("Error completando revision:",le);const xe=((U=(Q=le.response)==null?void 0:Q.data)==null?void 0:U.message)||"Error al completar la revision";window.$toast&&window.$toast.error("Error",xe)}finally{A.value=!1}}}return yn(()=>{$(),W()}),(Q,U)=>{var le,xe,ke,Le,X,he,J,B;return D(),M("section",KY,[U[56]||(U[56]=o("div",{class:"form-header"},[o("h2",{class:"h2-tipografia-govco"},"Gestion de Devoluciones"),o("p",{class:"text2-tipografia-govco"}," Registra devoluciones de animales adoptados y programa revision veterinaria obligatoria. ")],-1)),o("div",JY,[o("button",{class:ot(["tab-btn",{active:t.value==="nueva"}]),onClick:U[0]||(U[0]=V=>t.value="nueva")}," Nueva Devolucion ",2),o("button",{class:ot(["tab-btn",{active:t.value==="listado"}]),onClick:U[1]||(U[1]=V=>{t.value="listado",z()})}," Listado de Devoluciones ",2),o("button",{class:ot(["tab-btn",{active:t.value==="pendientes"}]),onClick:U[2]||(U[2]=V=>{t.value="pendientes",x()})},[U[19]||(U[19]=je(" Pendientes Revision ",-1)),w.value>0?(D(),M("span",YY,P(w.value),1)):_e("",!0)],2)]),t.value==="nueva"?(D(),M("div",XY,[o("div",QY,[o("label",eX,[U[20]||(U[20]=o("span",null,"Buscar adopcion por nombre del animal, adoptante o documento",-1)),$e(o("input",{id:"search","onUpdate:modelValue":U[3]||(U[3]=V=>n.value=V),type:"text",placeholder:"Ej: Luna, 1234567890, Juan Perez",onKeyup:Cl(H,["enter"])},null,544),[[lt,n.value]])]),o("button",{type:"button",class:"btn-govco btn-govco-primary",disabled:s.value,onClick:H},P(s.value?"Buscando...":"Buscar"),9,tX)]),s.value?(D(),M("div",nX,[...U[21]||(U[21]=[o("div",{class:"spinner"},null,-1),o("span",null,"Buscando adopciones completadas...",-1)])])):i.value&&!r.value.length?(D(),M("div",oX,[...U[22]||(U[22]=[o("p",null,"No se encontraron adopciones completadas con ese criterio.",-1)])])):r.value.length?(D(),M("table",iX,[U[25]||(U[25]=o("thead",null,[o("tr",null,[o("th",null,"Animal"),o("th",null,"Adoptante"),o("th",null,"Fecha Adopcion"),o("th",null,"Estado"),o("th",null,"Accion")])],-1)),o("tbody",null,[(D(!0),M(rt,null,ht(r.value,V=>{var Y,ee,fe,ae;return D(),M("tr",{key:V.id},[o("td",null,[o("strong",null,P(((Y=V.animal)==null?void 0:Y.nombre)||"Sin nombre"),1),U[23]||(U[23]=o("br",null,null,-1)),o("span",aX,P((ee=V.animal)==null?void 0:ee.codigo_unico),1)]),o("td",null,[je(P(((fe=V.adoptante)==null?void 0:fe.nombre_completo)||"N/A"),1),U[24]||(U[24]=o("br",null,null,-1)),o("span",sX,P((ae=V.adoptante)==null?void 0:ae.numero_documento),1)]),o("td",null,P(K(V.fecha_entrega||V.created_at)),1),o("td",null,[o("span",{class:ot(["estado-badge",`estado-${V.estado}`])},P(V.estado),3)]),o("td",null,[V.estado==="completada"?(D(),M("button",{key:0,type:"button",class:"btn-govco btn-govco-danger btn-small",onClick:te=>F(V)}," Registrar Devolucion ",8,rX)):(D(),M("span",lX,"No disponible"))])])}),128))])])):_e("",!0),l.value?(D(),M("div",cX,[o("div",uX,[o("h3",dX," Devolucion de "+P((le=l.value.animal)==null?void 0:le.nombre),1),o("button",{type:"button",class:"btn-close",onClick:U[4]||(U[4]=V=>l.value=null)},"")]),o("div",fX,[o("p",null,[U[26]||(U[26]=o("strong",null,"Codigo:",-1)),je(" "+P((xe=l.value.animal)==null?void 0:xe.codigo_unico),1)]),o("p",null,[U[27]||(U[27]=o("strong",null,"Adoptante:",-1)),je(" "+P((ke=l.value.adoptante)==null?void 0:ke.nombre_completo),1)]),o("p",null,[U[28]||(U[28]=o("strong",null,"Fecha adopcion:",-1)),je(" "+P(K(l.value.fecha_entrega)),1)])]),o("form",{onSubmit:Tt(R,["prevent"])},[o("div",pX,[o("div",hX,[U[30]||(U[30]=o("label",{for:"motivo"},[je("Motivo de devolucion"),o("span",{class:"required"},"*")],-1)),$e(o("select",{id:"motivo","onUpdate:modelValue":U[5]||(U[5]=V=>I.motivo=V),required:""},[U[29]||(U[29]=o("option",{value:""},"Selecciona un motivo",-1)),(D(),M(rt,null,ht(k,(V,Y)=>o("option",{key:Y,value:Y},P(V),9,mX)),64))],512),[[yt,I.motivo]])]),o("div",vX,[U[32]||(U[32]=o("label",{for:"estado_animal"},[je("Estado del animal"),o("span",{class:"required"},"*")],-1)),$e(o("select",{id:"estado_animal","onUpdate:modelValue":U[6]||(U[6]=V=>I.estado_animal_devolucion=V),required:""},[...U[31]||(U[31]=[Bt('<option value="" data-v-4c533b5b>Selecciona estado</option><option value="bueno" data-v-4c533b5b>Bueno</option><option value="regular" data-v-4c533b5b>Regular</option><option value="malo" data-v-4c533b5b>Malo</option><option value="critico" data-v-4c533b5b>Critico</option>',5)])],512),[[yt,I.estado_animal_devolucion]])])]),o("div",gX,[U[33]||(U[33]=o("label",{for:"descripcion"},[je("Descripcion detallada del motivo"),o("span",{class:"required"},"*")],-1)),$e(o("textarea",{id:"descripcion","onUpdate:modelValue":U[7]||(U[7]=V=>I.descripcion_motivo=V),rows:"4",required:"",minlength:"10",placeholder:"Describe detalladamente la razon de la devolucion..."},null,512),[[lt,I.descripcion_motivo]])]),o("div",_X,[U[34]||(U[34]=o("label",{for:"observaciones"},"Observaciones sobre el estado del animal",-1)),$e(o("textarea",{id:"observaciones","onUpdate:modelValue":U[8]||(U[8]=V=>I.observaciones_estado=V),rows:"2",placeholder:"Observaciones adicionales sobre el estado fisico o comportamental..."},null,512),[[lt,I.observaciones_estado]])]),o("div",bX,[U[35]||(U[35]=o("label",{for:"fecha_devolucion"},"Fecha de devolucion",-1)),$e(o("input",{id:"fecha_devolucion","onUpdate:modelValue":U[9]||(U[9]=V=>I.fecha_devolucion=V),type:"date",max:Ka(N)},null,8,yX),[[lt,I.fecha_devolucion]])]),o("div",wX,[o("button",{type:"button",class:"btn-govco btn-govco-secondary",onClick:U[10]||(U[10]=V=>l.value=null)}," Cancelar "),o("button",{type:"submit",class:"btn-govco btn-govco-primary",disabled:c.value},P(c.value?"Registrando...":"Registrar Devolucion"),9,xX)])],32)])):_e("",!0)])):_e("",!0),t.value==="listado"?(D(),M("div",AX,[p.value?(D(),M("div",SX,[...U[36]||(U[36]=[o("div",{class:"spinner"},null,-1),o("span",null,"Cargando devoluciones...",-1)])])):d.value.length?(D(),M("table",CX,[U[39]||(U[39]=o("thead",null,[o("tr",null,[o("th",null,"Animal"),o("th",null,"Motivo"),o("th",null,"Fecha"),o("th",null,"Estado Animal"),o("th",null,"Estado Proceso"),o("th",null,"Acciones")])],-1)),o("tbody",null,[(D(!0),M(rt,null,ht(d.value,V=>{var Y,ee;return D(),M("tr",{key:V.id},[o("td",null,[o("strong",null,P((Y=V.animal)==null?void 0:Y.nombre),1),U[38]||(U[38]=o("br",null,null,-1)),o("span",EX,P((ee=V.animal)==null?void 0:ee.codigo_unico),1)]),o("td",null,P(k[V.motivo]||V.motivo),1),o("td",null,P(K(V.fecha_devolucion)),1),o("td",null,[o("span",{class:ot(["estado-badge",`estado-animal-${V.estado_animal_devolucion}`])},P(V.estado_animal_devolucion),3)]),o("td",null,[o("span",{class:ot(["estado-badge",`proceso-${V.estado_proceso}`])},P(T[V.estado_proceso]||V.estado_proceso),3)]),o("td",null,[o("button",{type:"button",class:"btn-govco btn-govco-outline btn-small",onClick:fe=>Z(V)}," Ver detalle ",8,LX)])])}),128))])])):(D(),M("div",kX,[...U[37]||(U[37]=[o("p",null,"No hay devoluciones registradas.",-1)])]))])):_e("",!0),t.value==="pendientes"?(D(),M("div",NX,[v.value?(D(),M("div",PX,[...U[40]||(U[40]=[o("div",{class:"spinner"},null,-1),o("span",null,"Cargando pendientes...",-1)])])):f.value.length?(D(),M("div",TX,[(D(!0),M(rt,null,ht(f.value,V=>{var Y,ee;return D(),M("div",{key:V.id,class:"govco-card pending-card"},[o("div",IX,[o("div",null,[o("h4",null,P((Y=V.animal)==null?void 0:Y.nombre),1),o("span",DX,P((ee=V.animal)==null?void 0:ee.codigo_unico),1)]),o("span",{class:ot(["estado-badge",`estado-animal-${V.estado_animal_devolucion}`])},P(V.estado_animal_devolucion),3)]),o("div",RX,[o("p",null,[U[42]||(U[42]=o("strong",null,"Motivo:",-1)),je(" "+P(k[V.motivo]),1)]),o("p",null,[U[43]||(U[43]=o("strong",null,"Fecha devolucion:",-1)),je(" "+P(K(V.fecha_devolucion)),1)]),o("p",null,[U[44]||(U[44]=o("strong",null,"Revision programada:",-1)),je(" "+P(K(V.fecha_revision_programada)),1)]),V.observaciones_estado?(D(),M("p",OX,[U[45]||(U[45]=o("strong",null,"Observaciones:",-1)),je(" "+P(V.observaciones_estado),1)])):_e("",!0)]),o("button",{type:"button",class:"btn-govco btn-govco-primary",onClick:fe=>b(V)}," Completar Revision ",8,MX)])}),128))])):(D(),M("div",$X,[...U[41]||(U[41]=[o("p",null,"No hay devoluciones pendientes de revision veterinaria.",-1)])]))])):_e("",!0),m.value?(D(),M("div",{key:3,class:"modal-overlay",onClick:U[18]||(U[18]=Tt(V=>m.value=!1,["self"]))},[o("div",FX,[o("div",BX,[U[46]||(U[46]=o("h3",null,"Revision Veterinaria",-1)),o("button",{type:"button",class:"btn-close",onClick:U[11]||(U[11]=V=>m.value=!1)},"")]),o("div",jX,[o("div",zX,[o("p",null,[U[47]||(U[47]=o("strong",null,"Animal:",-1)),je(" "+P((X=(Le=y.value)==null?void 0:Le.animal)==null?void 0:X.nombre)+" ("+P((J=(he=y.value)==null?void 0:he.animal)==null?void 0:J.codigo_unico)+")",1)]),o("p",null,[U[48]||(U[48]=o("strong",null,"Estado reportado:",-1)),je(" "+P((B=y.value)==null?void 0:B.estado_animal_devolucion),1)])]),o("form",{onSubmit:Tt(S,["prevent"])},[o("div",UX,[U[49]||(U[49]=o("label",{for:"diagnostico"},[je("Diagnostico veterinario"),o("span",{class:"required"},"*")],-1)),$e(o("textarea",{id:"diagnostico","onUpdate:modelValue":U[12]||(U[12]=V=>j.diagnostico=V),rows:"3",required:"",placeholder:"Diagnostico del examen veterinario..."},null,512),[[lt,j.diagnostico]])]),o("div",VX,[U[51]||(U[51]=o("label",{for:"estado_salud"},[je("Estado de salud actual"),o("span",{class:"required"},"*")],-1)),$e(o("select",{id:"estado_salud","onUpdate:modelValue":U[13]||(U[13]=V=>j.estado_salud=V),required:""},[...U[50]||(U[50]=[Bt('<option value="" data-v-4c533b5b>Selecciona estado</option><option value="critico" data-v-4c533b5b>Critico</option><option value="grave" data-v-4c533b5b>Grave</option><option value="estable" data-v-4c533b5b>Estable</option><option value="bueno" data-v-4c533b5b>Bueno</option><option value="excelente" data-v-4c533b5b>Excelente</option>',6)])],512),[[yt,j.estado_salud]])]),o("div",qX,[U[52]||(U[52]=o("label",{for:"observaciones_vet"},"Observaciones",-1)),$e(o("textarea",{id:"observaciones_vet","onUpdate:modelValue":U[14]||(U[14]=V=>j.observaciones_veterinario=V),rows:"2",placeholder:"Observaciones adicionales..."},null,512),[[lt,j.observaciones_veterinario]])]),o("div",HX,[U[53]||(U[53]=o("label",{for:"recomendaciones"},"Recomendaciones",-1)),$e(o("textarea",{id:"recomendaciones","onUpdate:modelValue":U[15]||(U[15]=V=>j.recomendaciones=V),rows:"2",placeholder:"Recomendaciones de tratamiento o cuidados..."},null,512),[[lt,j.recomendaciones]])]),o("div",GX,[o("label",WX,[$e(o("input",{type:"checkbox","onUpdate:modelValue":U[16]||(U[16]=V=>j.apto_adopcion=V)},null,512),[[Po,j.apto_adopcion]]),U[54]||(U[54]=o("span",null,"Apto para re-adopcion",-1))]),U[55]||(U[55]=o("p",{class:"help-text"}," Si no esta apto, el animal permanecera en tratamiento hasta nueva evaluacion. ",-1))]),o("div",ZX,[o("button",{type:"button",class:"btn-govco btn-govco-secondary",onClick:U[17]||(U[17]=V=>m.value=!1)}," Cancelar "),o("button",{type:"submit",class:"btn-govco btn-govco-primary",disabled:A.value},P(A.value?"Guardando...":"Guardar Revision"),9,KX)])],32)])])])):_e("",!0)])}}},YX=It(JX,[["__scopeId","data-v-4c533b5b"]]),XX={class:"adoptions-coordinator-view"},QX={class:"adoptions-tabs"},eQ=["onClick"],tQ={class:"adoptions-content"},nQ={__name:"AdoptionsCoordinatorView",setup(e){const t=[{key:"requests",label:"Solicitudes"},{key:"contracts",label:"Contratos"},{key:"followups",label:"Seguimientos"},{key:"returns",label:"Devoluciones"}],n=ve("requests");return(i,s)=>(D(),M("section",XX,[s[0]||(s[0]=o("header",{class:"adoptions-header"},[o("h1",{class:"h2-tipografia-govco govcolor-blue-dark"}," Gestin de adopciones "),o("p",{class:"text2-tipografia-govco"}," Desde este mdulo puedes gestionar solicitudes, contratos, seguimientos y devoluciones de adopciones. ")],-1)),o("nav",QX,[(D(),M(rt,null,ht(t,r=>o("button",{key:r.key,class:ot(["govco-btn-secondary",{active:n.value===r.key}]),type:"button",onClick:l=>n.value=r.key},P(r.label),11,eQ)),64))]),o("div",tQ,[n.value==="requests"?(D(),nn(zK,{key:0})):_e("",!0),n.value==="contracts"?(D(),nn(cJ,{key:1})):_e("",!0),n.value==="followups"?(D(),nn(ZY,{key:2})):_e("",!0),n.value==="returns"?(D(),nn(YX,{key:3})):_e("",!0)])]))}},oQ=It(nQ,[["__scopeId","data-v-2c14158d"]]),iQ={class:"sso-callback"},aQ={class:"card"},sQ={key:0,class:"loading-state"},rQ={key:1,class:"error-state"},lQ={class:"error"},cQ=!0,uQ={__name:"SSOCallback",setup(e){const t=u2(),n=lh(),i=gu(),s=ve(!0),r=ve(!1),l=ve("");yn(async()=>{await c()});async function c(){var v,w;try{const m=n.query.jwt_token||n.query.jwt;if(!m)throw new Error("No se recibi el token de autenticacin (jwt_token)");console.log(" Token SSO recibido, validando..."),cQ&&await d(m)}catch(m){console.error(" Error en SSO callback:",m),r.value=!0,l.value=((w=(v=m.response)==null?void 0:v.data)==null?void 0:w.message)||m.message||"Error al autenticar",s.value=!1}}async function d(v){if(console.log(" Usando mtodo directo"),(await i.loginWithSSO(v)).success)console.log(" Login SSO exitoso"),await new Promise(m=>setTimeout(m,500)),t.push({name:"dashboard"});else throw new Error("Error al procesar la autenticacin")}async function p(v){console.log(" Usando mtodo en dos pasos");const w=await i.validateSSOToken(v);if(!w.valid)throw new Error("Token SSO invlido o expirado");if(console.log(" Token validado:",w.user_data),(await i.loginWithSSOHeader(v)).success)console.log(" Login completado"),await new Promise(y=>setTimeout(y,500)),t.push({name:"dashboard"});else throw new Error("Error al completar el login")}function f(){t.push({name:"login"})}return(v,w)=>(D(),M("div",iQ,[o("div",aQ,[s.value?(D(),M("div",sQ,[...w[0]||(w[0]=[o("div",{class:"spinner"},null,-1),o("h2",null,"Autenticando...",-1),o("p",{class:"status"},"Validando credenciales con SSO",-1)])])):r.value?(D(),M("div",rQ,[w[1]||(w[1]=o("div",{class:"error-icon"},"",-1)),w[2]||(w[2]=o("h2",null,"Error de Autenticacin",-1)),o("p",lQ,P(l.value),1),o("button",{onClick:f,class:"btn-primary"}," Volver al Login ")])):_e("",!0)])]))}},dQ=It(uQ,[["__scopeId","data-v-1adbec19"]]),fQ={class:"adoption-status-query"},pQ={key:0,class:"query-form-container"},hQ={class:"query-card"},mQ={class:"form-row"},vQ={class:"form-group"},gQ={class:"form-group"},_Q={class:"form-group"},bQ=["disabled"],yQ={key:0},wQ={key:1},xQ={key:0,class:"search-error"},AQ={key:1,class:"result-container"},SQ={class:"adoption-detail-card"},kQ={class:"adoption-header"},CQ={class:"status-section"},EQ={key:0,class:"adoption-code"},LQ={class:"adoption-date"},NQ={class:"value"},PQ={class:"section animal-section"},$Q={class:"animal-card"},TQ={class:"animal-photo-container"},IQ=["src","alt"],DQ={class:"animal-info"},RQ={class:"animal-name"},OQ={class:"animal-tags"},MQ={class:"tag"},FQ={class:"tag"},BQ={class:"tag"},jQ={key:0,class:"animal-description"},zQ={class:"section adoptante-section"},UQ={class:"data-grid"},VQ={class:"data-item"},qQ={class:"value"},HQ={class:"data-item"},GQ={class:"value"},WQ={class:"data-item"},ZQ={class:"value"},KQ={class:"data-item"},JQ={class:"value"},YQ={class:"data-item full-width"},XQ={class:"value"},QQ={class:"section timeline-section"},eee={class:"timeline"},tee={key:0,class:"section contract-section"},nee={key:0,class:"contract-pending"},oee={class:"contract-actions"},iee=["disabled"],aee={class:"signature-section"},see={class:"signature-container"},ree={class:"signature-terms"},lee={class:"checkbox-container"},cee=["disabled"],uee={key:0},dee={key:1},fee={key:1,class:"contract-signed"},pee={class:"success-message"},hee={class:"firma-date"},mee=["disabled"],vee={key:1,class:"section completed-section"},gee={class:"completed-message"},_ee={key:0,class:"followups-section"},bee={class:"followups-list"},yee={class:"followup-type"},wee={class:"followup-date"},xee=["disabled"],Aee={key:2,class:"section rejected-section"},See={class:"rejected-message"},kee={key:0},Cee={__name:"AdoptionStatusQuery",setup(e){const t=un({tipo_documento:"",numero_documento:"",codigo_solicitud:""}),n=ve(!1),i=ve(null),s=ve(null),r=ve({firmado:!1,fecha_firma:null,contrato_url:null,seguimientos:[]}),l=ve(!1),c=ve(!1),d=ve(null),p=ve(!1),f=ve(!1);let v=!1,w=null;async function m(){var S,Q,U;if(!t.tipo_documento||!t.numero_documento){i.value="Por favor ingresa tu tipo y nmero de documento.";return}n.value=!0,i.value=null;try{const le=await lo.consultarAdopcionPublica(t.tipo_documento,t.numero_documento,t.codigo_solicitud||null),xe=le.data||le;if(!xe||Array.isArray(xe)&&xe.length===0){i.value="No se encontraron solicitudes de adopcin con los datos ingresados.";return}s.value=Array.isArray(xe)?xe[0]:xe,["aprobada","completada"].includes(s.value.estado)&&await y()}catch(le){console.error("Error al buscar adopcin:",le),((S=le.response)==null?void 0:S.status)===404?i.value="No se encontraron solicitudes de adopcin con los datos ingresados.":i.value=((U=(Q=le.response)==null?void 0:Q.data)==null?void 0:U.message)||"Error al buscar la solicitud. Intenta nuevamente."}finally{n.value=!1}}async function y(){var S;if((S=s.value)!=null&&S.id)try{const Q=await lo.fetchContractStatus(s.value.id),U=Q.data||Q;r.value={firmado:U.contrato_firmado||U.firmado||!1,fecha_firma:U.fecha_firma||null,contrato_url:U.contrato_url||null,seguimientos:U.seguimientos||[]},!r.value.firmado&&s.value.estado==="aprobada"&&(await _i(),k())}catch(Q){console.error("Error al cargar estado del contrato:",Q)}}async function A(){var S;if((S=s.value)!=null&&S.id){l.value=!0;try{const Q=await lo.downloadAdoptionContract(s.value.id),U=window.URL.createObjectURL(Q),le=document.createElement("a");le.href=U,le.download=`contrato-adopcion-${s.value.codigo||s.value.id}.pdf`,le.click(),window.URL.revokeObjectURL(U)}catch(Q){console.error("Error al descargar contrato:",Q),alert("Error al descargar el contrato. Intenta nuevamente.")}finally{l.value=!1}}}function N(){s.value=null,r.value={firmado:!1,fecha_firma:null,contrato_url:null,seguimientos:[]},p.value=!1,f.value=!1,i.value=null}function k(){if(!d.value)return;const S=d.value;S.width=S.offsetWidth,S.height=200,w=S.getContext("2d"),w.strokeStyle="#000",w.lineWidth=2,w.lineCap="round",w.lineJoin="round",w.fillStyle="#fff",w.fillRect(0,0,S.width,S.height)}function T(S){v=!0;const Q=d.value.getBoundingClientRect();w.beginPath(),w.moveTo(S.clientX-Q.left,S.clientY-Q.top)}function I(S){if(!v)return;const Q=d.value.getBoundingClientRect();w.lineTo(S.clientX-Q.left,S.clientY-Q.top),w.stroke(),f.value=!0}function j(){v=!1}function K(S){S.preventDefault();const Q=S.touches[0],U=d.value.getBoundingClientRect();v=!0,w.beginPath(),w.moveTo(Q.clientX-U.left,Q.clientY-U.top)}function W(S){if(S.preventDefault(),!v)return;const Q=S.touches[0],U=d.value.getBoundingClientRect();w.lineTo(Q.clientX-U.left,Q.clientY-U.top),w.stroke(),f.value=!0}function H(){!d.value||!w||(w.fillStyle="#fff",w.fillRect(0,0,d.value.width,d.value.height),f.value=!1)}async function F(){var S,Q,U;if(!((S=s.value)!=null&&S.id)||!f.value||!p.value){alert("Debes firmar y aceptar los trminos para continuar.");return}c.value=!0;try{const le=d.value.toDataURL("image/png");await lo.firmarContratoPublico(s.value.id,t.tipo_documento,t.numero_documento,le),window.$toast?window.$toast.success("Contrato firmado exitosamente","Felicitaciones! Tu adopcin ha sido completada."):alert("Contrato firmado exitosamente! Tu adopcin ha sido completada."),s.value.estado="completada",s.value.contrato_firmado=!0,await y()}catch(le){console.error("Error al firmar contrato:",le);const xe=((U=(Q=le.response)==null?void 0:Q.data)==null?void 0:U.message)||"Error al firmar el contrato. Intenta nuevamente.";window.$toast?window.$toast.error("Error",xe):alert(xe)}finally{c.value=!1}}function R(S){return S?new Date(S).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"}):"Sin fecha"}function z(S){return{solicitada:"Solicitud Recibida",pendiente:"Pendiente",en_evaluacion:"En Evaluacin",aprobada:"Aprobada",rechazada:"No Aprobada",completada:"Completada",revocada:"Revocada"}[S]||S}function x(S){return S==="macho"?"Macho":S==="hembra"?"Hembra":S||""}function $(S){return{pre_adopcion:"Pre-adopcin",seguimiento_1mes:"Seguimiento 1 mes",seguimiento_3meses:"Seguimiento 3 meses",seguimiento_6meses:"Seguimiento 6 meses",extraordinaria:"Extraordinaria"}[S]||S||""}function Z(S){var xe;const Q=["solicitada","en_evaluacion","aprobada","completada"],U=Q.indexOf((xe=s.value)==null?void 0:xe.estado);return Q.indexOf(S)<=U}function b(S){S.target.src="/images/placeholder-animal.jpg"}return Kn(()=>{var S;return(S=s.value)==null?void 0:S.estado},async S=>{S==="aprobada"&&!r.value.firmado&&(await _i(),k())}),(S,Q)=>{var U,le,xe,ke,Le,X,he,J,B,V,Y,ee,fe,ae,te,se;return D(),M("section",fQ,[s.value?(D(),M("div",AQ,[o("button",{onClick:N,class:"back-btn"},"  Nueva consulta "),o("div",SQ,[o("div",kQ,[o("div",CQ,[o("span",{class:ot(["status-badge",`status-${s.value.estado}`])},P(z(s.value.estado)),3),s.value.codigo?(D(),M("span",EQ,P(s.value.codigo),1)):_e("",!0)]),o("div",LQ,[Q[10]||(Q[10]=o("span",{class:"label"},"Fecha de solicitud:",-1)),o("span",NQ,P(R(s.value.fecha_solicitud)),1)])]),o("div",PQ,[Q[11]||(Q[11]=o("h3",{class:"section-title"},"Animal Solicitado",-1)),o("div",$Q,[o("div",TQ,[o("img",{src:((U=s.value.animal)==null?void 0:U.foto_url)||"/images/placeholder-animal.jpg",alt:(le=s.value.animal)==null?void 0:le.nombre,class:"animal-photo",onError:b},null,40,IQ)]),o("div",DQ,[o("h4",RQ,P(((xe=s.value.animal)==null?void 0:xe.nombre)||((ke=s.value.animal)==null?void 0:ke.codigo_unico)),1),o("div",OQ,[o("span",MQ,P((Le=s.value.animal)==null?void 0:Le.especie),1),o("span",FQ,P(((X=s.value.animal)==null?void 0:X.raza)||"Sin raza definida"),1),o("span",BQ,P(x((he=s.value.animal)==null?void 0:he.sexo)),1)]),(J=s.value.animal)!=null&&J.observaciones?(D(),M("p",jQ,P(s.value.animal.observaciones),1)):_e("",!0)])])]),o("div",zQ,[Q[17]||(Q[17]=o("h3",{class:"section-title"},"Tus Datos",-1)),o("div",UQ,[o("div",VQ,[Q[12]||(Q[12]=o("span",{class:"label"},"Nombre:",-1)),o("span",qQ,P((B=s.value.adoptante)==null?void 0:B.nombre_completo),1)]),o("div",HQ,[Q[13]||(Q[13]=o("span",{class:"label"},"Documento:",-1)),o("span",GQ,P((V=s.value.adoptante)==null?void 0:V.tipo_documento)+" "+P((Y=s.value.adoptante)==null?void 0:Y.numero_documento),1)]),o("div",WQ,[Q[14]||(Q[14]=o("span",{class:"label"},"Telfono:",-1)),o("span",ZQ,P((ee=s.value.adoptante)==null?void 0:ee.telefono),1)]),o("div",KQ,[Q[15]||(Q[15]=o("span",{class:"label"},"Email:",-1)),o("span",JQ,P((fe=s.value.adoptante)==null?void 0:fe.email),1)]),o("div",YQ,[Q[16]||(Q[16]=o("span",{class:"label"},"Direccin:",-1)),o("span",XQ,P((ae=s.value.adoptante)==null?void 0:ae.direccion),1)])])]),o("div",QQ,[Q[22]||(Q[22]=o("h3",{class:"section-title"},"Progreso de tu Adopcin",-1)),o("div",eee,[o("div",{class:ot(["timeline-item",{completed:Z("solicitada"),current:s.value.estado==="solicitada"}])},[...Q[18]||(Q[18]=[o("div",{class:"timeline-marker"},null,-1),o("div",{class:"timeline-content"},[o("h4",null,"Solicitud Recibida"),o("p",null,"Tu solicitud fue recibida y est en revisin.")],-1)])],2),o("div",{class:ot(["timeline-item",{completed:Z("en_evaluacion"),current:s.value.estado==="en_evaluacion"}])},[...Q[19]||(Q[19]=[o("div",{class:"timeline-marker"},null,-1),o("div",{class:"timeline-content"},[o("h4",null,"En Evaluacin"),o("p",null,"Estamos evaluando tu solicitud y programando visita domiciliaria.")],-1)])],2),o("div",{class:ot(["timeline-item",{completed:Z("aprobada"),current:s.value.estado==="aprobada"}])},[...Q[20]||(Q[20]=[o("div",{class:"timeline-marker"},null,-1),o("div",{class:"timeline-content"},[o("h4",null,"Aprobada"),o("p",null,"Tu solicitud fue aprobada! Firma el contrato para completar.")],-1)])],2),o("div",{class:ot(["timeline-item",{completed:Z("completada"),current:s.value.estado==="completada"}])},[...Q[21]||(Q[21]=[o("div",{class:"timeline-marker"},null,-1),o("div",{class:"timeline-content"},[o("h4",null,"Completada"),o("p",null,"Felicitaciones! La adopcin ha sido completada.")],-1)])],2)])]),s.value.estado==="aprobada"?(D(),M("div",tee,[Q[31]||(Q[31]=o("h3",{class:"section-title"},"Contrato de Adopcin",-1)),r.value.firmado?(D(),M("div",fee,[o("div",pee,[Q[28]||(Q[28]=o("div",{class:"success-icon"},"",-1)),Q[29]||(Q[29]=o("h4",null,"Contrato Firmado Exitosamente",-1)),Q[30]||(Q[30]=o("p",null,"El proceso de adopcin ha sido completado. Felicitaciones!",-1)),o("p",hee,"Firmado el: "+P(R(r.value.fecha_firma)),1)]),o("button",{onClick:A,class:"govco-btn govco-bg-marine",disabled:l.value}," Descargar Contrato Firmado ",8,mee)])):(D(),M("div",nee,[Q[27]||(Q[27]=o("div",{class:"contract-info-box"},[o("h4",null,"Tu adopcin ha sido aprobada"),o("p",null," Para completar el proceso de adopcin, debes firmar electrnicamente el contrato. Por favor, revisa el contrato y firma en el rea de abajo. ")],-1)),o("div",oee,[o("button",{onClick:A,class:"govco-btn govco-bg-marine",disabled:l.value}," Ver/Descargar Contrato PDF ",8,iee)]),o("div",aee,[Q[25]||(Q[25]=o("h4",{class:"signature-title"},"Firma Electrnica",-1)),Q[26]||(Q[26]=o("p",{class:"signature-instructions"}," Dibuja tu firma en el rea de abajo usando el mouse o tu dedo (en dispositivos tctiles). ",-1)),o("div",see,[o("canvas",{ref_key:"signatureCanvas",ref:d,class:"signature-canvas",onMousedown:T,onMousemove:I,onMouseup:j,onMouseleave:j,onTouchstart:K,onTouchmove:W,onTouchend:j},null,544),o("button",{onClick:H,class:"clear-signature-btn",type:"button"}," Limpiar ")]),o("div",ree,[o("label",lee,[$e(o("input",{type:"checkbox","onUpdate:modelValue":Q[3]||(Q[3]=de=>p.value=de)},null,512),[[Po,p.value]]),Q[23]||(Q[23]=o("span",{class:"checkmark"},null,-1)),Q[24]||(Q[24]=o("span",{class:"terms-text"}," He ledo y acepto los trminos y condiciones del contrato de adopcin responsable. Me comprometo a cumplir con todas las clusulas establecidas y a brindar los cuidados necesarios al animal adoptado. ",-1))])]),o("button",{onClick:F,class:"govco-btn govco-bg-elf-green submit-signature-btn",disabled:!p.value||!f.value||c.value},[c.value?(D(),M("span",uee,"Procesando firma...")):(D(),M("span",dee,"Firmar y Completar Adopcin"))],8,cee)])]))])):_e("",!0),s.value.estado==="completada"?(D(),M("div",vee,[o("div",gee,[Q[32]||(Q[32]=o("div",{class:"success-icon large"},"",-1)),Q[33]||(Q[33]=o("h3",null,"Adopcin Completada!",-1)),o("p",null," Gracias por darle un hogar a "+P(((te=s.value.animal)==null?void 0:te.nombre)||"tu nuevo compaero")+". Recuerda que realizaremos visitas de seguimiento para asegurar el bienestar del animal. ",1)]),((se=r.value.seguimientos)==null?void 0:se.length)>0?(D(),M("div",_ee,[Q[34]||(Q[34]=o("h4",null,"Visitas de Seguimiento Programadas",-1)),o("ul",bee,[(D(!0),M(rt,null,ht(r.value.seguimientos,de=>(D(),M("li",{key:de.id},[o("span",yee,P($(de.tipo_visita)),1),o("span",wee,P(R(de.fecha_programada)),1),o("span",{class:ot(["followup-status",de.realizada?"done":"pending"])},P(de.realizada?"Realizada":"Pendiente"),3)]))),128))])])):_e("",!0),o("button",{onClick:A,class:"govco-btn govco-bg-marine",disabled:l.value}," Descargar Contrato ",8,xee)])):_e("",!0),s.value.estado==="rechazada"?(D(),M("div",Aee,[o("div",See,[Q[36]||(Q[36]=o("div",{class:"rejected-icon"},"",-1)),Q[37]||(Q[37]=o("h3",null,"Solicitud No Aprobada",-1)),s.value.motivo_rechazo?(D(),M("p",kee,[Q[35]||(Q[35]=o("strong",null,"Motivo:",-1)),je(" "+P(s.value.motivo_rechazo),1)])):_e("",!0),Q[38]||(Q[38]=o("p",null," Puedes volver a aplicar para otra adopcin en cualquier momento. Si tienes preguntas, contctanos. ",-1))])])):_e("",!0)])])):(D(),M("div",pQ,[o("div",hQ,[Q[9]||(Q[9]=o("div",{class:"query-header"},[o("h2",{class:"h3-tipografia-govco govcolor-blue-dark"},"Consulta tu Solicitud de Adopcin"),o("p",{class:"text2-tipografia-govco"}," Ingresa tu nmero de documento y el cdigo de la solicitud para ver el estado de tu adopcin. ")],-1)),o("form",{onSubmit:Tt(m,["prevent"]),class:"query-form"},[o("div",mQ,[o("div",vQ,[Q[5]||(Q[5]=o("label",{for:"tipoDocumento"},"Tipo de documento",-1)),$e(o("select",{id:"tipoDocumento","onUpdate:modelValue":Q[0]||(Q[0]=de=>t.tipo_documento=de),required:""},[...Q[4]||(Q[4]=[Bt('<option value="" data-v-b8d321f8>Seleccione...</option><option value="CC" data-v-b8d321f8>Cdula de Ciudadana</option><option value="CE" data-v-b8d321f8>Cdula de Extranjera</option><option value="TI" data-v-b8d321f8>Tarjeta de Identidad</option><option value="PP" data-v-b8d321f8>Pasaporte</option>',5)])],512),[[yt,t.tipo_documento]])]),o("div",gQ,[Q[6]||(Q[6]=o("label",{for:"numeroDocumento"},"Nmero de documento",-1)),$e(o("input",{type:"text",id:"numeroDocumento","onUpdate:modelValue":Q[1]||(Q[1]=de=>t.numero_documento=de),placeholder:"Ej: 1234567890",required:""},null,512),[[lt,t.numero_documento]])])]),o("div",_Q,[Q[7]||(Q[7]=o("label",{for:"codigoSolicitud"},"Cdigo de solicitud (opcional)",-1)),$e(o("input",{type:"text",id:"codigoSolicitud","onUpdate:modelValue":Q[2]||(Q[2]=de=>t.codigo_solicitud=de),placeholder:"Ej: ADOP-2025-001"},null,512),[[lt,t.codigo_solicitud]]),Q[8]||(Q[8]=o("small",{class:"form-hint"},"Si no tienes el cdigo, se buscarn todas tus solicitudes.",-1))]),o("button",{type:"submit",class:"govco-btn govco-bg-marine query-btn",disabled:n.value},[n.value?(D(),M("span",yQ,"Buscando...")):(D(),M("span",wQ,"Consultar"))],8,bQ)],32),i.value?(D(),M("div",xQ,P(i.value),1)):_e("",!0)])]))])}}},Eee=It(Cee,[["__scopeId","data-v-b8d321f8"]]),Lee=[{path:"/sso/callback",name:"sso-callback",component:dQ,meta:{requiresAuth:!1}},{path:"/",name:"home",component:xx,meta:{title:"Inicio - Sistema Bienestar Animal",requiresAuth:!1,layout:"public"}},{path:"/login",name:"login",component:Kx,meta:{title:"Iniciar Sesin - Sistema Bienestar Animal",requiresAuth:!1,layout:"public"}},{path:"/dashboard",name:"dashboard",component:$6,meta:{title:"Panel Principal - Sistema Bienestar Animal",requiresAuth:!0,layout:"app",roles:[bt.OPERADOR_RESCATE,bt.MEDICO_VETERINARIO,bt.COORDINADOR_ADOPCIONES,bt.ADMIN_SISTEMA,bt.DIRECTOR]}},{path:"/animales",name:"animals",component:o7,meta:{title:"Gestin de Animales - Sistema Bienestar Animal",requiresAuth:!0,layout:"app",roles:[bt.OPERADOR_RESCATE,bt.MEDICO_VETERINARIO,bt.COORDINADOR_ADOPCIONES,bt.ADMIN_SISTEMA]}},{path:"/veterinaria",name:"veterinary",component:t9,meta:{title:"Atencin Veterinaria - Sistema Bienestar Animal",requiresAuth:!0,layout:"app",roles:[bt.MEDICO_VETERINARIO,bt.ADMIN_SISTEMA]}},{path:"/denuncias",name:"complaints",component:JB,meta:{title:"Denuncias y Rescate - Sistema Bienestar Animal",requiresAuth:!1,layout:"app"}},{path:"/adopciones",name:"adoptions",component:tU,meta:{title:"Adopciones - Sistema Bienestar Animal",requiresAuth:!1,layout:"app"}},{path:"/adopciones/consultar",name:"adoption-status-query",component:Eee,meta:{title:"Consultar Estado de Adopcin - Sistema Bienestar Animal",requiresAuth:!1,layout:"app"}},{path:"/adopciones/coordinador",name:"adoptions-coordinator",component:oQ,meta:{title:"Gestin de Adopciones - Sistema Bienestar Animal",requiresAuth:!0,layout:"app",roles:[bt.COORDINADOR_ADOPCIONES,bt.ADMIN_SISTEMA]}},{path:"/administracion",name:"admin",component:oZ,meta:{title:"Administracin - Sistema Bienestar Animal",requiresAuth:!0,layout:"app",roles:[bt.ADMIN_SISTEMA]}},{path:"/:pathMatch(.*)*",name:"not-found",redirect:"/"}],vd=Hy({history:Sy(),routes:Lee,scrollBehavior(e,t,n){return n||{top:0}}});vd.beforeEach((e,t,n)=>{document.title=e.meta.title||"Sistema Bienestar Animal";const i=Ky(),s=i!==bt.CIUDADANO;if(console.log(" Router Guard:",{to:e.path,from:t.path,role:i,isInternalRole:s,requiresAuth:e.meta.requiresAuth,metaRoles:e.meta.roles}),e.meta.requiresAuth&&!s)return console.log(" Bloqueado: requiresAuth pero no es rol interno"),e.name==="adoptions-coordinator"?n({name:"adoptions"}):n({name:"home"});if(e.meta.roles&&e.meta.roles.length){const r=e.meta.roles.includes(i);if(console.log(" Validando roles:",{allowed:r,role:i,metaRoles:e.meta.roles}),!r)return i===bt.CIUDADANO?n({name:"home"}):n({name:"dashboard"})}console.log(" Navegacin permitida a:",e.path),n()});function op(){if(!(typeof window>"u"))try{typeof window.initInput=="function"&&window.initInput(),typeof window.initDropDown=="function"&&window.initDropDown(),typeof window.initSearchBar=="function"&&window.initSearchBar(),typeof window.initMenu=="function"&&window.initMenu(),document.querySelectorAll('[data-type="basic"]').forEach(t=>{if(window.createList&&t.id)try{window.createList(t.id)}catch{}}),console.log(" GOV.CO components initialized")}catch(e){console.error(" Error initializing GOV.CO:",e)}}function _1(e,t=50){let n=0;const i=setInterval(()=>{n++,typeof window.govco<"u"||typeof window.initInput<"u"||typeof window.createList<"u"?(clearInterval(i),console.log(" GOV.CO CDN loaded"),e()):n>=t&&(clearInterval(i),console.warn(" GOV.CO CDN timeout, continuing anyway"),e())},100)}function b1(){const e=T5(K4),t=R5();e.use(t),e.use(vd),gu().initAuth(),window.reinitGovCo=op,e.mount("#app"),vd.isReady().then(()=>{setTimeout(()=>{op()},200)}),vd.afterEach(()=>{setTimeout(()=>{op()},300)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{_1(b1)}):_1(b1);export{$n as _,AS as c,SS as g};
